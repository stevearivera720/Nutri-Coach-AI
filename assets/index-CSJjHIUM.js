(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=i(a);fetch(a.href,d)}})();function ra(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function op(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var r=u.default;if(typeof r=="function"){var i=function o(){var a=!1;try{a=this instanceof o}catch{}return a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var a=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return u[o]}})}),i}var bl={exports:{}},ci={},Ol={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed;function lp(){if(ed)return ue;ed=1;var u=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),k=Symbol.iterator;function E(v){return v===null||typeof v!="object"?null:(v=k&&v[k]||v["@@iterator"],typeof v=="function"?v:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,I={};function A(v,T,F){this.props=v,this.context=T,this.refs=I,this.updater=F||b}A.prototype.isReactComponent={},A.prototype.setState=function(v,T){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,T,"setState")},A.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function ee(){}ee.prototype=A.prototype;function Y(v,T,F){this.props=v,this.context=T,this.refs=I,this.updater=F||b}var z=Y.prototype=new ee;z.constructor=Y,O(z,A.prototype),z.isPureReactComponent=!0;var B=Array.isArray,ae=Object.prototype.hasOwnProperty,V={current:null},ie={key:!0,ref:!0,__self:!0,__source:!0};function fe(v,T,F){var M,H={},R=null,X=null;if(T!=null)for(M in T.ref!==void 0&&(X=T.ref),T.key!==void 0&&(R=""+T.key),T)ae.call(T,M)&&!ie.hasOwnProperty(M)&&(H[M]=T[M]);var de=arguments.length-2;if(de===1)H.children=F;else if(1<de){for(var oe=Array(de),we=0;we<de;we++)oe[we]=arguments[we+2];H.children=oe}if(v&&v.defaultProps)for(M in de=v.defaultProps,de)H[M]===void 0&&(H[M]=de[M]);return{$$typeof:u,type:v,key:R,ref:X,props:H,_owner:V.current}}function Ie(v,T){return{$$typeof:u,type:v.type,key:T,ref:v.ref,props:v.props,_owner:v._owner}}function ye(v){return typeof v=="object"&&v!==null&&v.$$typeof===u}function lt(v){var T={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(F){return T[F]})}var me=/\/+/g;function Me(v,T){return typeof v=="object"&&v!==null&&v.key!=null?lt(""+v.key):T.toString(36)}function Le(v,T,F,M,H){var R=typeof v;(R==="undefined"||R==="boolean")&&(v=null);var X=!1;if(v===null)X=!0;else switch(R){case"string":case"number":X=!0;break;case"object":switch(v.$$typeof){case u:case r:X=!0}}if(X)return X=v,H=H(X),v=M===""?"."+Me(X,0):M,B(H)?(F="",v!=null&&(F=v.replace(me,"$&/")+"/"),Le(H,T,F,"",function(we){return we})):H!=null&&(ye(H)&&(H=Ie(H,F+(!H.key||X&&X.key===H.key?"":(""+H.key).replace(me,"$&/")+"/")+v)),T.push(H)),1;if(X=0,M=M===""?".":M+":",B(v))for(var de=0;de<v.length;de++){R=v[de];var oe=M+Me(R,de);X+=Le(R,T,F,oe,H)}else if(oe=E(v),typeof oe=="function")for(v=oe.call(v),de=0;!(R=v.next()).done;)R=R.value,oe=M+Me(R,de++),X+=Le(R,T,F,oe,H);else if(R==="object")throw T=String(v),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return X}function Te(v,T,F){if(v==null)return v;var M=[],H=0;return Le(v,M,"","",function(R){return T.call(F,R,H++)}),M}function Se(v){if(v._status===-1){var T=v._result;T=T(),T.then(function(F){(v._status===0||v._status===-1)&&(v._status=1,v._result=F)},function(F){(v._status===0||v._status===-1)&&(v._status=2,v._result=F)}),v._status===-1&&(v._status=0,v._result=T)}if(v._status===1)return v._result.default;throw v._result}var he={current:null},U={transition:null},Z={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:U,ReactCurrentOwner:V};function W(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:Te,forEach:function(v,T,F){Te(v,function(){T.apply(this,arguments)},F)},count:function(v){var T=0;return Te(v,function(){T++}),T},toArray:function(v){return Te(v,function(T){return T})||[]},only:function(v){if(!ye(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},ue.Component=A,ue.Fragment=i,ue.Profiler=a,ue.PureComponent=Y,ue.StrictMode=o,ue.Suspense=g,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,ue.act=W,ue.cloneElement=function(v,T,F){if(v==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+v+".");var M=O({},v.props),H=v.key,R=v.ref,X=v._owner;if(T!=null){if(T.ref!==void 0&&(R=T.ref,X=V.current),T.key!==void 0&&(H=""+T.key),v.type&&v.type.defaultProps)var de=v.type.defaultProps;for(oe in T)ae.call(T,oe)&&!ie.hasOwnProperty(oe)&&(M[oe]=T[oe]===void 0&&de!==void 0?de[oe]:T[oe])}var oe=arguments.length-2;if(oe===1)M.children=F;else if(1<oe){de=Array(oe);for(var we=0;we<oe;we++)de[we]=arguments[we+2];M.children=de}return{$$typeof:u,type:v.type,key:H,ref:R,props:M,_owner:X}},ue.createContext=function(v){return v={$$typeof:f,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},v.Provider={$$typeof:d,_context:v},v.Consumer=v},ue.createElement=fe,ue.createFactory=function(v){var T=fe.bind(null,v);return T.type=v,T},ue.createRef=function(){return{current:null}},ue.forwardRef=function(v){return{$$typeof:p,render:v}},ue.isValidElement=ye,ue.lazy=function(v){return{$$typeof:y,_payload:{_status:-1,_result:v},_init:Se}},ue.memo=function(v,T){return{$$typeof:m,type:v,compare:T===void 0?null:T}},ue.startTransition=function(v){var T=U.transition;U.transition={};try{v()}finally{U.transition=T}},ue.unstable_act=W,ue.useCallback=function(v,T){return he.current.useCallback(v,T)},ue.useContext=function(v){return he.current.useContext(v)},ue.useDebugValue=function(){},ue.useDeferredValue=function(v){return he.current.useDeferredValue(v)},ue.useEffect=function(v,T){return he.current.useEffect(v,T)},ue.useId=function(){return he.current.useId()},ue.useImperativeHandle=function(v,T,F){return he.current.useImperativeHandle(v,T,F)},ue.useInsertionEffect=function(v,T){return he.current.useInsertionEffect(v,T)},ue.useLayoutEffect=function(v,T){return he.current.useLayoutEffect(v,T)},ue.useMemo=function(v,T){return he.current.useMemo(v,T)},ue.useReducer=function(v,T,F){return he.current.useReducer(v,T,F)},ue.useRef=function(v){return he.current.useRef(v)},ue.useState=function(v){return he.current.useState(v)},ue.useSyncExternalStore=function(v,T,F){return he.current.useSyncExternalStore(v,T,F)},ue.useTransition=function(){return he.current.useTransition()},ue.version="18.3.1",ue}var td;function wi(){return td||(td=1,Ol.exports=lp()),Ol.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd;function ap(){if(nd)return ci;nd=1;var u=wi(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,m){var y,k={},E=null,b=null;m!==void 0&&(E=""+m),g.key!==void 0&&(E=""+g.key),g.ref!==void 0&&(b=g.ref);for(y in g)o.call(g,y)&&!d.hasOwnProperty(y)&&(k[y]=g[y]);if(p&&p.defaultProps)for(y in g=p.defaultProps,g)k[y]===void 0&&(k[y]=g[y]);return{$$typeof:r,type:p,key:E,ref:b,props:k,_owner:a.current}}return ci.Fragment=i,ci.jsx=f,ci.jsxs=f,ci}var rd;function up(){return rd||(rd=1,bl.exports=ap()),bl.exports}var _=up(),re=wi();const Wd=ra(re);var Os={},Il={exports:{}},ot={},Al={exports:{}},Rl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id;function cp(){return id||(id=1,(function(u){function r(U,Z){var W=U.length;U.push(Z);e:for(;0<W;){var v=W-1>>>1,T=U[v];if(0<a(T,Z))U[v]=Z,U[W]=T,W=v;else break e}}function i(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var Z=U[0],W=U.pop();if(W!==Z){U[0]=W;e:for(var v=0,T=U.length,F=T>>>1;v<F;){var M=2*(v+1)-1,H=U[M],R=M+1,X=U[R];if(0>a(H,W))R<T&&0>a(X,H)?(U[v]=X,U[R]=W,v=R):(U[v]=H,U[M]=W,v=M);else if(R<T&&0>a(X,W))U[v]=X,U[R]=W,v=R;else break e}}return Z}function a(U,Z){var W=U.sortIndex-Z.sortIndex;return W!==0?W:U.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();u.unstable_now=function(){return f.now()-p}}var g=[],m=[],y=1,k=null,E=3,b=!1,O=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(U){for(var Z=i(m);Z!==null;){if(Z.callback===null)o(m);else if(Z.startTime<=U)o(m),Z.sortIndex=Z.expirationTime,r(g,Z);else break;Z=i(m)}}function B(U){if(I=!1,z(U),!O)if(i(g)!==null)O=!0,Se(ae);else{var Z=i(m);Z!==null&&he(B,Z.startTime-U)}}function ae(U,Z){O=!1,I&&(I=!1,ee(fe),fe=-1),b=!0;var W=E;try{for(z(Z),k=i(g);k!==null&&(!(k.expirationTime>Z)||U&&!lt());){var v=k.callback;if(typeof v=="function"){k.callback=null,E=k.priorityLevel;var T=v(k.expirationTime<=Z);Z=u.unstable_now(),typeof T=="function"?k.callback=T:k===i(g)&&o(g),z(Z)}else o(g);k=i(g)}if(k!==null)var F=!0;else{var M=i(m);M!==null&&he(B,M.startTime-Z),F=!1}return F}finally{k=null,E=W,b=!1}}var V=!1,ie=null,fe=-1,Ie=5,ye=-1;function lt(){return!(u.unstable_now()-ye<Ie)}function me(){if(ie!==null){var U=u.unstable_now();ye=U;var Z=!0;try{Z=ie(!0,U)}finally{Z?Me():(V=!1,ie=null)}}else V=!1}var Me;if(typeof Y=="function")Me=function(){Y(me)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Te=Le.port2;Le.port1.onmessage=me,Me=function(){Te.postMessage(null)}}else Me=function(){A(me,0)};function Se(U){ie=U,V||(V=!0,Me())}function he(U,Z){fe=A(function(){U(u.unstable_now())},Z)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(U){U.callback=null},u.unstable_continueExecution=function(){O||b||(O=!0,Se(ae))},u.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<U?Math.floor(1e3/U):5},u.unstable_getCurrentPriorityLevel=function(){return E},u.unstable_getFirstCallbackNode=function(){return i(g)},u.unstable_next=function(U){switch(E){case 1:case 2:case 3:var Z=3;break;default:Z=E}var W=E;E=Z;try{return U()}finally{E=W}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=E;E=U;try{return Z()}finally{E=W}},u.unstable_scheduleCallback=function(U,Z,W){var v=u.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?v+W:v):W=v,U){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=W+T,U={id:y++,callback:Z,priorityLevel:U,startTime:W,expirationTime:T,sortIndex:-1},W>v?(U.sortIndex=W,r(m,U),i(g)===null&&U===i(m)&&(I?(ee(fe),fe=-1):I=!0,he(B,W-v))):(U.sortIndex=T,r(g,U),O||b||(O=!0,Se(ae))),U},u.unstable_shouldYield=lt,u.unstable_wrapCallback=function(U){var Z=E;return function(){var W=E;E=Z;try{return U.apply(this,arguments)}finally{E=W}}}})(Rl)),Rl}var sd;function dp(){return sd||(sd=1,Al.exports=cp()),Al.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od;function fp(){if(od)return ot;od=1;var u=wi(),r=dp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function d(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},k={};function E(e){return g.call(k,e)?!0:g.call(y,e)?!1:m.test(e)?k[e]=!0:(y[e]=!0,!1)}function b(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,n,s){if(t===null||typeof t>"u"||b(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function I(e,t,n,s,l,c,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=h}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new I(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];A[t]=new I(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new I(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new I(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new I(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new I(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new I(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new I(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new I(e,5,!1,e.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ee,Y);A[t]=new I(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ee,Y);A[t]=new I(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ee,Y);A[t]=new I(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new I(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new I(e,1,!1,e.toLowerCase(),null,!0,!0)});function z(e,t,n,s){var l=A.hasOwnProperty(t)?A[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,n,l,s)&&(n=null),s||l===null?E(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var B=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),V=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),Ie=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),lt=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),U=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,v;function T(e){if(v===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);v=t&&t[1]||""}return`
`+v+e}var F=!1;function M(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var s=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){s=P}e.call(t.prototype)}else{try{throw Error()}catch(P){s=P}e()}}catch(P){if(P&&s&&typeof P.stack=="string"){for(var l=P.stack.split(`
`),c=s.stack.split(`
`),h=l.length-1,w=c.length-1;1<=h&&0<=w&&l[h]!==c[w];)w--;for(;1<=h&&0<=w;h--,w--)if(l[h]!==c[w]){if(h!==1||w!==1)do if(h--,w--,0>w||l[h]!==c[w]){var S=`
`+l[h].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=h&&0<=w);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?T(e):""}function H(e){switch(e.tag){case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1),e;case 11:return e=M(e.type.render,!1),e;case 1:return e=M(e.type,!0),e;default:return""}}function R(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case V:return"Portal";case Ie:return"Profiler";case fe:return"StrictMode";case Me:return"Suspense";case Le:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lt:return(e.displayName||"Context")+".Consumer";case ye:return(e._context.displayName||"Context")+".Provider";case me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Te:return t=e.displayName||null,t!==null?t:R(e.type)||"Memo";case Se:t=e._payload,e=e._init;try{return R(e(t))}catch{}}return null}function X(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(t);case 8:return t===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function we(e){var t=oe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){s=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kt(e){e._valueTracker||(e._valueTracker=we(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=oe(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ye(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wn(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ft(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=de(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zn(e,t){t=t.checked,t!=null&&z(e,"checked",t,!1)}function Jt(e,t){zn(e,t);var n=de(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jr(e,t.type,n):t.hasOwnProperty("defaultValue")&&jr(e,t.type,de(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Si(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jr(e,t,n){(t!=="number"||Ye(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Un=Array.isArray;function Pt(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+de(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Lt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ca(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(Un(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:de(n)}}function da(e,t){var n=de(t.value),s=de(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function fa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ha(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Us(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ha(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ki,pa=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ki=ki||document.createElement("div"),ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cf=["Webkit","ms","Moz","O"];Object.keys(Tr).forEach(function(e){cf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tr[t]=Tr[e]})});function ga(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Tr.hasOwnProperty(e)&&Tr[e]?(""+t).trim():t+"px"}function ma(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=ga(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var df=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ms(e,t){if(t){if(df[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Fs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bs=null;function Ws(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hs=null,Mn=null,Fn=null;function va(e){if(e=Gr(e)){if(typeof Hs!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Vi(t),Hs(e.stateNode,e.type,t))}}function ya(e){Mn?Fn?Fn.push(e):Fn=[e]:Mn=e}function wa(){if(Mn){var e=Mn,t=Fn;if(Fn=Mn=null,va(e),t)for(e=0;e<t.length;e++)va(t[e])}}function _a(e,t){return e(t)}function Sa(){}var Vs=!1;function ka(e,t,n){if(Vs)return e(t,n);Vs=!0;try{return _a(e,t,n)}finally{Vs=!1,(Mn!==null||Fn!==null)&&(Sa(),wa())}}function Pr(e,t){var n=e.stateNode;if(n===null)return null;var s=Vi(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var qs=!1;if(p)try{var br={};Object.defineProperty(br,"passive",{get:function(){qs=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{qs=!1}function ff(e,t,n,s,l,c,h,w,S){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch(L){this.onError(L)}}var Or=!1,xi=null,Ei=!1,Ks=null,hf={onError:function(e){Or=!0,xi=e}};function pf(e,t,n,s,l,c,h,w,S){Or=!1,xi=null,ff.apply(hf,arguments)}function gf(e,t,n,s,l,c,h,w,S){if(pf.apply(this,arguments),Or){if(Or){var P=xi;Or=!1,xi=null}else throw Error(i(198));Ei||(Ei=!0,Ks=P)}}function _n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xa(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ea(e){if(_n(e)!==e)throw Error(i(188))}function mf(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return Ea(l),e;if(c===s)return Ea(l),t;c=c.sibling}throw Error(i(188))}if(n.return!==s.return)n=l,s=c;else{for(var h=!1,w=l.child;w;){if(w===n){h=!0,n=l,s=c;break}if(w===s){h=!0,s=l,n=c;break}w=w.sibling}if(!h){for(w=c.child;w;){if(w===n){h=!0,n=c,s=l;break}if(w===s){h=!0,s=c,n=l;break}w=w.sibling}if(!h)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function ja(e){return e=mf(e),e!==null?Ca(e):null}function Ca(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ca(e);if(t!==null)return t;e=e.sibling}return null}var Ta=r.unstable_scheduleCallback,Pa=r.unstable_cancelCallback,vf=r.unstable_shouldYield,yf=r.unstable_requestPaint,Ae=r.unstable_now,wf=r.unstable_getCurrentPriorityLevel,Js=r.unstable_ImmediatePriority,ba=r.unstable_UserBlockingPriority,ji=r.unstable_NormalPriority,_f=r.unstable_LowPriority,Oa=r.unstable_IdlePriority,Ci=null,bt=null;function Sf(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Ci,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:Ef,kf=Math.log,xf=Math.LN2;function Ef(e){return e>>>=0,e===0?32:31-(kf(e)/xf|0)|0}var Ti=64,Pi=4194304;function Ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bi(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,c=e.pingedLanes,h=n&268435455;if(h!==0){var w=h&~l;w!==0?s=Ir(w):(c&=h,c!==0&&(s=Ir(c)))}else h=n&~l,h!==0?s=Ir(h):c!==0&&(s=Ir(c));if(s===0)return 0;if(t!==0&&t!==s&&(t&l)===0&&(l=s&-s,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-wt(t),l=1<<n,s|=e[n],t&=~l;return s}function jf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var h=31-wt(c),w=1<<h,S=l[h];S===-1?((w&n)===0||(w&s)!==0)&&(l[h]=jf(w,t)):S<=t&&(e.expiredLanes|=w),c&=~w}}function Gs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ia(){var e=Ti;return Ti<<=1,(Ti&4194240)===0&&(Ti=64),e}function Qs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ar(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function Tf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-wt(n),c=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~c}}function Ys(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-wt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var ve=0;function Aa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ra,Xs,Na,La,$a,Zs=!1,Oi=[],Gt=null,Qt=null,Yt=null,Rr=new Map,Nr=new Map,Xt=[],Pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Da(e,t){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Rr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(t.pointerId)}}function Lr(e,t,n,s,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:c,targetContainers:[l]},t!==null&&(t=Gr(t),t!==null&&Xs(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function bf(e,t,n,s,l){switch(t){case"focusin":return Gt=Lr(Gt,e,t,n,s,l),!0;case"dragenter":return Qt=Lr(Qt,e,t,n,s,l),!0;case"mouseover":return Yt=Lr(Yt,e,t,n,s,l),!0;case"pointerover":var c=l.pointerId;return Rr.set(c,Lr(Rr.get(c)||null,e,t,n,s,l)),!0;case"gotpointercapture":return c=l.pointerId,Nr.set(c,Lr(Nr.get(c)||null,e,t,n,s,l)),!0}return!1}function za(e){var t=Sn(e.target);if(t!==null){var n=_n(t);if(n!==null){if(t=n.tag,t===13){if(t=xa(n),t!==null){e.blockedOn=t,$a(e.priority,function(){Na(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=to(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Bs=s,n.target.dispatchEvent(s),Bs=null}else return t=Gr(n),t!==null&&Xs(t),e.blockedOn=n,!1;t.shift()}return!0}function Ua(e,t,n){Ii(e)&&n.delete(t)}function Of(){Zs=!1,Gt!==null&&Ii(Gt)&&(Gt=null),Qt!==null&&Ii(Qt)&&(Qt=null),Yt!==null&&Ii(Yt)&&(Yt=null),Rr.forEach(Ua),Nr.forEach(Ua)}function $r(e,t){e.blockedOn===t&&(e.blockedOn=null,Zs||(Zs=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Of)))}function Dr(e){function t(l){return $r(l,e)}if(0<Oi.length){$r(Oi[0],e);for(var n=1;n<Oi.length;n++){var s=Oi[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Gt!==null&&$r(Gt,e),Qt!==null&&$r(Qt,e),Yt!==null&&$r(Yt,e),Rr.forEach(t),Nr.forEach(t),n=0;n<Xt.length;n++)s=Xt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)za(n),n.blockedOn===null&&Xt.shift()}var Bn=B.ReactCurrentBatchConfig,Ai=!0;function If(e,t,n,s){var l=ve,c=Bn.transition;Bn.transition=null;try{ve=1,eo(e,t,n,s)}finally{ve=l,Bn.transition=c}}function Af(e,t,n,s){var l=ve,c=Bn.transition;Bn.transition=null;try{ve=4,eo(e,t,n,s)}finally{ve=l,Bn.transition=c}}function eo(e,t,n,s){if(Ai){var l=to(e,t,n,s);if(l===null)wo(e,t,s,Ri,n),Da(e,s);else if(bf(l,e,t,n,s))s.stopPropagation();else if(Da(e,s),t&4&&-1<Pf.indexOf(e)){for(;l!==null;){var c=Gr(l);if(c!==null&&Ra(c),c=to(e,t,n,s),c===null&&wo(e,t,s,Ri,n),c===l)break;l=c}l!==null&&s.stopPropagation()}else wo(e,t,s,null,n)}}var Ri=null;function to(e,t,n,s){if(Ri=null,e=Ws(s),e=Sn(e),e!==null)if(t=_n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xa(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ri=e,null}function Ma(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wf()){case Js:return 1;case ba:return 4;case ji:case _f:return 16;case Oa:return 536870912;default:return 16}default:return 16}}var Zt=null,no=null,Ni=null;function Fa(){if(Ni)return Ni;var e,t=no,n=t.length,s,l="value"in Zt?Zt.value:Zt.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var h=n-e;for(s=1;s<=h&&t[n-s]===l[c-s];s++);return Ni=l.slice(e,1<s?1-s:void 0)}function Li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function Ba(){return!1}function at(e){function t(n,s,l,c,h){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(c):c[w]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?$i:Ba,this.isPropagationStopped=Ba,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),t}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=at(Wn),zr=W({},Wn,{view:0,detail:0}),Rf=at(zr),io,so,Ur,Di=W({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(io=e.screenX-Ur.screenX,so=e.screenY-Ur.screenY):so=io=0,Ur=e),io)},movementY:function(e){return"movementY"in e?e.movementY:so}}),Wa=at(Di),Nf=W({},Di,{dataTransfer:0}),Lf=at(Nf),$f=W({},zr,{relatedTarget:0}),oo=at($f),Df=W({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),zf=at(Df),Uf=W({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mf=at(Uf),Ff=W({},Wn,{data:0}),Ha=at(Ff),Bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hf[e])?!!t[e]:!1}function lo(){return Vf}var qf=W({},zr,{key:function(e){if(e.key){var t=Bf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(e){return e.type==="keypress"?Li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kf=at(qf),Jf=W({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Va=at(Jf),Gf=W({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),Qf=at(Gf),Yf=W({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xf=at(Yf),Zf=W({},Di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eh=at(Zf),th=[9,13,27,32],ao=p&&"CompositionEvent"in window,Mr=null;p&&"documentMode"in document&&(Mr=document.documentMode);var nh=p&&"TextEvent"in window&&!Mr,qa=p&&(!ao||Mr&&8<Mr&&11>=Mr),Ka=" ",Ja=!1;function Ga(e,t){switch(e){case"keyup":return th.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function rh(e,t){switch(e){case"compositionend":return Qa(t);case"keypress":return t.which!==32?null:(Ja=!0,Ka);case"textInput":return e=t.data,e===Ka&&Ja?null:e;default:return null}}function ih(e,t){if(Hn)return e==="compositionend"||!ao&&Ga(e,t)?(e=Fa(),Ni=no=Zt=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qa&&t.locale!=="ko"?null:t.data;default:return null}}var sh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sh[e.type]:t==="textarea"}function Xa(e,t,n,s){ya(s),t=Bi(t,"onChange"),0<t.length&&(n=new ro("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Fr=null,Br=null;function oh(e){mu(e,0)}function zi(e){var t=Gn(e);if(_e(t))return e}function lh(e,t){if(e==="change")return t}var Za=!1;if(p){var uo;if(p){var co="oninput"in document;if(!co){var eu=document.createElement("div");eu.setAttribute("oninput","return;"),co=typeof eu.oninput=="function"}uo=co}else uo=!1;Za=uo&&(!document.documentMode||9<document.documentMode)}function tu(){Fr&&(Fr.detachEvent("onpropertychange",nu),Br=Fr=null)}function nu(e){if(e.propertyName==="value"&&zi(Br)){var t=[];Xa(t,Br,e,Ws(e)),ka(oh,t)}}function ah(e,t,n){e==="focusin"?(tu(),Fr=t,Br=n,Fr.attachEvent("onpropertychange",nu)):e==="focusout"&&tu()}function uh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(Br)}function ch(e,t){if(e==="click")return zi(t)}function dh(e,t){if(e==="input"||e==="change")return zi(t)}function fh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:fh;function Wr(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!g.call(t,l)||!_t(e[l],t[l]))return!1}return!0}function ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iu(e,t){var n=ru(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ru(n)}}function su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ou(){for(var e=window,t=Ye();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ye(e.document)}return t}function fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hh(e){var t=ou(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&su(n.ownerDocument.documentElement,n)){if(s!==null&&fo(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,c=Math.min(s.start,l);s=s.end===void 0?c:Math.min(s.end,l),!e.extend&&c>s&&(l=s,s=c,c=l),l=iu(n,c);var h=iu(n,s);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ph=p&&"documentMode"in document&&11>=document.documentMode,Vn=null,ho=null,Hr=null,po=!1;function lu(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;po||Vn==null||Vn!==Ye(s)||(s=Vn,"selectionStart"in s&&fo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Hr&&Wr(Hr,s)||(Hr=s,s=Bi(ho,"onSelect"),0<s.length&&(t=new ro("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Vn)))}function Ui(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qn={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},go={},au={};p&&(au=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function Mi(e){if(go[e])return go[e];if(!qn[e])return e;var t=qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in au)return go[e]=t[n];return e}var uu=Mi("animationend"),cu=Mi("animationiteration"),du=Mi("animationstart"),fu=Mi("transitionend"),hu=new Map,pu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){hu.set(e,t),d(t,[e])}for(var mo=0;mo<pu.length;mo++){var vo=pu[mo],gh=vo.toLowerCase(),mh=vo[0].toUpperCase()+vo.slice(1);en(gh,"on"+mh)}en(uu,"onAnimationEnd"),en(cu,"onAnimationIteration"),en(du,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(fu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vr));function gu(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,gf(s,t,void 0,e),e.currentTarget=null}function mu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var h=s.length-1;0<=h;h--){var w=s[h],S=w.instance,P=w.currentTarget;if(w=w.listener,S!==c&&l.isPropagationStopped())break e;gu(l,w,P),c=S}else for(h=0;h<s.length;h++){if(w=s[h],S=w.instance,P=w.currentTarget,w=w.listener,S!==c&&l.isPropagationStopped())break e;gu(l,w,P),c=S}}}if(Ei)throw e=Ks,Ei=!1,Ks=null,e}function Ee(e,t){var n=t[jo];n===void 0&&(n=t[jo]=new Set);var s=e+"__bubble";n.has(s)||(vu(t,e,2,!1),n.add(s))}function yo(e,t,n){var s=0;t&&(s|=4),vu(n,e,s,t)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Fi]){e[Fi]=!0,o.forEach(function(n){n!=="selectionchange"&&(vh.has(n)||yo(n,!1,e),yo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fi]||(t[Fi]=!0,yo("selectionchange",!1,t))}}function vu(e,t,n,s){switch(Ma(t)){case 1:var l=If;break;case 4:l=Af;break;default:l=eo}n=l.bind(null,t,n,e),l=void 0,!qs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function wo(e,t,n,s,l){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var w=s.stateNode.containerInfo;if(w===l||w.nodeType===8&&w.parentNode===l)break;if(h===4)for(h=s.return;h!==null;){var S=h.tag;if((S===3||S===4)&&(S=h.stateNode.containerInfo,S===l||S.nodeType===8&&S.parentNode===l))return;h=h.return}for(;w!==null;){if(h=Sn(w),h===null)return;if(S=h.tag,S===5||S===6){s=c=h;continue e}w=w.parentNode}}s=s.return}ka(function(){var P=c,L=Ws(n),$=[];e:{var N=hu.get(e);if(N!==void 0){var q=ro,J=e;switch(e){case"keypress":if(Li(n)===0)break e;case"keydown":case"keyup":q=Kf;break;case"focusin":J="focus",q=oo;break;case"focusout":J="blur",q=oo;break;case"beforeblur":case"afterblur":q=oo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Qf;break;case uu:case cu:case du:q=zf;break;case fu:q=Xf;break;case"scroll":q=Rf;break;case"wheel":q=eh;break;case"copy":case"cut":case"paste":q=Mf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Va}var G=(t&4)!==0,Re=!G&&e==="scroll",j=G?N!==null?N+"Capture":null:N;G=[];for(var x=P,C;x!==null;){C=x;var D=C.stateNode;if(C.tag===5&&D!==null&&(C=D,j!==null&&(D=Pr(x,j),D!=null&&G.push(Kr(x,D,C)))),Re)break;x=x.return}0<G.length&&(N=new q(N,J,null,n,L),$.push({event:N,listeners:G}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",N&&n!==Bs&&(J=n.relatedTarget||n.fromElement)&&(Sn(J)||J[$t]))break e;if((q||N)&&(N=L.window===L?L:(N=L.ownerDocument)?N.defaultView||N.parentWindow:window,q?(J=n.relatedTarget||n.toElement,q=P,J=J?Sn(J):null,J!==null&&(Re=_n(J),J!==Re||J.tag!==5&&J.tag!==6)&&(J=null)):(q=null,J=P),q!==J)){if(G=Wa,D="onMouseLeave",j="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(G=Va,D="onPointerLeave",j="onPointerEnter",x="pointer"),Re=q==null?N:Gn(q),C=J==null?N:Gn(J),N=new G(D,x+"leave",q,n,L),N.target=Re,N.relatedTarget=C,D=null,Sn(L)===P&&(G=new G(j,x+"enter",J,n,L),G.target=C,G.relatedTarget=Re,D=G),Re=D,q&&J)t:{for(G=q,j=J,x=0,C=G;C;C=Kn(C))x++;for(C=0,D=j;D;D=Kn(D))C++;for(;0<x-C;)G=Kn(G),x--;for(;0<C-x;)j=Kn(j),C--;for(;x--;){if(G===j||j!==null&&G===j.alternate)break t;G=Kn(G),j=Kn(j)}G=null}else G=null;q!==null&&yu($,N,q,G,!1),J!==null&&Re!==null&&yu($,Re,J,G,!0)}}e:{if(N=P?Gn(P):window,q=N.nodeName&&N.nodeName.toLowerCase(),q==="select"||q==="input"&&N.type==="file")var Q=lh;else if(Ya(N))if(Za)Q=dh;else{Q=uh;var te=ah}else(q=N.nodeName)&&q.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(Q=ch);if(Q&&(Q=Q(e,P))){Xa($,Q,n,L);break e}te&&te(e,N,P),e==="focusout"&&(te=N._wrapperState)&&te.controlled&&N.type==="number"&&jr(N,"number",N.value)}switch(te=P?Gn(P):window,e){case"focusin":(Ya(te)||te.contentEditable==="true")&&(Vn=te,ho=P,Hr=null);break;case"focusout":Hr=ho=Vn=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,lu($,n,L);break;case"selectionchange":if(ph)break;case"keydown":case"keyup":lu($,n,L)}var ne;if(ao)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Hn?Ga(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(qa&&n.locale!=="ko"&&(Hn||se!=="onCompositionStart"?se==="onCompositionEnd"&&Hn&&(ne=Fa()):(Zt=L,no="value"in Zt?Zt.value:Zt.textContent,Hn=!0)),te=Bi(P,se),0<te.length&&(se=new Ha(se,e,null,n,L),$.push({event:se,listeners:te}),ne?se.data=ne:(ne=Qa(n),ne!==null&&(se.data=ne)))),(ne=nh?rh(e,n):ih(e,n))&&(P=Bi(P,"onBeforeInput"),0<P.length&&(L=new Ha("onBeforeInput","beforeinput",null,n,L),$.push({event:L,listeners:P}),L.data=ne))}mu($,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bi(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=Pr(e,n),c!=null&&s.unshift(Kr(e,c,l)),c=Pr(e,t),c!=null&&s.push(Kr(e,c,l))),e=e.return}return s}function Kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yu(e,t,n,s,l){for(var c=t._reactName,h=[];n!==null&&n!==s;){var w=n,S=w.alternate,P=w.stateNode;if(S!==null&&S===s)break;w.tag===5&&P!==null&&(w=P,l?(S=Pr(n,c),S!=null&&h.unshift(Kr(n,S,w))):l||(S=Pr(n,c),S!=null&&h.push(Kr(n,S,w)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var yh=/\r\n?/g,wh=/\u0000|\uFFFD/g;function wu(e){return(typeof e=="string"?e:""+e).replace(yh,`
`).replace(wh,"")}function Wi(e,t,n){if(t=wu(t),wu(e)!==t&&n)throw Error(i(425))}function Hi(){}var _o=null,So=null;function ko(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xo=typeof setTimeout=="function"?setTimeout:void 0,_h=typeof clearTimeout=="function"?clearTimeout:void 0,_u=typeof Promise=="function"?Promise:void 0,Sh=typeof queueMicrotask=="function"?queueMicrotask:typeof _u<"u"?function(e){return _u.resolve(null).then(e).catch(kh)}:xo;function kh(e){setTimeout(function(){throw e})}function Eo(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),Dr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);Dr(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Su(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Jn,Jr="__reactProps$"+Jn,$t="__reactContainer$"+Jn,jo="__reactEvents$"+Jn,xh="__reactListeners$"+Jn,Eh="__reactHandles$"+Jn;function Sn(e){var t=e[Ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$t]||n[Ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Su(e);e!==null;){if(n=e[Ot])return n;e=Su(e)}return t}e=n,n=e.parentNode}return null}function Gr(e){return e=e[Ot]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Vi(e){return e[Jr]||null}var Co=[],Qn=-1;function nn(e){return{current:e}}function je(e){0>Qn||(e.current=Co[Qn],Co[Qn]=null,Qn--)}function ke(e,t){Qn++,Co[Qn]=e.current,e.current=t}var rn={},Ke=nn(rn),tt=nn(!1),kn=rn;function Yn(e,t){var n=e.type.contextTypes;if(!n)return rn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=t[c];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function nt(e){return e=e.childContextTypes,e!=null}function qi(){je(tt),je(Ke)}function ku(e,t,n){if(Ke.current!==rn)throw Error(i(168));ke(Ke,t),ke(tt,n)}function xu(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(i(108,X(e)||"Unknown",l));return W({},n,s)}function Ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rn,kn=Ke.current,ke(Ke,e),ke(tt,tt.current),!0}function Eu(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=xu(e,t,kn),s.__reactInternalMemoizedMergedChildContext=e,je(tt),je(Ke),ke(Ke,e)):je(tt),ke(tt,n)}var Dt=null,Ji=!1,To=!1;function ju(e){Dt===null?Dt=[e]:Dt.push(e)}function jh(e){Ji=!0,ju(e)}function sn(){if(!To&&Dt!==null){To=!0;var e=0,t=ve;try{var n=Dt;for(ve=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Dt=null,Ji=!1}catch(l){throw Dt!==null&&(Dt=Dt.slice(e+1)),Ta(Js,sn),l}finally{ve=t,To=!1}}return null}var Xn=[],Zn=0,Gi=null,Qi=0,ht=[],pt=0,xn=null,zt=1,Ut="";function En(e,t){Xn[Zn++]=Qi,Xn[Zn++]=Gi,Gi=e,Qi=t}function Cu(e,t,n){ht[pt++]=zt,ht[pt++]=Ut,ht[pt++]=xn,xn=e;var s=zt;e=Ut;var l=32-wt(s)-1;s&=~(1<<l),n+=1;var c=32-wt(t)+l;if(30<c){var h=l-l%5;c=(s&(1<<h)-1).toString(32),s>>=h,l-=h,zt=1<<32-wt(t)+l|n<<l|s,Ut=c+e}else zt=1<<c|n<<l|s,Ut=e}function Po(e){e.return!==null&&(En(e,1),Cu(e,1,0))}function bo(e){for(;e===Gi;)Gi=Xn[--Zn],Xn[Zn]=null,Qi=Xn[--Zn],Xn[Zn]=null;for(;e===xn;)xn=ht[--pt],ht[pt]=null,Ut=ht[--pt],ht[pt]=null,zt=ht[--pt],ht[pt]=null}var ut=null,ct=null,Ce=!1,St=null;function Tu(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,ct=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xn!==null?{id:zt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ut=e,ct=null,!0):!1;default:return!1}}function Oo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Io(e){if(Ce){var t=ct;if(t){var n=t;if(!Pu(e,t)){if(Oo(e))throw Error(i(418));t=tn(n.nextSibling);var s=ut;t&&Pu(e,t)?Tu(s,n):(e.flags=e.flags&-4097|2,Ce=!1,ut=e)}}else{if(Oo(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ce=!1,ut=e}}}function bu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Yi(e){if(e!==ut)return!1;if(!Ce)return bu(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ko(e.type,e.memoizedProps)),t&&(t=ct)){if(Oo(e))throw Ou(),Error(i(418));for(;t;)Tu(e,t),t=tn(t.nextSibling)}if(bu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ct=tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=ut?tn(e.stateNode.nextSibling):null;return!0}function Ou(){for(var e=ct;e;)e=tn(e.nextSibling)}function er(){ct=ut=null,Ce=!1}function Ao(e){St===null?St=[e]:St.push(e)}var Ch=B.ReactCurrentBatchConfig;function Qr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var l=s,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(h){var w=l.refs;h===null?delete w[c]:w[c]=h},t._stringRef=c,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Xi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Iu(e){var t=e._init;return t(e._payload)}function Au(e){function t(j,x){if(e){var C=j.deletions;C===null?(j.deletions=[x],j.flags|=16):C.push(x)}}function n(j,x){if(!e)return null;for(;x!==null;)t(j,x),x=x.sibling;return null}function s(j,x){for(j=new Map;x!==null;)x.key!==null?j.set(x.key,x):j.set(x.index,x),x=x.sibling;return j}function l(j,x){return j=hn(j,x),j.index=0,j.sibling=null,j}function c(j,x,C){return j.index=C,e?(C=j.alternate,C!==null?(C=C.index,C<x?(j.flags|=2,x):C):(j.flags|=2,x)):(j.flags|=1048576,x)}function h(j){return e&&j.alternate===null&&(j.flags|=2),j}function w(j,x,C,D){return x===null||x.tag!==6?(x=xl(C,j.mode,D),x.return=j,x):(x=l(x,C),x.return=j,x)}function S(j,x,C,D){var Q=C.type;return Q===ie?L(j,x,C.props.children,D,C.key):x!==null&&(x.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Se&&Iu(Q)===x.type)?(D=l(x,C.props),D.ref=Qr(j,x,C),D.return=j,D):(D=ks(C.type,C.key,C.props,null,j.mode,D),D.ref=Qr(j,x,C),D.return=j,D)}function P(j,x,C,D){return x===null||x.tag!==4||x.stateNode.containerInfo!==C.containerInfo||x.stateNode.implementation!==C.implementation?(x=El(C,j.mode,D),x.return=j,x):(x=l(x,C.children||[]),x.return=j,x)}function L(j,x,C,D,Q){return x===null||x.tag!==7?(x=An(C,j.mode,D,Q),x.return=j,x):(x=l(x,C),x.return=j,x)}function $(j,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return x=xl(""+x,j.mode,C),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ae:return C=ks(x.type,x.key,x.props,null,j.mode,C),C.ref=Qr(j,null,x),C.return=j,C;case V:return x=El(x,j.mode,C),x.return=j,x;case Se:var D=x._init;return $(j,D(x._payload),C)}if(Un(x)||Z(x))return x=An(x,j.mode,C,null),x.return=j,x;Xi(j,x)}return null}function N(j,x,C,D){var Q=x!==null?x.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return Q!==null?null:w(j,x,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ae:return C.key===Q?S(j,x,C,D):null;case V:return C.key===Q?P(j,x,C,D):null;case Se:return Q=C._init,N(j,x,Q(C._payload),D)}if(Un(C)||Z(C))return Q!==null?null:L(j,x,C,D,null);Xi(j,C)}return null}function q(j,x,C,D,Q){if(typeof D=="string"&&D!==""||typeof D=="number")return j=j.get(C)||null,w(x,j,""+D,Q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ae:return j=j.get(D.key===null?C:D.key)||null,S(x,j,D,Q);case V:return j=j.get(D.key===null?C:D.key)||null,P(x,j,D,Q);case Se:var te=D._init;return q(j,x,C,te(D._payload),Q)}if(Un(D)||Z(D))return j=j.get(C)||null,L(x,j,D,Q,null);Xi(x,D)}return null}function J(j,x,C,D){for(var Q=null,te=null,ne=x,se=x=0,We=null;ne!==null&&se<C.length;se++){ne.index>se?(We=ne,ne=null):We=ne.sibling;var ge=N(j,ne,C[se],D);if(ge===null){ne===null&&(ne=We);break}e&&ne&&ge.alternate===null&&t(j,ne),x=c(ge,x,se),te===null?Q=ge:te.sibling=ge,te=ge,ne=We}if(se===C.length)return n(j,ne),Ce&&En(j,se),Q;if(ne===null){for(;se<C.length;se++)ne=$(j,C[se],D),ne!==null&&(x=c(ne,x,se),te===null?Q=ne:te.sibling=ne,te=ne);return Ce&&En(j,se),Q}for(ne=s(j,ne);se<C.length;se++)We=q(ne,j,se,C[se],D),We!==null&&(e&&We.alternate!==null&&ne.delete(We.key===null?se:We.key),x=c(We,x,se),te===null?Q=We:te.sibling=We,te=We);return e&&ne.forEach(function(pn){return t(j,pn)}),Ce&&En(j,se),Q}function G(j,x,C,D){var Q=Z(C);if(typeof Q!="function")throw Error(i(150));if(C=Q.call(C),C==null)throw Error(i(151));for(var te=Q=null,ne=x,se=x=0,We=null,ge=C.next();ne!==null&&!ge.done;se++,ge=C.next()){ne.index>se?(We=ne,ne=null):We=ne.sibling;var pn=N(j,ne,ge.value,D);if(pn===null){ne===null&&(ne=We);break}e&&ne&&pn.alternate===null&&t(j,ne),x=c(pn,x,se),te===null?Q=pn:te.sibling=pn,te=pn,ne=We}if(ge.done)return n(j,ne),Ce&&En(j,se),Q;if(ne===null){for(;!ge.done;se++,ge=C.next())ge=$(j,ge.value,D),ge!==null&&(x=c(ge,x,se),te===null?Q=ge:te.sibling=ge,te=ge);return Ce&&En(j,se),Q}for(ne=s(j,ne);!ge.done;se++,ge=C.next())ge=q(ne,j,se,ge.value,D),ge!==null&&(e&&ge.alternate!==null&&ne.delete(ge.key===null?se:ge.key),x=c(ge,x,se),te===null?Q=ge:te.sibling=ge,te=ge);return e&&ne.forEach(function(sp){return t(j,sp)}),Ce&&En(j,se),Q}function Re(j,x,C,D){if(typeof C=="object"&&C!==null&&C.type===ie&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ae:e:{for(var Q=C.key,te=x;te!==null;){if(te.key===Q){if(Q=C.type,Q===ie){if(te.tag===7){n(j,te.sibling),x=l(te,C.props.children),x.return=j,j=x;break e}}else if(te.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Se&&Iu(Q)===te.type){n(j,te.sibling),x=l(te,C.props),x.ref=Qr(j,te,C),x.return=j,j=x;break e}n(j,te);break}else t(j,te);te=te.sibling}C.type===ie?(x=An(C.props.children,j.mode,D,C.key),x.return=j,j=x):(D=ks(C.type,C.key,C.props,null,j.mode,D),D.ref=Qr(j,x,C),D.return=j,j=D)}return h(j);case V:e:{for(te=C.key;x!==null;){if(x.key===te)if(x.tag===4&&x.stateNode.containerInfo===C.containerInfo&&x.stateNode.implementation===C.implementation){n(j,x.sibling),x=l(x,C.children||[]),x.return=j,j=x;break e}else{n(j,x);break}else t(j,x);x=x.sibling}x=El(C,j.mode,D),x.return=j,j=x}return h(j);case Se:return te=C._init,Re(j,x,te(C._payload),D)}if(Un(C))return J(j,x,C,D);if(Z(C))return G(j,x,C,D);Xi(j,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,x!==null&&x.tag===6?(n(j,x.sibling),x=l(x,C),x.return=j,j=x):(n(j,x),x=xl(C,j.mode,D),x.return=j,j=x),h(j)):n(j,x)}return Re}var tr=Au(!0),Ru=Au(!1),Zi=nn(null),es=null,nr=null,Ro=null;function No(){Ro=nr=es=null}function Lo(e){var t=Zi.current;je(Zi),e._currentValue=t}function $o(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function rr(e,t){es=e,Ro=nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(rt=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(Ro!==e)if(e={context:e,memoizedValue:t,next:null},nr===null){if(es===null)throw Error(i(308));nr=e,es.dependencies={lanes:0,firstContext:e}}else nr=nr.next=e;return t}var jn=null;function Do(e){jn===null?jn=[e]:jn.push(e)}function Nu(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Do(t)):(n.next=l.next,l.next=n),t.interleaved=n,Mt(e,s)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(pe&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Mt(e,n)}return l=s.interleaved,l===null?(t.next=t,Do(s)):(t.next=l.next,l.next=t),s.interleaved=t,Mt(e,n)}function ts(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ys(e,n)}}function $u(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ns(e,t,n,s){var l=e.updateQueue;on=!1;var c=l.firstBaseUpdate,h=l.lastBaseUpdate,w=l.shared.pending;if(w!==null){l.shared.pending=null;var S=w,P=S.next;S.next=null,h===null?c=P:h.next=P,h=S;var L=e.alternate;L!==null&&(L=L.updateQueue,w=L.lastBaseUpdate,w!==h&&(w===null?L.firstBaseUpdate=P:w.next=P,L.lastBaseUpdate=S))}if(c!==null){var $=l.baseState;h=0,L=P=S=null,w=c;do{var N=w.lane,q=w.eventTime;if((s&N)===N){L!==null&&(L=L.next={eventTime:q,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var J=e,G=w;switch(N=t,q=n,G.tag){case 1:if(J=G.payload,typeof J=="function"){$=J.call(q,$,N);break e}$=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=G.payload,N=typeof J=="function"?J.call(q,$,N):J,N==null)break e;$=W({},$,N);break e;case 2:on=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,N=l.effects,N===null?l.effects=[w]:N.push(w))}else q={eventTime:q,lane:N,tag:w.tag,payload:w.payload,callback:w.callback,next:null},L===null?(P=L=q,S=$):L=L.next=q,h|=N;if(w=w.next,w===null){if(w=l.shared.pending,w===null)break;N=w,w=N.next,N.next=null,l.lastBaseUpdate=N,l.shared.pending=null}}while(!0);if(L===null&&(S=$),l.baseState=S,l.firstBaseUpdate=P,l.lastBaseUpdate=L,t=l.shared.interleaved,t!==null){l=t;do h|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);Pn|=h,e.lanes=h,e.memoizedState=$}}function Du(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(i(191,l));l.call(s)}}}var Yr={},It=nn(Yr),Xr=nn(Yr),Zr=nn(Yr);function Cn(e){if(e===Yr)throw Error(i(174));return e}function Uo(e,t){switch(ke(Zr,t),ke(Xr,e),ke(It,Yr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Us(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Us(t,e)}je(It),ke(It,t)}function ir(){je(It),je(Xr),je(Zr)}function zu(e){Cn(Zr.current);var t=Cn(It.current),n=Us(t,e.type);t!==n&&(ke(Xr,e),ke(It,n))}function Mo(e){Xr.current===e&&(je(It),je(Xr))}var Pe=nn(0);function rs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fo=[];function Bo(){for(var e=0;e<Fo.length;e++)Fo[e]._workInProgressVersionPrimary=null;Fo.length=0}var is=B.ReactCurrentDispatcher,Wo=B.ReactCurrentBatchConfig,Tn=0,be=null,$e=null,Fe=null,ss=!1,ei=!1,ti=0,Th=0;function Je(){throw Error(i(321))}function Ho(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function Vo(e,t,n,s,l,c){if(Tn=c,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=e===null||e.memoizedState===null?Ih:Ah,e=n(s,l),ei){c=0;do{if(ei=!1,ti=0,25<=c)throw Error(i(301));c+=1,Fe=$e=null,t.updateQueue=null,is.current=Rh,e=n(s,l)}while(ei)}if(is.current=as,t=$e!==null&&$e.next!==null,Tn=0,Fe=$e=be=null,ss=!1,t)throw Error(i(300));return e}function qo(){var e=ti!==0;return ti=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?be.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function mt(){if($e===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Fe===null?be.memoizedState:Fe.next;if(t!==null)Fe=t,$e=e;else{if(e===null)throw Error(i(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Fe===null?be.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function ni(e,t){return typeof t=="function"?t(e):t}function Ko(e){var t=mt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=$e,l=s.baseQueue,c=n.pending;if(c!==null){if(l!==null){var h=l.next;l.next=c.next,c.next=h}s.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,s=s.baseState;var w=h=null,S=null,P=c;do{var L=P.lane;if((Tn&L)===L)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),s=P.hasEagerState?P.eagerState:e(s,P.action);else{var $={lane:L,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(w=S=$,h=s):S=S.next=$,be.lanes|=L,Pn|=L}P=P.next}while(P!==null&&P!==c);S===null?h=s:S.next=w,_t(s,t.memoizedState)||(rt=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=S,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do c=l.lane,be.lanes|=c,Pn|=c,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jo(e){var t=mt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var h=l=l.next;do c=e(c,h.action),h=h.next;while(h!==l);_t(c,t.memoizedState)||(rt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,s]}function Uu(){}function Mu(e,t){var n=be,s=mt(),l=t(),c=!_t(s.memoizedState,l);if(c&&(s.memoizedState=l,rt=!0),s=s.queue,Go(Wu.bind(null,n,s,e),[e]),s.getSnapshot!==t||c||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,ri(9,Bu.bind(null,n,s,l,t),void 0,null),Be===null)throw Error(i(349));(Tn&30)!==0||Fu(n,t,l)}return l}function Fu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bu(e,t,n,s){t.value=n,t.getSnapshot=s,Hu(t)&&Vu(e)}function Wu(e,t,n){return n(function(){Hu(t)&&Vu(e)})}function Hu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function Vu(e){var t=Mt(e,1);t!==null&&jt(t,e,1,-1)}function qu(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:e},t.queue=e,e=e.dispatch=Oh.bind(null,be,e),[t.memoizedState,e]}function ri(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Ku(){return mt().memoizedState}function os(e,t,n,s){var l=At();be.flags|=e,l.memoizedState=ri(1|t,n,void 0,s===void 0?null:s)}function ls(e,t,n,s){var l=mt();s=s===void 0?null:s;var c=void 0;if($e!==null){var h=$e.memoizedState;if(c=h.destroy,s!==null&&Ho(s,h.deps)){l.memoizedState=ri(t,n,c,s);return}}be.flags|=e,l.memoizedState=ri(1|t,n,c,s)}function Ju(e,t){return os(8390656,8,e,t)}function Go(e,t){return ls(2048,8,e,t)}function Gu(e,t){return ls(4,2,e,t)}function Qu(e,t){return ls(4,4,e,t)}function Yu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xu(e,t,n){return n=n!=null?n.concat([e]):null,ls(4,4,Yu.bind(null,t,e),n)}function Qo(){}function Zu(e,t){var n=mt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Ho(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function ec(e,t){var n=mt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Ho(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function tc(e,t,n){return(Tn&21)===0?(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n):(_t(n,t)||(n=Ia(),be.lanes|=n,Pn|=n,e.baseState=!0),t)}function Ph(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var s=Wo.transition;Wo.transition={};try{e(!1),t()}finally{ve=n,Wo.transition=s}}function nc(){return mt().memoizedState}function bh(e,t,n){var s=dn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},rc(e))ic(t,n);else if(n=Nu(e,t,n,s),n!==null){var l=Ze();jt(n,e,s,l),sc(n,t,s)}}function Oh(e,t,n){var s=dn(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(rc(e))ic(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,w=c(h,n);if(l.hasEagerState=!0,l.eagerState=w,_t(w,h)){var S=t.interleaved;S===null?(l.next=l,Do(t)):(l.next=S.next,S.next=l),t.interleaved=l;return}}catch{}finally{}n=Nu(e,t,l,s),n!==null&&(l=Ze(),jt(n,e,s,l),sc(n,t,s))}}function rc(e){var t=e.alternate;return e===be||t!==null&&t===be}function ic(e,t){ei=ss=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sc(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ys(e,n)}}var as={readContext:gt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Ih={readContext:gt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Ju,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,os(4194308,4,Yu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return os(4194308,4,e,t)},useInsertionEffect:function(e,t){return os(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=At();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=bh.bind(null,be,e),[s.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:qu,useDebugValue:Qo,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=qu(!1),t=e[0];return e=Ph.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=be,l=At();if(Ce){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Be===null)throw Error(i(349));(Tn&30)!==0||Fu(s,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,Ju(Wu.bind(null,s,c,e),[e]),s.flags|=2048,ri(9,Bu.bind(null,s,c,n,t),void 0,null),n},useId:function(){var e=At(),t=Be.identifierPrefix;if(Ce){var n=Ut,s=zt;n=(s&~(1<<32-wt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=ti++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Th++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ah={readContext:gt,useCallback:Zu,useContext:gt,useEffect:Go,useImperativeHandle:Xu,useInsertionEffect:Gu,useLayoutEffect:Qu,useMemo:ec,useReducer:Ko,useRef:Ku,useState:function(){return Ko(ni)},useDebugValue:Qo,useDeferredValue:function(e){var t=mt();return tc(t,$e.memoizedState,e)},useTransition:function(){var e=Ko(ni)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Uu,useSyncExternalStore:Mu,useId:nc,unstable_isNewReconciler:!1},Rh={readContext:gt,useCallback:Zu,useContext:gt,useEffect:Go,useImperativeHandle:Xu,useInsertionEffect:Gu,useLayoutEffect:Qu,useMemo:ec,useReducer:Jo,useRef:Ku,useState:function(){return Jo(ni)},useDebugValue:Qo,useDeferredValue:function(e){var t=mt();return $e===null?t.memoizedState=e:tc(t,$e.memoizedState,e)},useTransition:function(){var e=Jo(ni)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Uu,useSyncExternalStore:Mu,useId:nc,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Yo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:W({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var us={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ze(),l=dn(e),c=Ft(s,l);c.payload=t,n!=null&&(c.callback=n),t=ln(e,c,l),t!==null&&(jt(t,e,l,s),ts(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ze(),l=dn(e),c=Ft(s,l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=ln(e,c,l),t!==null&&(jt(t,e,l,s),ts(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),s=dn(e),l=Ft(n,s);l.tag=2,t!=null&&(l.callback=t),t=ln(e,l,s),t!==null&&(jt(t,e,s,n),ts(t,e,s))}};function oc(e,t,n,s,l,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,h):t.prototype&&t.prototype.isPureReactComponent?!Wr(n,s)||!Wr(l,c):!0}function lc(e,t,n){var s=!1,l=rn,c=t.contextType;return typeof c=="object"&&c!==null?c=gt(c):(l=nt(t)?kn:Ke.current,s=t.contextTypes,c=(s=s!=null)?Yn(e,l):rn),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=us,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function ac(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&us.enqueueReplaceState(t,t.state,null)}function Xo(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},zo(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=gt(c):(c=nt(t)?kn:Ke.current,l.context=Yn(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Yo(e,t,c,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&us.enqueueReplaceState(l,l.state,null),ns(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function sr(e,t){try{var n="",s=t;do n+=H(s),s=s.return;while(s);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function Zo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function el(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Nh=typeof WeakMap=="function"?WeakMap:Map;function uc(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){ms||(ms=!0,gl=s),el(e,t)},n}function cc(e,t,n){n=Ft(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){el(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){el(e,t),typeof s!="function"&&(un===null?un=new Set([this]):un.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function dc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Nh;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Jh.bind(null,e,t,n),t.then(e,e))}function fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hc(e,t,n,s,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Lh=B.ReactCurrentOwner,rt=!1;function Xe(e,t,n,s){t.child=e===null?Ru(t,null,n,s):tr(t,e.child,n,s)}function pc(e,t,n,s,l){n=n.render;var c=t.ref;return rr(t,l),s=Vo(e,t,n,s,c,l),n=qo(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Bt(e,t,l)):(Ce&&n&&Po(t),t.flags|=1,Xe(e,t,s,l),t.child)}function gc(e,t,n,s,l){if(e===null){var c=n.type;return typeof c=="function"&&!kl(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,mc(e,t,c,s,l)):(e=ks(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&l)===0){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:Wr,n(h,s)&&e.ref===t.ref)return Bt(e,t,l)}return t.flags|=1,e=hn(c,s),e.ref=t.ref,e.return=t,t.child=e}function mc(e,t,n,s,l){if(e!==null){var c=e.memoizedProps;if(Wr(c,s)&&e.ref===t.ref)if(rt=!1,t.pendingProps=s=c,(e.lanes&l)!==0)(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,Bt(e,t,l)}return tl(e,t,n,s,l)}function vc(e,t,n){var s=t.pendingProps,l=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(lr,dt),dt|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(lr,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=c!==null?c.baseLanes:n,ke(lr,dt),dt|=s}else c!==null?(s=c.baseLanes|n,t.memoizedState=null):s=n,ke(lr,dt),dt|=s;return Xe(e,t,l,n),t.child}function yc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tl(e,t,n,s,l){var c=nt(n)?kn:Ke.current;return c=Yn(t,c),rr(t,l),n=Vo(e,t,n,s,c,l),s=qo(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Bt(e,t,l)):(Ce&&s&&Po(t),t.flags|=1,Xe(e,t,n,l),t.child)}function wc(e,t,n,s,l){if(nt(n)){var c=!0;Ki(t)}else c=!1;if(rr(t,l),t.stateNode===null)ds(e,t),lc(t,n,s),Xo(t,n,s,l),s=!0;else if(e===null){var h=t.stateNode,w=t.memoizedProps;h.props=w;var S=h.context,P=n.contextType;typeof P=="object"&&P!==null?P=gt(P):(P=nt(n)?kn:Ke.current,P=Yn(t,P));var L=n.getDerivedStateFromProps,$=typeof L=="function"||typeof h.getSnapshotBeforeUpdate=="function";$||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==s||S!==P)&&ac(t,h,s,P),on=!1;var N=t.memoizedState;h.state=N,ns(t,s,h,l),S=t.memoizedState,w!==s||N!==S||tt.current||on?(typeof L=="function"&&(Yo(t,n,L,s),S=t.memoizedState),(w=on||oc(t,n,w,s,N,S,P))?($||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=S),h.props=s,h.state=S,h.context=P,s=w):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Lu(e,t),w=t.memoizedProps,P=t.type===t.elementType?w:kt(t.type,w),h.props=P,$=t.pendingProps,N=h.context,S=n.contextType,typeof S=="object"&&S!==null?S=gt(S):(S=nt(n)?kn:Ke.current,S=Yn(t,S));var q=n.getDerivedStateFromProps;(L=typeof q=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==$||N!==S)&&ac(t,h,s,S),on=!1,N=t.memoizedState,h.state=N,ns(t,s,h,l);var J=t.memoizedState;w!==$||N!==J||tt.current||on?(typeof q=="function"&&(Yo(t,n,q,s),J=t.memoizedState),(P=on||oc(t,n,P,s,N,J,S)||!1)?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,J,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,J,S)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=J),h.props=s,h.state=J,h.context=S,s=P):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),s=!1)}return nl(e,t,n,s,c,l)}function nl(e,t,n,s,l,c){yc(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return l&&Eu(t,n,!1),Bt(e,t,c);s=t.stateNode,Lh.current=t;var w=h&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=tr(t,e.child,null,c),t.child=tr(t,null,w,c)):Xe(e,t,w,c),t.memoizedState=s.state,l&&Eu(t,n,!0),t.child}function _c(e){var t=e.stateNode;t.pendingContext?ku(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ku(e,t.context,!1),Uo(e,t.containerInfo)}function Sc(e,t,n,s,l){return er(),Ao(l),t.flags|=256,Xe(e,t,n,s),t.child}var rl={dehydrated:null,treeContext:null,retryLane:0};function il(e){return{baseLanes:e,cachePool:null,transitions:null}}function kc(e,t,n){var s=t.pendingProps,l=Pe.current,c=!1,h=(t.flags&128)!==0,w;if((w=h)||(w=e!==null&&e.memoizedState===null?!1:(l&2)!==0),w?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ke(Pe,l&1),e===null)return Io(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=s.children,e=s.fallback,c?(s=t.mode,c=t.child,h={mode:"hidden",children:h},(s&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=h):c=xs(h,s,0,null),e=An(e,s,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=il(n),t.memoizedState=rl,e):sl(t,h));if(l=e.memoizedState,l!==null&&(w=l.dehydrated,w!==null))return $h(e,t,h,s,w,l,n);if(c){c=s.fallback,h=t.mode,l=e.child,w=l.sibling;var S={mode:"hidden",children:s.children};return(h&1)===0&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=S,t.deletions=null):(s=hn(l,S),s.subtreeFlags=l.subtreeFlags&14680064),w!==null?c=hn(w,c):(c=An(c,h,n,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,h=e.child.memoizedState,h=h===null?il(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=e.childLanes&~n,t.memoizedState=rl,s}return c=e.child,e=c.sibling,s=hn(c,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function sl(e,t){return t=xs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cs(e,t,n,s){return s!==null&&Ao(s),tr(t,e.child,null,n),e=sl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $h(e,t,n,s,l,c,h){if(n)return t.flags&256?(t.flags&=-257,s=Zo(Error(i(422))),cs(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=s.fallback,l=t.mode,s=xs({mode:"visible",children:s.children},l,0,null),c=An(c,l,h,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,(t.mode&1)!==0&&tr(t,e.child,null,h),t.child.memoizedState=il(h),t.memoizedState=rl,c);if((t.mode&1)===0)return cs(e,t,h,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var w=s.dgst;return s=w,c=Error(i(419)),s=Zo(c,s,void 0),cs(e,t,h,s)}if(w=(h&e.childLanes)!==0,rt||w){if(s=Be,s!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|h))!==0?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,Mt(e,l),jt(s,e,l,-1))}return Sl(),s=Zo(Error(i(421))),cs(e,t,h,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Gh.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,ct=tn(l.nextSibling),ut=t,Ce=!0,St=null,e!==null&&(ht[pt++]=zt,ht[pt++]=Ut,ht[pt++]=xn,zt=e.id,Ut=e.overflow,xn=t),t=sl(t,s.children),t.flags|=4096,t)}function xc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),$o(e.return,t,n)}function ol(e,t,n,s,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=n,c.tailMode=l)}function Ec(e,t,n){var s=t.pendingProps,l=s.revealOrder,c=s.tail;if(Xe(e,t,s.children,n),s=Pe.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xc(e,n,t);else if(e.tag===19)xc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ke(Pe,s),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&rs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ol(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&rs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ol(t,!0,n,null,c);break;case"together":ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ds(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dh(e,t,n){switch(t.tag){case 3:_c(t),er();break;case 5:zu(t);break;case 1:nt(t.type)&&Ki(t);break;case 4:Uo(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;ke(Zi,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ke(Pe,Pe.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?kc(e,t,n):(ke(Pe,Pe.current&1),e=Bt(e,t,n),e!==null?e.sibling:null);ke(Pe,Pe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Ec(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ke(Pe,Pe.current),s)break;return null;case 22:case 23:return t.lanes=0,vc(e,t,n)}return Bt(e,t,n)}var jc,ll,Cc,Tc;jc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ll=function(){},Cc=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Cn(It.current);var c=null;switch(n){case"input":l=wn(e,l),s=wn(e,s),c=[];break;case"select":l=W({},l,{value:void 0}),s=W({},s,{value:void 0}),c=[];break;case"textarea":l=Lt(e,l),s=Lt(e,s),c=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Hi)}Ms(n,s);var h;n=null;for(P in l)if(!s.hasOwnProperty(P)&&l.hasOwnProperty(P)&&l[P]!=null)if(P==="style"){var w=l[P];for(h in w)w.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(a.hasOwnProperty(P)?c||(c=[]):(c=c||[]).push(P,null));for(P in s){var S=s[P];if(w=l?.[P],s.hasOwnProperty(P)&&S!==w&&(S!=null||w!=null))if(P==="style")if(w){for(h in w)!w.hasOwnProperty(h)||S&&S.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in S)S.hasOwnProperty(h)&&w[h]!==S[h]&&(n||(n={}),n[h]=S[h])}else n||(c||(c=[]),c.push(P,n)),n=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,w=w?w.__html:void 0,S!=null&&w!==S&&(c=c||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(c=c||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(a.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&Ee("scroll",e),c||w===S||(c=[])):(c=c||[]).push(P,S))}n&&(c=c||[]).push("style",n);var P=c;(t.updateQueue=P)&&(t.flags|=4)}},Tc=function(e,t,n,s){n!==s&&(t.flags|=4)};function ii(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function zh(e,t,n){var s=t.pendingProps;switch(bo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return nt(t.type)&&qi(),Ge(t),null;case 3:return s=t.stateNode,ir(),je(tt),je(Ke),Bo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,St!==null&&(yl(St),St=null))),ll(e,t),Ge(t),null;case 5:Mo(t);var l=Cn(Zr.current);if(n=t.type,e!==null&&t.stateNode!=null)Cc(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Ge(t),null}if(e=Cn(It.current),Yi(t)){s=t.stateNode,n=t.type;var c=t.memoizedProps;switch(s[Ot]=t,s[Jr]=c,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",s),Ee("close",s);break;case"iframe":case"object":case"embed":Ee("load",s);break;case"video":case"audio":for(l=0;l<Vr.length;l++)Ee(Vr[l],s);break;case"source":Ee("error",s);break;case"img":case"image":case"link":Ee("error",s),Ee("load",s);break;case"details":Ee("toggle",s);break;case"input":ft(s,c),Ee("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},Ee("invalid",s);break;case"textarea":ca(s,c),Ee("invalid",s)}Ms(n,c),l=null;for(var h in c)if(c.hasOwnProperty(h)){var w=c[h];h==="children"?typeof w=="string"?s.textContent!==w&&(c.suppressHydrationWarning!==!0&&Wi(s.textContent,w,e),l=["children",w]):typeof w=="number"&&s.textContent!==""+w&&(c.suppressHydrationWarning!==!0&&Wi(s.textContent,w,e),l=["children",""+w]):a.hasOwnProperty(h)&&w!=null&&h==="onScroll"&&Ee("scroll",s)}switch(n){case"input":Kt(s),Si(s,c,!0);break;case"textarea":Kt(s),fa(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=Hi)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ha(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(n,{is:s.is}):(e=h.createElement(n),n==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,n),e[Ot]=t,e[Jr]=s,jc(e,t,!1,!1),t.stateNode=e;e:{switch(h=Fs(n,s),n){case"dialog":Ee("cancel",e),Ee("close",e),l=s;break;case"iframe":case"object":case"embed":Ee("load",e),l=s;break;case"video":case"audio":for(l=0;l<Vr.length;l++)Ee(Vr[l],e);l=s;break;case"source":Ee("error",e),l=s;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),l=s;break;case"details":Ee("toggle",e),l=s;break;case"input":ft(e,s),l=wn(e,s),Ee("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=W({},s,{value:void 0}),Ee("invalid",e);break;case"textarea":ca(e,s),l=Lt(e,s),Ee("invalid",e);break;default:l=s}Ms(n,l),w=l;for(c in w)if(w.hasOwnProperty(c)){var S=w[c];c==="style"?ma(e,S):c==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&pa(e,S)):c==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&Cr(e,S):typeof S=="number"&&Cr(e,""+S):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(a.hasOwnProperty(c)?S!=null&&c==="onScroll"&&Ee("scroll",e):S!=null&&z(e,c,S,h))}switch(n){case"input":Kt(e),Si(e,s,!1);break;case"textarea":Kt(e),fa(e);break;case"option":s.value!=null&&e.setAttribute("value",""+de(s.value));break;case"select":e.multiple=!!s.multiple,c=s.value,c!=null?Pt(e,!!s.multiple,c,!1):s.defaultValue!=null&&Pt(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Hi)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)Tc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(n=Cn(Zr.current),Cn(It.current),Yi(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ot]=t,(c=s.nodeValue!==n)&&(e=ut,e!==null))switch(e.tag){case 3:Wi(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wi(s.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ot]=t,t.stateNode=s}return Ge(t),null;case 13:if(je(Pe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&ct!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ou(),er(),t.flags|=98560,c=!1;else if(c=Yi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[Ot]=t}else er(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),c=!1}else St!==null&&(yl(St),St=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Pe.current&1)!==0?De===0&&(De=3):Sl())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return ir(),ll(e,t),e===null&&qr(t.stateNode.containerInfo),Ge(t),null;case 10:return Lo(t.type._context),Ge(t),null;case 17:return nt(t.type)&&qi(),Ge(t),null;case 19:if(je(Pe),c=t.memoizedState,c===null)return Ge(t),null;if(s=(t.flags&128)!==0,h=c.rendering,h===null)if(s)ii(c,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=rs(e),h!==null){for(t.flags|=128,ii(c,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)c=n,e=s,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,e=h.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Pe,Pe.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ae()>ar&&(t.flags|=128,s=!0,ii(c,!1),t.lanes=4194304)}else{if(!s)if(e=rs(h),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ii(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ce)return Ge(t),null}else 2*Ae()-c.renderingStartTime>ar&&n!==1073741824&&(t.flags|=128,s=!0,ii(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(n=c.last,n!==null?n.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ae(),t.sibling=null,n=Pe.current,ke(Pe,s?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return _l(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(dt&1073741824)!==0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Uh(e,t){switch(bo(t),t.tag){case 1:return nt(t.type)&&qi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ir(),je(tt),je(Ke),Bo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Mo(t),null;case 13:if(je(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(Pe),null;case 4:return ir(),null;case 10:return Lo(t.type._context),null;case 22:case 23:return _l(),null;case 24:return null;default:return null}}var fs=!1,Qe=!1,Mh=typeof WeakSet=="function"?WeakSet:Set,K=null;function or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Oe(e,t,s)}else n.current=null}function al(e,t,n){try{n()}catch(s){Oe(e,t,s)}}var Pc=!1;function Fh(e,t){if(_o=Ai,e=ou(),fo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,w=-1,S=-1,P=0,L=0,$=e,N=null;t:for(;;){for(var q;$!==n||l!==0&&$.nodeType!==3||(w=h+l),$!==c||s!==0&&$.nodeType!==3||(S=h+s),$.nodeType===3&&(h+=$.nodeValue.length),(q=$.firstChild)!==null;)N=$,$=q;for(;;){if($===e)break t;if(N===n&&++P===l&&(w=h),N===c&&++L===s&&(S=h),(q=$.nextSibling)!==null)break;$=N,N=$.parentNode}$=q}n=w===-1||S===-1?null:{start:w,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(So={focusedElem:e,selectionRange:n},Ai=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var J=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var G=J.memoizedProps,Re=J.memoizedState,j=t.stateNode,x=j.getSnapshotBeforeUpdate(t.elementType===t.type?G:kt(t.type,G),Re);j.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(D){Oe(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return J=Pc,Pc=!1,J}function si(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&al(t,n,c)}l=l.next}while(l!==s)}}function hs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function ul(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bc(e){var t=e.alternate;t!==null&&(e.alternate=null,bc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[Jr],delete t[jo],delete t[xh],delete t[Eh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oc(e){return e.tag===5||e.tag===3||e.tag===4}function Ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hi));else if(s!==4&&(e=e.child,e!==null))for(cl(e,t,n),e=e.sibling;e!==null;)cl(e,t,n),e=e.sibling}function dl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(dl(e,t,n),e=e.sibling;e!==null;)dl(e,t,n),e=e.sibling}var Ve=null,xt=!1;function an(e,t,n){for(n=n.child;n!==null;)Ac(e,t,n),n=n.sibling}function Ac(e,t,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Ci,n)}catch{}switch(n.tag){case 5:Qe||or(n,t);case 6:var s=Ve,l=xt;Ve=null,an(e,t,n),Ve=s,xt=l,Ve!==null&&(xt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(xt?(e=Ve,n=n.stateNode,e.nodeType===8?Eo(e.parentNode,n):e.nodeType===1&&Eo(e,n),Dr(e)):Eo(Ve,n.stateNode));break;case 4:s=Ve,l=xt,Ve=n.stateNode.containerInfo,xt=!0,an(e,t,n),Ve=s,xt=l;break;case 0:case 11:case 14:case 15:if(!Qe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var c=l,h=c.destroy;c=c.tag,h!==void 0&&((c&2)!==0||(c&4)!==0)&&al(n,t,h),l=l.next}while(l!==s)}an(e,t,n);break;case 1:if(!Qe&&(or(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(w){Oe(n,t,w)}an(e,t,n);break;case 21:an(e,t,n);break;case 22:n.mode&1?(Qe=(s=Qe)||n.memoizedState!==null,an(e,t,n),Qe=s):an(e,t,n);break;default:an(e,t,n)}}function Rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mh),t.forEach(function(s){var l=Qh.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var c=e,h=t,w=h;e:for(;w!==null;){switch(w.tag){case 5:Ve=w.stateNode,xt=!1;break e;case 3:Ve=w.stateNode.containerInfo,xt=!0;break e;case 4:Ve=w.stateNode.containerInfo,xt=!0;break e}w=w.return}if(Ve===null)throw Error(i(160));Ac(c,h,l),Ve=null,xt=!1;var S=l.alternate;S!==null&&(S.return=null),l.return=null}catch(P){Oe(l,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nc(t,e),t=t.sibling}function Nc(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Rt(e),s&4){try{si(3,e,e.return),hs(3,e)}catch(G){Oe(e,e.return,G)}try{si(5,e,e.return)}catch(G){Oe(e,e.return,G)}}break;case 1:Et(t,e),Rt(e),s&512&&n!==null&&or(n,n.return);break;case 5:if(Et(t,e),Rt(e),s&512&&n!==null&&or(n,n.return),e.flags&32){var l=e.stateNode;try{Cr(l,"")}catch(G){Oe(e,e.return,G)}}if(s&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,h=n!==null?n.memoizedProps:c,w=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{w==="input"&&c.type==="radio"&&c.name!=null&&zn(l,c),Fs(w,h);var P=Fs(w,c);for(h=0;h<S.length;h+=2){var L=S[h],$=S[h+1];L==="style"?ma(l,$):L==="dangerouslySetInnerHTML"?pa(l,$):L==="children"?Cr(l,$):z(l,L,$,P)}switch(w){case"input":Jt(l,c);break;case"textarea":da(l,c);break;case"select":var N=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var q=c.value;q!=null?Pt(l,!!c.multiple,q,!1):N!==!!c.multiple&&(c.defaultValue!=null?Pt(l,!!c.multiple,c.defaultValue,!0):Pt(l,!!c.multiple,c.multiple?[]:"",!1))}l[Jr]=c}catch(G){Oe(e,e.return,G)}}break;case 6:if(Et(t,e),Rt(e),s&4){if(e.stateNode===null)throw Error(i(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(G){Oe(e,e.return,G)}}break;case 3:if(Et(t,e),Rt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Dr(t.containerInfo)}catch(G){Oe(e,e.return,G)}break;case 4:Et(t,e),Rt(e);break;case 13:Et(t,e),Rt(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(pl=Ae())),s&4&&Rc(e);break;case 22:if(L=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(P=Qe)||L,Et(t,e),Qe=P):Et(t,e),Rt(e),s&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!L&&(e.mode&1)!==0)for(K=e,L=e.child;L!==null;){for($=K=L;K!==null;){switch(N=K,q=N.child,N.tag){case 0:case 11:case 14:case 15:si(4,N,N.return);break;case 1:or(N,N.return);var J=N.stateNode;if(typeof J.componentWillUnmount=="function"){s=N,n=N.return;try{t=s,J.props=t.memoizedProps,J.state=t.memoizedState,J.componentWillUnmount()}catch(G){Oe(s,n,G)}}break;case 5:or(N,N.return);break;case 22:if(N.memoizedState!==null){Dc($);continue}}q!==null?(q.return=N,K=q):Dc($)}L=L.sibling}e:for(L=null,$=e;;){if($.tag===5){if(L===null){L=$;try{l=$.stateNode,P?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(w=$.stateNode,S=$.memoizedProps.style,h=S!=null&&S.hasOwnProperty("display")?S.display:null,w.style.display=ga("display",h))}catch(G){Oe(e,e.return,G)}}}else if($.tag===6){if(L===null)try{$.stateNode.nodeValue=P?"":$.memoizedProps}catch(G){Oe(e,e.return,G)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;L===$&&(L=null),$=$.return}L===$&&(L=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:Et(t,e),Rt(e),s&4&&Rc(e);break;case 21:break;default:Et(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Oc(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Cr(l,""),s.flags&=-33);var c=Ic(e);dl(e,c,l);break;case 3:case 4:var h=s.stateNode.containerInfo,w=Ic(e);cl(e,w,h);break;default:throw Error(i(161))}}catch(S){Oe(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bh(e,t,n){K=e,Lc(e)}function Lc(e,t,n){for(var s=(e.mode&1)!==0;K!==null;){var l=K,c=l.child;if(l.tag===22&&s){var h=l.memoizedState!==null||fs;if(!h){var w=l.alternate,S=w!==null&&w.memoizedState!==null||Qe;w=fs;var P=Qe;if(fs=h,(Qe=S)&&!P)for(K=l;K!==null;)h=K,S=h.child,h.tag===22&&h.memoizedState!==null?zc(l):S!==null?(S.return=h,K=S):zc(l);for(;c!==null;)K=c,Lc(c),c=c.sibling;K=l,fs=w,Qe=P}$c(e)}else(l.subtreeFlags&8772)!==0&&c!==null?(c.return=l,K=c):$c(e)}}function $c(e){for(;K!==null;){var t=K;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Qe||hs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Qe)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:kt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Du(t,c,s);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Du(t,h,n)}break;case 5:var w=t.stateNode;if(n===null&&t.flags&4){n=w;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var L=P.memoizedState;if(L!==null){var $=L.dehydrated;$!==null&&Dr($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Qe||t.flags&512&&ul(t)}catch(N){Oe(t,t.return,N)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function Dc(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function zc(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hs(4,t)}catch(S){Oe(t,n,S)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(S){Oe(t,l,S)}}var c=t.return;try{ul(t)}catch(S){Oe(t,c,S)}break;case 5:var h=t.return;try{ul(t)}catch(S){Oe(t,h,S)}}}catch(S){Oe(t,t.return,S)}if(t===e){K=null;break}var w=t.sibling;if(w!==null){w.return=t.return,K=w;break}K=t.return}}var Wh=Math.ceil,ps=B.ReactCurrentDispatcher,fl=B.ReactCurrentOwner,vt=B.ReactCurrentBatchConfig,pe=0,Be=null,Ne=null,qe=0,dt=0,lr=nn(0),De=0,oi=null,Pn=0,gs=0,hl=0,li=null,it=null,pl=0,ar=1/0,Wt=null,ms=!1,gl=null,un=null,vs=!1,cn=null,ys=0,ai=0,ml=null,ws=-1,_s=0;function Ze(){return(pe&6)!==0?Ae():ws!==-1?ws:ws=Ae()}function dn(e){return(e.mode&1)===0?1:(pe&2)!==0&&qe!==0?qe&-qe:Ch.transition!==null?(_s===0&&(_s=Ia()),_s):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Ma(e.type)),e)}function jt(e,t,n,s){if(50<ai)throw ai=0,ml=null,Error(i(185));Ar(e,n,s),((pe&2)===0||e!==Be)&&(e===Be&&((pe&2)===0&&(gs|=n),De===4&&fn(e,qe)),st(e,s),n===1&&pe===0&&(t.mode&1)===0&&(ar=Ae()+500,Ji&&sn()))}function st(e,t){var n=e.callbackNode;Cf(e,t);var s=bi(e,e===Be?qe:0);if(s===0)n!==null&&Pa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Pa(n),t===1)e.tag===0?jh(Mc.bind(null,e)):ju(Mc.bind(null,e)),Sh(function(){(pe&6)===0&&sn()}),n=null;else{switch(Aa(s)){case 1:n=Js;break;case 4:n=ba;break;case 16:n=ji;break;case 536870912:n=Oa;break;default:n=ji}n=Jc(n,Uc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Uc(e,t){if(ws=-1,_s=0,(pe&6)!==0)throw Error(i(327));var n=e.callbackNode;if(ur()&&e.callbackNode!==n)return null;var s=bi(e,e===Be?qe:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Ss(e,s);else{t=s;var l=pe;pe|=2;var c=Bc();(Be!==e||qe!==t)&&(Wt=null,ar=Ae()+500,On(e,t));do try{qh();break}catch(w){Fc(e,w)}while(!0);No(),ps.current=c,pe=l,Ne!==null?t=0:(Be=null,qe=0,t=De)}if(t!==0){if(t===2&&(l=Gs(e),l!==0&&(s=l,t=vl(e,l))),t===1)throw n=oi,On(e,0),fn(e,s),st(e,Ae()),n;if(t===6)fn(e,s);else{if(l=e.current.alternate,(s&30)===0&&!Hh(l)&&(t=Ss(e,s),t===2&&(c=Gs(e),c!==0&&(s=c,t=vl(e,c))),t===1))throw n=oi,On(e,0),fn(e,s),st(e,Ae()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:In(e,it,Wt);break;case 3:if(fn(e,s),(s&130023424)===s&&(t=pl+500-Ae(),10<t)){if(bi(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Ze(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=xo(In.bind(null,e,it,Wt),t);break}In(e,it,Wt);break;case 4:if(fn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var h=31-wt(s);c=1<<h,h=t[h],h>l&&(l=h),s&=~c}if(s=l,s=Ae()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Wh(s/1960))-s,10<s){e.timeoutHandle=xo(In.bind(null,e,it,Wt),s);break}In(e,it,Wt);break;case 5:In(e,it,Wt);break;default:throw Error(i(329))}}}return st(e,Ae()),e.callbackNode===n?Uc.bind(null,e):null}function vl(e,t){var n=li;return e.current.memoizedState.isDehydrated&&(On(e,t).flags|=256),e=Ss(e,t),e!==2&&(t=it,it=n,t!==null&&yl(t)),e}function yl(e){it===null?it=e:it.push.apply(it,e)}function Hh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],c=l.getSnapshot;l=l.value;try{if(!_t(c(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~hl,t&=~gs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),s=1<<n;e[n]=-1,t&=~s}}function Mc(e){if((pe&6)!==0)throw Error(i(327));ur();var t=bi(e,0);if((t&1)===0)return st(e,Ae()),null;var n=Ss(e,t);if(e.tag!==0&&n===2){var s=Gs(e);s!==0&&(t=s,n=vl(e,s))}if(n===1)throw n=oi,On(e,0),fn(e,t),st(e,Ae()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,it,Wt),st(e,Ae()),null}function wl(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(ar=Ae()+500,Ji&&sn())}}function bn(e){cn!==null&&cn.tag===0&&(pe&6)===0&&ur();var t=pe;pe|=1;var n=vt.transition,s=ve;try{if(vt.transition=null,ve=1,e)return e()}finally{ve=s,vt.transition=n,pe=t,(pe&6)===0&&sn()}}function _l(){dt=lr.current,je(lr)}function On(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_h(n)),Ne!==null)for(n=Ne.return;n!==null;){var s=n;switch(bo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&qi();break;case 3:ir(),je(tt),je(Ke),Bo();break;case 5:Mo(s);break;case 4:ir();break;case 13:je(Pe);break;case 19:je(Pe);break;case 10:Lo(s.type._context);break;case 22:case 23:_l()}n=n.return}if(Be=e,Ne=e=hn(e.current,null),qe=dt=t,De=0,oi=null,hl=gs=Pn=0,it=li=null,jn!==null){for(t=0;t<jn.length;t++)if(n=jn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,c=n.pending;if(c!==null){var h=c.next;c.next=l,s.next=h}n.pending=s}jn=null}return e}function Fc(e,t){do{var n=Ne;try{if(No(),is.current=as,ss){for(var s=be.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ss=!1}if(Tn=0,Fe=$e=be=null,ei=!1,ti=0,fl.current=null,n===null||n.return===null){De=1,oi=t,Ne=null;break}e:{var c=e,h=n.return,w=n,S=t;if(t=qe,w.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,L=w,$=L.tag;if((L.mode&1)===0&&($===0||$===11||$===15)){var N=L.alternate;N?(L.updateQueue=N.updateQueue,L.memoizedState=N.memoizedState,L.lanes=N.lanes):(L.updateQueue=null,L.memoizedState=null)}var q=fc(h);if(q!==null){q.flags&=-257,hc(q,h,w,c,t),q.mode&1&&dc(c,P,t),t=q,S=P;var J=t.updateQueue;if(J===null){var G=new Set;G.add(S),t.updateQueue=G}else J.add(S);break e}else{if((t&1)===0){dc(c,P,t),Sl();break e}S=Error(i(426))}}else if(Ce&&w.mode&1){var Re=fc(h);if(Re!==null){(Re.flags&65536)===0&&(Re.flags|=256),hc(Re,h,w,c,t),Ao(sr(S,w));break e}}c=S=sr(S,w),De!==4&&(De=2),li===null?li=[c]:li.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var j=uc(c,S,t);$u(c,j);break e;case 1:w=S;var x=c.type,C=c.stateNode;if((c.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(un===null||!un.has(C)))){c.flags|=65536,t&=-t,c.lanes|=t;var D=cc(c,w,t);$u(c,D);break e}}c=c.return}while(c!==null)}Hc(n)}catch(Q){t=Q,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function Bc(){var e=ps.current;return ps.current=as,e===null?as:e}function Sl(){(De===0||De===3||De===2)&&(De=4),Be===null||(Pn&268435455)===0&&(gs&268435455)===0||fn(Be,qe)}function Ss(e,t){var n=pe;pe|=2;var s=Bc();(Be!==e||qe!==t)&&(Wt=null,On(e,t));do try{Vh();break}catch(l){Fc(e,l)}while(!0);if(No(),pe=n,ps.current=s,Ne!==null)throw Error(i(261));return Be=null,qe=0,De}function Vh(){for(;Ne!==null;)Wc(Ne)}function qh(){for(;Ne!==null&&!vf();)Wc(Ne)}function Wc(e){var t=Kc(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?Hc(e):Ne=t,fl.current=null}function Hc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=zh(n,t,dt),n!==null){Ne=n;return}}else{if(n=Uh(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ne=null;return}}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);De===0&&(De=5)}function In(e,t,n){var s=ve,l=vt.transition;try{vt.transition=null,ve=1,Kh(e,t,n,s)}finally{vt.transition=l,ve=s}return null}function Kh(e,t,n,s){do ur();while(cn!==null);if((pe&6)!==0)throw Error(i(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(Tf(e,c),e===Be&&(Ne=Be=null,qe=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||vs||(vs=!0,Jc(ji,function(){return ur(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=vt.transition,vt.transition=null;var h=ve;ve=1;var w=pe;pe|=4,fl.current=null,Fh(e,n),Nc(n,e),hh(So),Ai=!!_o,So=_o=null,e.current=n,Bh(n),yf(),pe=w,ve=h,vt.transition=c}else e.current=n;if(vs&&(vs=!1,cn=e,ys=l),c=e.pendingLanes,c===0&&(un=null),Sf(n.stateNode),st(e,Ae()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(ms)throw ms=!1,e=gl,gl=null,e;return(ys&1)!==0&&e.tag!==0&&ur(),c=e.pendingLanes,(c&1)!==0?e===ml?ai++:(ai=0,ml=e):ai=0,sn(),null}function ur(){if(cn!==null){var e=Aa(ys),t=vt.transition,n=ve;try{if(vt.transition=null,ve=16>e?16:e,cn===null)var s=!1;else{if(e=cn,cn=null,ys=0,(pe&6)!==0)throw Error(i(331));var l=pe;for(pe|=4,K=e.current;K!==null;){var c=K,h=c.child;if((K.flags&16)!==0){var w=c.deletions;if(w!==null){for(var S=0;S<w.length;S++){var P=w[S];for(K=P;K!==null;){var L=K;switch(L.tag){case 0:case 11:case 15:si(8,L,c)}var $=L.child;if($!==null)$.return=L,K=$;else for(;K!==null;){L=K;var N=L.sibling,q=L.return;if(bc(L),L===P){K=null;break}if(N!==null){N.return=q,K=N;break}K=q}}}var J=c.alternate;if(J!==null){var G=J.child;if(G!==null){J.child=null;do{var Re=G.sibling;G.sibling=null,G=Re}while(G!==null)}}K=c}}if((c.subtreeFlags&2064)!==0&&h!==null)h.return=c,K=h;else e:for(;K!==null;){if(c=K,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:si(9,c,c.return)}var j=c.sibling;if(j!==null){j.return=c.return,K=j;break e}K=c.return}}var x=e.current;for(K=x;K!==null;){h=K;var C=h.child;if((h.subtreeFlags&2064)!==0&&C!==null)C.return=h,K=C;else e:for(h=x;K!==null;){if(w=K,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:hs(9,w)}}catch(Q){Oe(w,w.return,Q)}if(w===h){K=null;break e}var D=w.sibling;if(D!==null){D.return=w.return,K=D;break e}K=w.return}}if(pe=l,sn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Ci,e)}catch{}s=!0}return s}finally{ve=n,vt.transition=t}}return!1}function Vc(e,t,n){t=sr(n,t),t=uc(e,t,1),e=ln(e,t,1),t=Ze(),e!==null&&(Ar(e,1,t),st(e,t))}function Oe(e,t,n){if(e.tag===3)Vc(e,e,n);else for(;t!==null;){if(t.tag===3){Vc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(un===null||!un.has(s))){e=sr(n,e),e=cc(t,e,1),t=ln(t,e,1),e=Ze(),t!==null&&(Ar(t,1,e),st(t,e));break}}t=t.return}}function Jh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(qe&n)===n&&(De===4||De===3&&(qe&130023424)===qe&&500>Ae()-pl?On(e,0):hl|=n),st(e,t)}function qc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Pi,Pi<<=1,(Pi&130023424)===0&&(Pi=4194304)));var n=Ze();e=Mt(e,t),e!==null&&(Ar(e,t,n),st(e,n))}function Gh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qc(e,n)}function Qh(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),qc(e,n)}var Kc;Kc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)rt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return rt=!1,Dh(e,t,n);rt=(e.flags&131072)!==0}else rt=!1,Ce&&(t.flags&1048576)!==0&&Cu(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ds(e,t),e=t.pendingProps;var l=Yn(t,Ke.current);rr(t,n),l=Vo(null,t,s,e,l,n);var c=qo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(s)?(c=!0,Ki(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,zo(t),l.updater=us,t.stateNode=l,l._reactInternals=t,Xo(t,s,e,n),t=nl(null,t,s,!0,c,n)):(t.tag=0,Ce&&c&&Po(t),Xe(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(ds(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Xh(s),e=kt(s,e),l){case 0:t=tl(null,t,s,e,n);break e;case 1:t=wc(null,t,s,e,n);break e;case 11:t=pc(null,t,s,e,n);break e;case 14:t=gc(null,t,s,kt(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:kt(s,l),tl(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:kt(s,l),wc(e,t,s,l,n);case 3:e:{if(_c(t),e===null)throw Error(i(387));s=t.pendingProps,c=t.memoizedState,l=c.element,Lu(e,t),ns(t,s,null,n);var h=t.memoizedState;if(s=h.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=sr(Error(i(423)),t),t=Sc(e,t,s,n,l);break e}else if(s!==l){l=sr(Error(i(424)),t),t=Sc(e,t,s,n,l);break e}else for(ct=tn(t.stateNode.containerInfo.firstChild),ut=t,Ce=!0,St=null,n=Ru(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(er(),s===l){t=Bt(e,t,n);break e}Xe(e,t,s,n)}t=t.child}return t;case 5:return zu(t),e===null&&Io(t),s=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,h=l.children,ko(s,l)?h=null:c!==null&&ko(s,c)&&(t.flags|=32),yc(e,t),Xe(e,t,h,n),t.child;case 6:return e===null&&Io(t),null;case 13:return kc(e,t,n);case 4:return Uo(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=tr(t,null,s,n):Xe(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:kt(s,l),pc(e,t,s,l,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,c=t.memoizedProps,h=l.value,ke(Zi,s._currentValue),s._currentValue=h,c!==null)if(_t(c.value,h)){if(c.children===l.children&&!tt.current){t=Bt(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var w=c.dependencies;if(w!==null){h=c.child;for(var S=w.firstContext;S!==null;){if(S.context===s){if(c.tag===1){S=Ft(-1,n&-n),S.tag=2;var P=c.updateQueue;if(P!==null){P=P.shared;var L=P.pending;L===null?S.next=S:(S.next=L.next,L.next=S),P.pending=S}}c.lanes|=n,S=c.alternate,S!==null&&(S.lanes|=n),$o(c.return,n,t),w.lanes|=n;break}S=S.next}}else if(c.tag===10)h=c.type===t.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(i(341));h.lanes|=n,w=h.alternate,w!==null&&(w.lanes|=n),$o(h,n,t),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}Xe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,rr(t,n),l=gt(l),s=s(l),t.flags|=1,Xe(e,t,s,n),t.child;case 14:return s=t.type,l=kt(s,t.pendingProps),l=kt(s.type,l),gc(e,t,s,l,n);case 15:return mc(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:kt(s,l),ds(e,t),t.tag=1,nt(s)?(e=!0,Ki(t)):e=!1,rr(t,n),lc(t,s,l),Xo(t,s,l,n),nl(null,t,s,!0,e,n);case 19:return Ec(e,t,n);case 22:return vc(e,t,n)}throw Error(i(156,t.tag))};function Jc(e,t){return Ta(e,t)}function Yh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,s){return new Yh(e,t,n,s)}function kl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xh(e){if(typeof e=="function")return kl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===me)return 11;if(e===Te)return 14}return 2}function hn(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ks(e,t,n,s,l,c){var h=2;if(s=e,typeof e=="function")kl(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ie:return An(n.children,l,c,t);case fe:h=8,l|=8;break;case Ie:return e=yt(12,n,t,l|2),e.elementType=Ie,e.lanes=c,e;case Me:return e=yt(13,n,t,l),e.elementType=Me,e.lanes=c,e;case Le:return e=yt(19,n,t,l),e.elementType=Le,e.lanes=c,e;case he:return xs(n,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ye:h=10;break e;case lt:h=9;break e;case me:h=11;break e;case Te:h=14;break e;case Se:h=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=yt(h,n,t,l),t.elementType=e,t.type=s,t.lanes=c,t}function An(e,t,n,s){return e=yt(7,e,s,t),e.lanes=n,e}function xs(e,t,n,s){return e=yt(22,e,s,t),e.elementType=he,e.lanes=n,e.stateNode={isHidden:!1},e}function xl(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function El(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zh(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qs(0),this.expirationTimes=Qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function jl(e,t,n,s,l,c,h,w,S){return e=new Zh(e,t,n,w,S),t===1?(t=1,c===!0&&(t|=8)):t=0,c=yt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zo(c),e}function ep(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Gc(e){if(!e)return rn;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(nt(n))return xu(e,n,t)}return t}function Qc(e,t,n,s,l,c,h,w,S){return e=jl(n,s,!0,e,l,c,h,w,S),e.context=Gc(null),n=e.current,s=Ze(),l=dn(n),c=Ft(s,l),c.callback=t??null,ln(n,c,l),e.current.lanes=l,Ar(e,l,s),st(e,s),e}function Es(e,t,n,s){var l=t.current,c=Ze(),h=dn(l);return n=Gc(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(c,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ln(l,t,h),e!==null&&(jt(e,l,h,c),ts(e,l,h)),h}function js(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cl(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function tp(){return null}var Xc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tl(e){this._internalRoot=e}Cs.prototype.render=Tl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Es(e,t,null,null)},Cs.prototype.unmount=Tl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bn(function(){Es(null,e,null,null)}),t[$t]=null}};function Cs(e){this._internalRoot=e}Cs.prototype.unstable_scheduleHydration=function(e){if(e){var t=La();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&za(e)}};function Pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ts(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zc(){}function np(e,t,n,s,l){if(l){if(typeof s=="function"){var c=s;s=function(){var P=js(h);c.call(P)}}var h=Qc(t,s,e,0,null,!1,!1,"",Zc);return e._reactRootContainer=h,e[$t]=h.current,qr(e.nodeType===8?e.parentNode:e),bn(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var w=s;s=function(){var P=js(S);w.call(P)}}var S=jl(e,0,!1,null,null,!1,!1,"",Zc);return e._reactRootContainer=S,e[$t]=S.current,qr(e.nodeType===8?e.parentNode:e),bn(function(){Es(t,S,n,s)}),S}function Ps(e,t,n,s,l){var c=n._reactRootContainer;if(c){var h=c;if(typeof l=="function"){var w=l;l=function(){var S=js(h);w.call(S)}}Es(t,h,e,l)}else h=np(n,t,e,l,s);return js(h)}Ra=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ir(t.pendingLanes);n!==0&&(Ys(t,n|1),st(t,Ae()),(pe&6)===0&&(ar=Ae()+500,sn()))}break;case 13:bn(function(){var s=Mt(e,1);if(s!==null){var l=Ze();jt(s,e,1,l)}}),Cl(e,1)}},Xs=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Ze();jt(t,e,134217728,n)}Cl(e,134217728)}},Na=function(e){if(e.tag===13){var t=dn(e),n=Mt(e,t);if(n!==null){var s=Ze();jt(n,e,t,s)}Cl(e,t)}},La=function(){return ve},$a=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}},Hs=function(e,t,n){switch(t){case"input":if(Jt(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Vi(s);if(!l)throw Error(i(90));_e(s),Jt(s,l)}}}break;case"textarea":da(e,n);break;case"select":t=n.value,t!=null&&Pt(e,!!n.multiple,t,!1)}},_a=wl,Sa=bn;var rp={usingClientEntryPoint:!1,Events:[Gr,Gn,Vi,ya,wa,wl]},ui={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ip={bundleType:ui.bundleType,version:ui.version,rendererPackageName:ui.rendererPackageName,rendererConfig:ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ja(e),e===null?null:e.stateNode},findFiberByHostInstance:ui.findFiberByHostInstance||tp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{Ci=bs.inject(ip),bt=bs}catch{}}return ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rp,ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pl(t))throw Error(i(200));return ep(e,t,null,n)},ot.createRoot=function(e,t){if(!Pl(e))throw Error(i(299));var n=!1,s="",l=Xc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=jl(e,1,!1,null,null,n,!1,s,l),e[$t]=t.current,qr(e.nodeType===8?e.parentNode:e),new Tl(t)},ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=ja(t),e=e===null?null:e.stateNode,e},ot.flushSync=function(e){return bn(e)},ot.hydrate=function(e,t,n){if(!Ts(t))throw Error(i(200));return Ps(null,e,t,!0,n)},ot.hydrateRoot=function(e,t,n){if(!Pl(e))throw Error(i(405));var s=n!=null&&n.hydratedSources||null,l=!1,c="",h=Xc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=Qc(t,null,e,1,n??null,l,!1,c,h),e[$t]=t.current,qr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Cs(t)},ot.render=function(e,t,n){if(!Ts(t))throw Error(i(200));return Ps(null,e,t,!1,n)},ot.unmountComponentAtNode=function(e){if(!Ts(e))throw Error(i(40));return e._reactRootContainer?(bn(function(){Ps(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1},ot.unstable_batchedUpdates=wl,ot.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ts(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Ps(e,t,n,!1,s)},ot.version="18.3.1-next-f1338f8080-20240426",ot}var ld;function hp(){if(ld)return Il.exports;ld=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),Il.exports=fp(),Il.exports}var ad;function pp(){if(ad)return Os;ad=1;var u=hp();return Os.createRoot=u.createRoot,Os.hydrateRoot=u.hydrateRoot,Os}var gp=pp();function di(u,r=20){const i=(u||"").toLowerCase();return i.includes("banana")?mp({size:r}):i.includes("almond")||i.includes("nut")?vp({size:r}):i.includes("salmon")||i.includes("fish")?yp({size:r}):i.includes("quinoa")||i.includes("grain")||i.includes("rice")?wp({size:r}):i.includes("smoothie")||i.includes("berry")?_p({size:r}):i.includes("apple")||i.includes("pear")?Sp({size:r}):i.includes("avocado")?kp({size:r}):i.includes("lemon")||i.includes("lime")?xp({size:r}):Ep({size:r})}function qt({children:u,size:r}){return _.jsx("svg",{width:r,height:r,viewBox:"0 0 24 24","aria-hidden":"true",style:{display:"inline-block",verticalAlign:"middle"},children:u})}function mp({size:u=20}){return _.jsxs(qt,{size:u,children:[_.jsx("path",{d:"M2 12c4-6 10-6 18-4",fill:"none",stroke:"#FFD66B",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M3 13c2 2 5 3 8 3 3 0 6-1 9-3",fill:"#FFE7A6",stroke:"#F5C041",strokeWidth:"0.3"})]})}function vp({size:u=20}){return _.jsx(qt,{size:u,children:_.jsx("ellipse",{cx:"12",cy:"12",rx:"8",ry:"5",fill:"#F5D3B3",stroke:"#D6A985",strokeWidth:"0.6"})})}function yp({size:u=20}){return _.jsxs(qt,{size:u,children:[_.jsx("path",{d:"M2 12s4-6 10-6 10 6 10 6-4 6-10 6S2 12 2 12z",fill:"#F4A1A1"}),_.jsx("circle",{cx:"8",cy:"10",r:"1",fill:"#fff"})]})}function wp({size:u=20}){return _.jsx(qt,{size:u,children:_.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"3",fill:"#F2E6B6",stroke:"#D6C089"})})}function _p({size:u=20}){return _.jsxs(qt,{size:u,children:[_.jsx("circle",{cx:"9",cy:"12",r:"3",fill:"#FF6B81"}),_.jsx("circle",{cx:"14",cy:"11",r:"2.5",fill:"#7CC6FF"})]})}function Sp({size:u=20}){return _.jsxs(qt,{size:u,children:[_.jsx("path",{d:"M12 5c2 0 3 1 4 2 1 1 1 3 0 5s-3 3-4 3-3-1-4-3-1-4 0-5c1-1 2-2 4-2z",fill:"#FF6B6B"}),_.jsx("path",{d:"M13 4c0 .8-.8 1.6-1 2",stroke:"#2C6B2C",strokeWidth:"0.6",fill:"none"})]})}function kp({size:u=20}){return _.jsxs(qt,{size:u,children:[_.jsx("path",{d:"M12 4c3 0 6 4 6 8s-3 8-6 8-6-4-6-8 3-8 6-8z",fill:"#7BD389"}),_.jsx("circle",{cx:"12",cy:"14",r:"2",fill:"#5B3E1B"})]})}function xp({size:u=20}){return _.jsx(qt,{size:u,children:_.jsx("ellipse",{cx:"12",cy:"12",rx:"6",ry:"4",fill:"#FFD166",stroke:"#E2B600"})})}function Ep({size:u=20}){return _.jsx(qt,{size:u,children:_.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#FFD66B"})})}const jp={},ud=u=>{let r;const i=new Set,o=(y,k)=>{const E=typeof y=="function"?y(r):y;if(!Object.is(E,r)){const b=r;r=k??(typeof E!="object"||E===null)?E:Object.assign({},r,E),i.forEach(O=>O(r,b))}},a=()=>r,g={setState:o,getState:a,getInitialState:()=>m,subscribe:y=>(i.add(y),()=>i.delete(y)),destroy:()=>{(jp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=r=u(o,a,g);return g},Cp=u=>u?ud(u):ud;var Nl={exports:{}},Ll={},$l={exports:{}},Dl={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd;function Tp(){if(cd)return Dl;cd=1;var u=wi();function r(k,E){return k===E&&(k!==0||1/k===1/E)||k!==k&&E!==E}var i=typeof Object.is=="function"?Object.is:r,o=u.useState,a=u.useEffect,d=u.useLayoutEffect,f=u.useDebugValue;function p(k,E){var b=E(),O=o({inst:{value:b,getSnapshot:E}}),I=O[0].inst,A=O[1];return d(function(){I.value=b,I.getSnapshot=E,g(I)&&A({inst:I})},[k,b,E]),a(function(){return g(I)&&A({inst:I}),k(function(){g(I)&&A({inst:I})})},[k]),f(b),b}function g(k){var E=k.getSnapshot;k=k.value;try{var b=E();return!i(k,b)}catch{return!0}}function m(k,E){return E()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:p;return Dl.useSyncExternalStore=u.useSyncExternalStore!==void 0?u.useSyncExternalStore:y,Dl}var dd;function Pp(){return dd||(dd=1,$l.exports=Tp()),$l.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd;function bp(){if(fd)return Ll;fd=1;var u=wi(),r=Pp();function i(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var o=typeof Object.is=="function"?Object.is:i,a=r.useSyncExternalStore,d=u.useRef,f=u.useEffect,p=u.useMemo,g=u.useDebugValue;return Ll.useSyncExternalStoreWithSelector=function(m,y,k,E,b){var O=d(null);if(O.current===null){var I={hasValue:!1,value:null};O.current=I}else I=O.current;O=p(function(){function ee(V){if(!Y){if(Y=!0,z=V,V=E(V),b!==void 0&&I.hasValue){var ie=I.value;if(b(ie,V))return B=ie}return B=V}if(ie=B,o(z,V))return ie;var fe=E(V);return b!==void 0&&b(ie,fe)?(z=V,ie):(z=V,B=fe)}var Y=!1,z,B,ae=k===void 0?null:k;return[function(){return ee(y())},ae===null?void 0:function(){return ee(ae())}]},[y,k,E,b]);var A=a(m,O[0],O[1]);return f(function(){I.hasValue=!0,I.value=A},[A]),g(A),A},Ll}var hd;function Op(){return hd||(hd=1,Nl.exports=bp()),Nl.exports}var Ip=Op();const Ap=ra(Ip),ia={},{useDebugValue:Rp}=Wd,{useSyncExternalStoreWithSelector:Np}=Ap;let pd=!1;const Lp=u=>u;function $p(u,r=Lp,i){(ia?"production":void 0)!=="production"&&i&&!pd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),pd=!0);const o=Np(u.subscribe,u.getState,u.getServerState||u.getInitialState,r,i);return Rp(o),o}const gd=u=>{(ia?"production":void 0)!=="production"&&typeof u!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof u=="function"?Cp(u):u,i=(o,a)=>$p(r,o,a);return Object.assign(i,r),i},Dp=u=>u?gd(u):gd;var zp=u=>((ia?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),Dp(u));const md=zp(u=>({profile:{conditions:[],allergies:[],custom:[]},setProfile:r=>u({profile:r})})),Hd="nutrinformation_profile";function Up(u){try{localStorage.setItem(Hd,JSON.stringify(u))}catch{}}function Mp(){try{const u=localStorage.getItem(Hd);return u?JSON.parse(u):null}catch{return null}}const Fp="modulepreload",Bp=function(u,r){return new URL(u,r).href},vd={},xr=function(r,i,o){let a=Promise.resolve();if(i&&i.length>0){let m=function(y){return Promise.all(y.map(k=>Promise.resolve(k).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};const f=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");a=m(i.map(y=>{if(y=Bp(y,o),y in vd)return;vd[y]=!0;const k=y.endsWith(".css"),E=k?'[rel="stylesheet"]':"";if(o)for(let O=f.length-1;O>=0;O--){const I=f[O];if(I.href===y&&(!k||I.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${E}`))return;const b=document.createElement("link");if(b.rel=k?"stylesheet":Fp,k||(b.as="script"),b.crossOrigin="",b.href=y,g&&b.setAttribute("nonce",g),document.head.appendChild(b),k)return new Promise((O,I)=>{b.addEventListener("load",O),b.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return a.then(f=>{for(const p of f||[])p.status==="rejected"&&d(p.reason);return r().catch(d)})};async function yd(u,r,i){const o=localStorage.getItem("provider")||"openai";if(o==="usda"){const{classifyWithUSDA:b}=await xr(async()=>{const{classifyWithUSDA:O}=await import("./usda-Divwdd6Y.js");return{classifyWithUSDA:O}},[],import.meta.url);return b(u)}const a=[{role:"system",content:i||"You are a nutrition assistant."},{role:"user",content:`Profile: ${JSON.stringify(r)}
Question: ${u}`}];if(o==="azure"){const b=Number(localStorage.getItem("max_tokens"))||300,O=localStorage.getItem("azure_endpoint"),I=localStorage.getItem("azure_key"),A=localStorage.getItem("azure_deployment"),ee=localStorage.getItem("azure_chat_api_version")||"2023-10-01-preview",Y=localStorage.getItem("azure_responses_api_version")||"2025-04-01-preview";if(!O||!I)throw new Error("Azure OpenAI endpoint or key not set. Please set them in Settings.");if(O.includes("/responses")){const me=O.replace(/[?&]$/,""),Le=/[?&]api-version=/.test(me)?me:me+(me.includes("?")?"&":"?")+"api-version="+encodeURIComponent(Y);console.log("[openai] Azure Responses request ->",Le);const Te=(localStorage.getItem("azure_deployment")||localStorage.getItem("openai_model")||"").trim();if(!Te)throw new Error('Azure Responses requires a model (deployment) name. Please set "Deployment / Model name" in Settings (e.g., your Azure deployment "gpt-5-mini").');const Se=await fetch(Le,{method:"POST",headers:{"Content-Type":"application/json","api-key":I},body:JSON.stringify({model:Te,input:`${JSON.stringify(r)}
Question: ${u}`,max_output_tokens:b})}),he=await Se.text();if(!Se.ok)throw console.error("[openai] Azure Responses error",Se.status,he),new Error(JSON.stringify({status:Se.status,body:he,hint:"Check that your Responses endpoint is correct, the api-version is supported, and the resource exists in the specified region."}));let U;try{U=JSON.parse(he)}catch{U=he}return U?.output?.[0]?.content||JSON.stringify(U)}const z=A&&A.trim()||(localStorage.getItem("openai_model")||"").trim();if(!z)throw new Error("Azure deployment not set. Please set it in Settings (or select a Model which will be used as the deployment name).");let B;try{B=new URL(O).origin}catch{B=O.replace(/\/$/,""),B=B.replace(/\/?openai\/?$/i,"")}const ae=B.replace(/\/$/,"")+`/openai/deployments/${encodeURIComponent(z)}/chat/completions?api-version=${encodeURIComponent(ee)}`;console.log("[openai] Azure chat request ->",ae);const V=await fetch(ae,{method:"POST",headers:{"Content-Type":"application/json","api-key":I},body:JSON.stringify({messages:a,max_completion_tokens:b})}),ie=await V.text();if(!V.ok)throw console.error("[openai] Azure chat error",V.status,ie),new Error(JSON.stringify({status:V.status,body:ie,hint:"Check deployment name, endpoint host, api-key, and api-version. 404 usually means the deployment or path is incorrect."}));let fe;try{fe=JSON.parse(ie)}catch{fe=ie}const Ie=fe?.choices?.[0];let ye=Ie?.message?.content||"";const lt=Ie?.finish_reason;return(!ye||ye==="")&&lt==="length"&&(ye=(ye||"")+`

[Response truncated by model (finish_reason=length). Consider increasing max tokens or shortening prompt. You can also click "Continue" to ask the assistant to finish the response.]`),ye||JSON.stringify(fe)}if(o==="hf"){const b=localStorage.getItem("hf_api_key"),O=localStorage.getItem("hf_model");if(!b||!O)throw new Error("Hugging Face API key or model not set. Please set them in Settings.");const I=`https://api-inference.huggingface.co/models/${encodeURIComponent(O)}`;try{const A=await fetch(I,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({inputs:u,parameters:{max_new_tokens:Number(localStorage.getItem("max_tokens")||150)}})}),ee=await A.text();if(!A.ok)try{const Y=JSON.parse(ee);throw new Error(JSON.stringify(Y))}catch{throw new Error(ee)}try{const Y=JSON.parse(ee);return Array.isArray(Y)&&Y[0]?.generated_text?Y[0].generated_text:Y?.generated_text?Y.generated_text:Y?.text?Y.text:JSON.stringify(Y)}catch{return ee}}catch(A){throw A}}const d=localStorage.getItem("openai_api_key");if(!d){if(localStorage.getItem("demo_mode")==="true")return"Demo mode: OpenAI/Azure key not set. This is a demo response. Paste your key in Settings for live results.";throw new Error("API key not set. Please set your OpenAI or Azure key in Settings to use the assistant.")}const f=Number(localStorage.getItem("max_tokens"))||300,p=localStorage.getItem("openai_model")||"gpt-4o-mini",g=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({model:p,messages:a,max_tokens:f})});if(!g.ok){const b=await g.text();try{const I=JSON.parse(b)?.error;if(I&&I.code==="insufficient_quota"){try{const A=await fetch("/api/hf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:u})});if(A.ok){const ee=await A.json();return ee.text||JSON.stringify(ee)}}catch{}if(localStorage.getItem("demo_mode")==="true")return"Demo mode: the configured OpenAI account has exceeded its quota. This is a demo response. To use the live assistant, check your OpenAI billing or paste your own API key in Settings.";throw new Error("OpenAI quota exceeded (insufficient_quota). Please check your OpenAI plan/billing or paste a personal API key in Settings to continue.")}}catch{}throw new Error(b)}const m=await g.json(),y=m?.choices?.[0];let k=y?.message?.content||"";const E=y?.finish_reason;return(!k||k==="")&&E==="length"&&(k=(k||"")+`

[Response truncated by model (finish_reason=length). Consider increasing max tokens or shortening prompt. You can also click "Continue" to ask the assistant to finish the response.]`),k||JSON.stringify(m)}function Wp(){const[u,r]=re.useState(localStorage.getItem("openai_api_key")||""),[i,o]=re.useState(localStorage.getItem("provider")||"azure"),[a,d]=re.useState(localStorage.getItem("azure_endpoint")||""),[f,p]=re.useState(localStorage.getItem("azure_key")||""),[g,m]=re.useState(localStorage.getItem("azure_deployment")||""),[y,k]=re.useState(localStorage.getItem("azure_chat_api_version")||"2023-10-01-preview"),[E,b]=re.useState(localStorage.getItem("azure_responses_api_version")||"2025-04-01-preview"),[O,I]=re.useState(Number(localStorage.getItem("max_tokens"))||32768),[A,ee]=re.useState(localStorage.getItem("auto_continue")==="true"),[Y,z]=re.useState(Number(localStorage.getItem("auto_continue_count"))||2),[B,ae]=re.useState(localStorage.getItem("openai_model")||"gpt-5-mini"),[V,ie]=re.useState(localStorage.getItem("usda_api_key")||""),[fe,Ie]=re.useState(null),[ye,lt]=re.useState(localStorage.getItem("hf_api_key")||""),[me,Me]=re.useState(localStorage.getItem("hf_model")||""),[Le,Te]=re.useState(null),[Se,he]=re.useState(localStorage.getItem("enable_startup_suggestions")!=="false"),[U,Z]=re.useState(()=>{try{return JSON.parse(localStorage.getItem("startup_quick_topics")||"null")||["almond milk","salmon","banana smoothie","quinoa salad"]}catch{return["almond milk","salmon","banana smoothie","quinoa salad"]}}),[W,v]=re.useState("");re.useEffect(()=>{console.log("Settings component mounted, current key length:",(u||"").length)},[]),re.useEffect(()=>{try{localStorage.setItem("provider",i),localStorage.setItem("max_tokens",String(O)),localStorage.setItem("openai_model",B),localStorage.setItem("auto_continue",A?"true":"false"),localStorage.setItem("auto_continue_count",String(Y)),localStorage.setItem("enable_startup_suggestions",Se?"true":"false"),localStorage.setItem("startup_quick_topics",JSON.stringify(U)),i==="openai"?u.trim()&&localStorage.setItem("openai_api_key",u.trim()):i==="azure"&&(a.trim()&&localStorage.setItem("azure_endpoint",a.trim()),f.trim()&&localStorage.setItem("azure_key",f.trim()),g.trim()&&localStorage.setItem("azure_deployment",g.trim()),y.trim()&&localStorage.setItem("azure_chat_api_version",y.trim()),E.trim()&&localStorage.setItem("azure_responses_api_version",E.trim()),!g.trim()&&B.trim()&&localStorage.setItem("azure_deployment",B.trim())),V.trim()&&localStorage.setItem("usda_api_key",V.trim()),ye.trim()&&localStorage.setItem("hf_api_key",ye.trim()),me.trim()&&localStorage.setItem("hf_model",me.trim())}catch{}},[i,O,B,A,Y,Se,U,u,a,f,g,y,E,V,ye,me]);function T(){i==="openai"?localStorage.setItem("openai_api_key",u.trim()):i==="azure"&&(localStorage.setItem("azure_endpoint",a.trim()),localStorage.setItem("azure_key",f.trim()),localStorage.setItem("azure_deployment",g.trim()),localStorage.setItem("azure_chat_api_version",y.trim()),localStorage.setItem("azure_responses_api_version",E.trim()),!g.trim()&&B.trim()&&localStorage.setItem("azure_deployment",B.trim())),V.trim()&&localStorage.setItem("usda_api_key",V.trim()),ye.trim()&&localStorage.setItem("hf_api_key",ye.trim()),me.trim()&&localStorage.setItem("hf_model",me.trim()),localStorage.setItem("provider",i),localStorage.setItem("max_tokens",String(O)),localStorage.setItem("openai_model",B),localStorage.setItem("auto_continue",A?"true":"false"),localStorage.setItem("auto_continue_count",String(Y)),localStorage.setItem("enable_startup_suggestions",Se?"true":"false"),localStorage.setItem("startup_quick_topics",JSON.stringify(U)),alert("Saved settings locally.")}async function F(){Ie(null);try{const R=await fetch(`https://api.nal.usda.gov/fdc/v1/foods/search?api_key=${encodeURIComponent(V)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({generalSearchInput:"apple",pageSize:1})});if(!R.ok){Ie(!1);return}const X=await R.json();X&&X.foods&&X.foods.length>0?Ie(!0):Ie(!1)}catch{Ie(!1)}}async function M(){Te(null);try{if(!ye||!me){Te(!1);return}const R=`https://api-inference.huggingface.co/models/${encodeURIComponent(me)}`;if(!(await fetch(R,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ye}`},body:JSON.stringify({inputs:"Hello",parameters:{max_new_tokens:1}})})).ok){Te(!1);return}Te(!0)}catch{Te(!1)}}function H(){localStorage.removeItem("openai_api_key"),r(""),alert("Cleared API key")}return _.jsxs("div",{className:"settings",style:{background:"linear-gradient(180deg,#fff,#fffefc)",padding:12,borderRadius:10},children:[_.jsx("div",{className:"debug-banner",style:{background:"linear-gradient(90deg,var(--accent-2),var(--accent-4))",padding:8,borderRadius:6,marginBottom:8,color:"#111"},children:"Settings"}),_.jsxs("div",{style:{marginBottom:8},children:[_.jsx("label",{style:{display:"block",fontWeight:600},children:"Provider"}),_.jsxs("select",{value:i,onChange:R=>o(R.target.value),"aria-label":"Select AI provider",children:[_.jsx("option",{value:"openai",children:"OpenAI (api.openai.com)"}),_.jsx("option",{value:"azure",children:"Azure OpenAI"})]})]}),_.jsx("h3",{children:"Settings"}),i==="openai"?_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"OpenAI API Key"}),_.jsx("input",{value:u,onChange:R=>r(R.target.value),placeholder:"sk-..."})]}):_.jsxs("div",{children:[_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"Azure OpenAI Endpoint"}),_.jsx("input",{value:a,onChange:R=>d(R.target.value),placeholder:"https://your-resource.openai.azure.com/..."})]}),_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"Azure Chat API Version"}),_.jsx("input",{value:y,onChange:R=>k(R.target.value),placeholder:"2023-10-01-preview"})]}),_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"Azure Responses API Version"}),_.jsx("input",{value:E,onChange:R=>b(R.target.value),placeholder:"2025-04-01-preview"})]}),_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"Azure API Key"}),_.jsx("input",{value:f,onChange:R=>p(R.target.value),placeholder:"Azure key"})]}),_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"Deployment / Model name"}),_.jsx("input",{value:g,onChange:R=>m(R.target.value),placeholder:"deployment-name or model"})]}),_.jsxs("div",{className:"muted",children:["If your endpoint is a Responses API URL (contains ",_.jsx("code",{children:"/responses"}),"), paste the base URL (with or without ",_.jsx("code",{children:"?api-version=..."}),") and still set ",_.jsx("b",{children:"Deployment / Model name"})," to your Azure deployment (e.g., ",_.jsx("code",{children:"gpt-5-mini"}),"). For Chat Completions, use the base endpoint (e.g. ",_.jsx("code",{children:"https://<resource-name>.openai.azure.com"}),") and set the same deployment name."]})]}),_.jsxs("div",{style:{marginTop:12},children:[_.jsx("h4",{children:"USDA (FoodData Central) — Optional"}),_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"USDA API Key"}),_.jsx("input",{value:V,onChange:R=>{ie(R.target.value),Ie(null)},placeholder:"USDA API key"})]}),_.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[_.jsx("button",{onClick:F,children:"Validate USDA key"}),fe===!0?_.jsx("span",{style:{color:"green"},children:"Valid"}):fe===!1?_.jsx("span",{style:{color:"crimson"},children:"Invalid"}):null]}),_.jsx("div",{className:"muted",children:"This is not required for the AI assistant. Only fill this if you want to use USDA data lookups for nutrition details."})]}),_.jsxs("div",{style:{marginTop:12},children:[_.jsx("h4",{children:"Hugging Face Inference"}),_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"HF API Key"}),_.jsx("input",{value:ye,onChange:R=>{lt(R.target.value),Te(null)},placeholder:"HF API key (starts with hf_...)"})]}),_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"HF Model"}),_.jsx("input",{value:me,onChange:R=>{Me(R.target.value),Te(null)},placeholder:"model name (e.g. google/flan-t5-large)"})]}),_.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[_.jsx("button",{onClick:M,children:"Validate HF key & model"}),Le===!0?_.jsx("span",{style:{color:"green"},children:"Valid"}):Le===!1?_.jsx("span",{style:{color:"crimson"},children:"Invalid"}):null]})]}),_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"Max completion tokens"}),_.jsx("input",{type:"number",value:O,onChange:R=>I(Number(R.target.value)),min:50,max:13e4}),_.jsx("div",{className:"muted",children:"Max completion tokens to request (Azure uses max_completion_tokens). Your account supports up to 130,000 tokens/minute; set per-request token limit here."})]}),_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"Model (OpenAI / Azure deployment)"}),_.jsx("input",{list:"model-suggestions",value:B,onChange:R=>ae(R.target.value),placeholder:"e.g., gpt-5-mini"}),_.jsxs("datalist",{id:"model-suggestions",children:[_.jsx("option",{value:"gpt-5-mini"}),_.jsx("option",{value:"gpt-5-mini-3"}),_.jsx("option",{value:"gpt-4o-mini"}),_.jsx("option",{value:"gpt-4o"})]}),_.jsxs("div",{className:"muted",children:["Type the exact model or Azure ",_.jsx("b",{children:"deployment"})," name. For Azure, this value can double as the deployment name if the dedicated field is left blank."]})]}),_.jsxs("div",{className:"field",children:[_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",checked:Se,onChange:R=>he(R.target.checked)})," Enable startup suggestions"]}),_.jsxs("div",{style:{marginTop:8},children:[_.jsx("label",{children:"Quick topics (click Add to append)"}),_.jsxs("div",{style:{display:"flex",gap:8,marginTop:6},children:[_.jsx("input",{value:W,onChange:R=>v(R.target.value),placeholder:"e.g., chia pudding"}),_.jsx("button",{onClick:()=>{W.trim()&&(Z(R=>[...R,W.trim()]),v(""))},children:"Add"})]}),_.jsx("div",{style:{marginTop:8,display:"flex",flexWrap:"wrap",gap:8},children:U.map((R,X)=>_.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6,background:"#fffef8",padding:"6px 8px",borderRadius:999},children:[_.jsx("span",{style:{fontSize:12},children:R}),_.jsx("button",{onClick:()=>Z(de=>de.filter(oe=>oe!==R)),style:{background:"transparent",border:0,cursor:"pointer"},children:"✕"})]},X))})]})]}),_.jsxs("div",{className:"field",children:[_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",checked:A,onChange:R=>ee(R.target.checked)})," Auto-continue when response is truncated"]}),_.jsxs("div",{style:{marginTop:8},children:[_.jsx("label",{children:"Auto-continue max times"}),_.jsx("input",{type:"number",value:Y,onChange:R=>z(Number(R.target.value)),min:1,max:10})]})]}),_.jsxs("div",{style:{display:"flex",gap:8},children:[_.jsx("button",{onClick:T,children:"Save settings"}),_.jsx("button",{onClick:H,style:{background:"#eee"},children:"Clear"}),_.jsx("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("nutri:closeSettings"))},style:{background:"transparent",border:"1px solid rgba(0,0,0,0.06)"},children:"Back to home"})]}),_.jsx("p",{className:"muted",children:"The key is stored locally in your browser only. Do not paste sensitive keys into public machines."})]})}const pi=[{id:"plank",name:"Plank Hold",description:"Engage core by maintaining a straight line from head to heels.",tips:"Avoid letting hips sag. Breathe steadily.",duration:"30–45 sec x 3 sets",svg:`<svg width="90" height="60" viewBox="0 0 90 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="5" y="40" width="80" height="8" rx="4" fill="#ffe9b3" />
      <circle cx="20" cy="30" r="6" fill="#ffb347" />
      <rect x="18" y="28" width="50" height="8" rx="4" fill="#ffce66" />
      <rect x="50" y="34" width="22" height="6" rx="3" fill="#ffc24d" />
    </svg>`},{id:"bodyweight-squat",name:"Bodyweight Squat",description:"Lower hips back and down, keeping knees tracking over toes.",tips:"Chest up, weight in mid-foot / heels.",duration:"12 reps x 3 sets",svg:`<svg width="90" height="60" viewBox="0 0 90 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="45" cy="18" r="6" fill="#7bd389" />
      <rect x="42" y="24" width="6" height="14" rx="3" fill="#92e09b" />
      <rect x="36" y="38" width="18" height="8" rx="4" fill="#6bcf80" />
      <rect x="34" y="46" width="10" height="6" rx="3" fill="#5fb872" />
      <rect x="46" y="46" width="10" height="6" rx="3" fill="#5fb872" />
    </svg>`},{id:"pushup-incline",name:"Incline Push-Up",description:"Hands elevated on sturdy surface; lower chest toward platform.",tips:"Keep core braced; elbows ~45° angle.",duration:"10 reps x 3 sets",svg:`<svg width="90" height="60" viewBox="0 0 90 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="10" y="40" width="50" height="8" rx="4" fill="#9fd3ff" />
      <rect x="50" y="30" width="25" height="10" rx="5" fill="#7cc6ff" />
      <circle cx="24" cy="36" r="6" fill="#4da9ff" />
      <rect x="24" y="34" width="36" height="6" rx="3" fill="#66b9ff" />
    </svg>`},{id:"glute-bridge",name:"Glute Bridge",description:"Drive hips upward by squeezing glutes, forming a straight line shoulders to knees.",tips:"Do not hyperextend lower back.",duration:"12 reps x 3 sets",svg:`<svg width="90" height="60" viewBox="0 0 90 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="5" y="42" width="80" height="8" rx="4" fill="#ffe1d6" />
      <rect x="20" y="34" width="35" height="8" rx="4" fill="#ffb19d" />
      <circle cx="56" cy="38" r="6" fill="#ff977c" />
      <rect x="40" y="30" width="14" height="6" rx="3" fill="#ffcab9" />
    </svg>`},{id:"bird-dog",name:"Bird Dog",description:"From quadruped, extend opposite arm and leg; keep hips level and core engaged.",tips:"Reach long rather than high.",duration:"8 reps/side x 2–3 sets",svg:`<svg width="90" height="60" viewBox="0 0 90 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="10" y="40" width="70" height="8" rx="4" fill="#e3d7ff" />
      <rect x="18" y="34" width="30" height="8" rx="4" fill="#bfa8ff" />
      <circle cx="50" cy="38" r="6" fill="#9d85ff" />
      <rect x="28" y="30" width="14" height="6" rx="3" fill="#d2c4ff" />
      <rect x="34" y="26" width="18" height="4" rx="2" fill="#c5b4ff" />
    </svg>`},{id:"burpee",name:"Burpee",description:"Full-body movement combining squat, plank, and jump to elevate heart rate.",tips:"Land softly; keep core tight when kicking feet back.",duration:"6–10 reps x 3 sets",svg:`<svg width="90" height="60" viewBox="0 0 90 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="5" y="42" width="80" height="8" rx="4" fill="#ffe9b3" />
      <circle cx="24" cy="22" r="6" fill="#ff6b6b" />
      <rect x="22" y="28" width="10" height="14" rx="3" fill="#ff8d8d" />
      <rect x="18" y="42" width="18" height="6" rx="3" fill="#ffb1b1" />
    </svg>`,gifUrl:"https://upload.wikimedia.org/wikipedia/commons/d/df/Burpee.gif",attribution:"Burpee.gif by Taco Fleur / Jahobr (Wikimedia Commons)",license:"CC BY-SA 4.0"}];function Hp(u=new Date){const r=u.getFullYear()*372+u.getMonth()*31+u.getDate();return pi[r%pi.length]}function wd(){const[u,r]=re.useState(""),i=re.useRef(null),[o,a]=re.useState([]),[d,f]=re.useState(!1),[p,g]=re.useState(!1),m=md(v=>v.profile),y=md(v=>v.setProfile),k="Response truncated by model (finish_reason=length)",E=re.useRef(null),[b,O]=re.useState(null),[I,A]=re.useState(null),[ee,Y]=re.useState(null),[z,B]=re.useState(null),[ae,V]=re.useState(null),ie=re.useRef(null);function fe(){for(let v=o.length-1;v>=0;--v)if(o[v].from==="assistant")return o[v];return null}function Ie(){const v=fe();return!!(v&&typeof v.text=="string"&&v.text.includes(k))}function ye(v){if(!v)return null;const T=String(v),F=T.match(/\b(Beneficial|Avoid|Neutral)\b/i);if(F&&F[1]){const R=F[1].toLowerCase();if(R==="beneficial")return"beneficial";if(R==="avoid")return"avoid";if(R==="neutral")return"neutral"}const M=T.split(new RegExp("(?<=[.!?])\\s+")).slice(0,2);for(const R of M){const X=R.toLowerCase();if(/\b(avoid|do not|don't|not recommended|should not)\b/.test(X))return"avoid";if(/\b(beneficial|benefit|good for|recommended|healthy|suggests it is good)\b/.test(X))return"beneficial";if(/\bneutral\b/.test(X))return"neutral"}const H=T.toLowerCase();return/\b(avoid|do not|don't|not recommended|should not)\b/.test(H)?"avoid":/\b(beneficial|benefit|good for|recommended|healthy)\b/.test(H)?"beneficial":H.includes("neutral")?"neutral":null}async function lt(v){const T=fe();if(!T)return"";let F=(T.text||"").replace(k,"").trim(),M="";for(let H=0;H<v;H++){const R=F?`Continue the following assistant response without repeating the truncation hint. Previous assistant text:

${F}

Continue:`:"Please continue the previous answer.";try{const X=await yd(R,m,"You are a nutrition assistant. Continue the previous response.");if(!X||(M+=(M?`

`:"")+X,!X.includes(k)))break;F=F+`

`+X}catch(X){console.error("Continuation error",X);break}}return M}re.useEffect(()=>{const v=Mp();v&&y(v)},[y]);async function me(){try{const T=await fetch("https://en.wikipedia.org/api/rest_v1/page/summary/Healthy_diet");if(!T.ok)throw new Error("Wikipedia fetch failed");const F=await T.json();O(F)}catch(v){console.warn("Failed to load wiki summary",v),O({title:"Healthy diet",extract:"Learn about balanced nutrition on Wikipedia.",content_urls:{desktop:{page:"https://en.wikipedia.org/wiki/Healthy_diet"}}})}}async function Me(){try{try{const F=localStorage.getItem("server_base")||"",M=(F?F.replace(/\/$/,""):"")+"/daily-tip",H=await fetch(M);if(H.ok){const R=await H.json();if(R&&R.tip){A(R.tip);return}}}catch{}const v=["Include a variety of colorful vegetables to ensure diverse micronutrients.","Choose whole grains over refined grains for better fiber and satiety.","Aim for a palm-sized portion of protein at each meal to support muscle maintenance."],T=new Date().getDate()%v.length;A(v[T])}catch(v){console.warn(v)}}async function Le(){try{const v=[],T=H=>new Promise((R,X)=>setTimeout(()=>X(new Error("timeout")),H));async function F(H,R=3500){const X=new AbortController;return v.push(X),Promise.race([fetch(H,{signal:X.signal}),T(R)])}let M=null;try{const H=await F("https://zenquotes.io/api/today");if(H.ok){const R=await H.json();Array.isArray(R)&&R[0]?.q&&(M=`${R[0].q} — ${R[0].a}`)}}catch{}if(!M)try{const H=await F("https://api.quotable.io/random?tags=health|inspirational");if(H.ok){const R=await H.json();R?.content&&(M=`${R.content} — ${R.author}`)}}catch{}if(!M){const H=["Small, consistent choices compound into lifelong health.","Hydration, movement, and sleep: the quiet trio behind vibrant energy.","Nourish your body today so it can carry you tomorrow.","Progress over perfection—one wholesome meal nudges the arc forward."],R=new Date().getDate()%H.length;M=H[R]}Y(M),v.forEach(H=>H.abort())}catch{Y("Healthy habits build powerful results over time.")}}function Te(){try{const v=Hp(new Date);B(v)}catch{B(null)}}function Se(){try{if(!pi.length)return;const v=z?.id,T=pi.filter(M=>M.id!==v),F=T[Math.floor(Math.random()*T.length)]||pi[0];B(F)}catch(v){console.warn("Shuffle failed",v)}}re.useEffect(()=>{const v=()=>g(!1);return window.addEventListener("nutri:closeSettings",v),()=>window.removeEventListener("nutri:closeSettings",v)},[]),re.useEffect(()=>{me(),Me(),Le(),Te()},[]),re.useEffect(()=>{Up(m)},[m]),re.useEffect(()=>{try{const v=ie.current;if(!v)return;requestAnimationFrame(()=>{v.scrollTo({top:v.scrollHeight,behavior:"smooth"})})}catch(v){console.error("Auto-scroll failed",v)}},[o,d]),re.useEffect(()=>{try{a(v=>{let T=!1;const F=v.map(M=>{if(M.from!=="assistant")return M;const H=ye(M.text);return M.classification!==H?(T=!0,{...M,classification:H}):M});return T?F:v})}catch(v){console.error("Reclassify messages failed",v)}},[o.length]);async function he(v){f(!0);const T={from:"user",text:v};a(oe=>[...oe,T]);const M=Array.from(new Set([...m?.allergies||[],...m?.custom||[]])).map(oe=>(oe||"").toLowerCase()).filter(Boolean),H=(v||"").toLowerCase(),R=M.filter(oe=>oe&&H.includes(oe)),X=[];X.push(`You are a nutrition assistant. Use this user's health profile: ${JSON.stringify(m)}.`),X.push("Treat any items listed in profile.custom as allergies/sensitivities (equivalent to allergies). If a food or recipe contains any item from allergies or custom, classify as Avoid and include a clear safety warning. Prefer safety and suggest suitable alternatives when relevant."),R.length&&X.push(`Alert: The user prompt mentions these allergy/sensitivity terms from the profile: ${R.join(", ")}. Be strict: classify as Avoid and explain the risk. Offer safe alternatives.`),X.push("After analysis, classify the item as one of: Beneficial, Neutral, or Avoid, and provide a concise explanation.");const de=X.join(" ");a(oe=>[...oe,{from:"assistant",text:"Analyzing..."}]);try{const oe=await yd(v,m,de),we=ye(oe);a(Kt=>[...Kt.slice(0,-1),{from:"assistant",text:oe,classification:we}])}catch(oe){a(we=>[...we.slice(0,-1),{from:"assistant",text:"Error: "+String(oe)}])}finally{f(!1)}}async function U(){if(d)return;const v=localStorage.getItem("auto_continue")==="true",T=Number(localStorage.getItem("auto_continue_count")||(v?"2":"1"));f(!0);const F={from:"user",text:"Please continue the previous answer."};a(M=>[...M,F]),a(M=>[...M,{from:"assistant",text:"Analyzing..."}]);try{const M=await lt(T);if(M){const H=ye(M);a(R=>[...R.slice(0,-1),{from:"assistant",text:M,classification:H}])}else a(H=>[...H.slice(0,-1),{from:"assistant",text:"No additional content returned."}])}catch(M){a(H=>[...H.slice(0,-1),{from:"assistant",text:"Error: "+String(M)}])}finally{f(!1),E.current=null}}async function Z(v=3,T){const F="https://www.thegoodtrade.com/features/clean-eating-recipes/";try{const H=await(await fetch(F,{method:"GET",mode:"cors"})).text(),X=new DOMParser().parseFromString(H,"text/html"),de=Array.from(X.querySelectorAll("article a[href], a[href]")).map(_e=>({href:_e.getAttribute("href")||"",text:(_e.textContent||"").trim()})).filter(_e=>_e.href&&_e.href.includes("thegoodtrade.com")),oe=new Set,we=[];for(const _e of de){let Ye=_e.href;if(Ye.startsWith("/")&&(Ye="https://www.thegoodtrade.com"+Ye),!oe.has(Ye)&&(oe.add(Ye),we.push({title:_e.text||Ye,href:Ye}),we.length>=v))break}if(we.length>=v)return we;const Kt=de.filter(_e=>/recipe|recipes|dish|food|meal/i.test(_e.href)||/recipe/i.test(_e.text)).map(_e=>({title:_e.text||_e.href,href:_e.href.startsWith("/")?"https://www.thegoodtrade.com"+_e.href:_e.href}));for(const _e of Kt){if(we.length>=v)break;oe.has(_e.href)||(oe.add(_e.href),we.push(_e))}try{const _e=[...T?.allergies||[],...T?.custom||[]].map(ft=>(ft||"").toLowerCase()),Ye=(T?.custom||[]).map(ft=>ft.toLowerCase()).concat((T?.conditions||[]).map(ft=>ft.toLowerCase()));let wn=we.filter(ft=>{const zn=(ft.title||"").toLowerCase();for(const Jt of _e)if(Jt&&zn.includes(Jt))return!1;return!0});return wn.sort((ft,zn)=>{const Jt=(ft.title||"").toLowerCase(),Si=(zn.title||"").toLowerCase(),jr=Ye.reduce((Pt,Lt)=>Pt+(Lt&&Jt.includes(Lt)?1:0),0);return Ye.reduce((Pt,Lt)=>Pt+(Lt&&Si.includes(Lt)?1:0),0)-jr}),wn.slice(0,Math.max(v,wn.length))}catch{return we.slice(0,Math.max(v,we.length))}}catch(M){throw console.warn("Recipe fetch failed (likely CORS):",M),M}}async function W(){f(!0),a(T=>[...T,{from:"user",text:"Show me recipes"}]),a(T=>[...T,{from:"assistant",text:"Fetching recipe suggestions..."}]);try{let T=[];try{T=await Z(3,m)}catch(F){console.warn("Recipe fetch failed; using curated fallback",F),T=[{title:"Healthy Weeknight Dinners (Allrecipes collection)",href:"https://www.allrecipes.com/recipes/84/healthy-recipes/"},{title:"BBC Good Food - Healthy recipes",href:"https://www.bbcgoodfood.com/recipes/collection/healthy"},{title:"Cookie and Kate - Healthy recipes",href:"https://cookieandkate.com/best-healthy-recipes/"}]}a(F=>[...F.slice(0,-1),{from:"assistant",recipes:T}])}catch{a(F=>[...F.slice(0,-1),{from:"assistant",text:"Unable to fetch recipes right now. Try opening the Recipes page."}])}finally{f(!1)}}return re.useEffect(()=>{try{if(!Ie())return;const T=fe()?.text.replace(k,"").trim()||"";if(!(localStorage.getItem("auto_continue")==="true")||d||E.current===T)return;E.current=T,U()}catch(v){console.error("Auto-continue side effect error",v)}},[o]),_.jsxs("div",{className:"app",children:[_.jsxs("header",{children:[_.jsx("h1",{children:"NutriCoach AI"}),_.jsx("div",{style:{marginLeft:"auto"},children:_.jsx("button",{onClick:()=>g(v=>!v),"aria-pressed":p,children:"Settings"})})]}),_.jsxs("div",{className:"hero-split",children:[_.jsxs("div",{className:"hero-left",children:[_.jsx("div",{className:"logo",children:"NutriCoach"}),_.jsxs("h2",{className:"hero-title",children:["Eat fresh",_.jsx("br",{}),"stay healthy"]}),_.jsx("p",{className:"hero-sub muted",children:"Personalized nutrition guidance — quick, evidence-minded"}),_.jsx("div",{style:{marginTop:18},children:_.jsx("button",{className:"hero-cta",onClick:()=>{me(),i.current?.focus(),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},children:"Get started"})}),_.jsxs("div",{className:"hero-card",style:{marginTop:22},children:[_.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.9)"},children:"Quick, personalized tips and food classification based on your profile. Find recipes and alternatives tailored to you."}),_.jsx("div",{style:{marginTop:12},children:_.jsx("button",{className:"hero-card-btn",onClick:()=>{W()},children:"Recipe"})})]})]}),_.jsxs("div",{className:"hero-right",children:[_.jsx("div",{className:"hero-image","aria-hidden":"true"}),_.jsx("div",{className:"hero-info","aria-live":"polite",children:b?_.jsxs("div",{children:[_.jsx("h3",{style:{marginTop:0},children:b.title}),_.jsx("p",{className:"muted",children:b.extract}),_.jsx("p",{children:_.jsx("a",{href:b.content_urls?.desktop?.page||"https://en.wikipedia.org/wiki/Healthy_diet",target:"_blank",rel:"noreferrer",children:"Read more on Wikipedia"})}),_.jsxs("div",{style:{marginTop:12,display:"flex",gap:10,alignItems:"center"},"aria-hidden":!0,children:[_.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[_.jsx("div",{style:{width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.06)",borderRadius:12},children:di("apple",36)}),_.jsx("div",{style:{width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.06)",borderRadius:12},children:di("avocado",36)}),_.jsx("div",{style:{width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.06)",borderRadius:12},children:di("banana",36)})]}),_.jsx("div",{style:{color:"rgba(255,255,255,0.8)"},className:"muted",children:"Healthy living visuals"})]}),_.jsxs("div",{style:{marginTop:16},children:[_.jsx("h4",{style:{margin:"0 0 6px",fontSize:14,letterSpacing:.5,textTransform:"uppercase",color:"rgba(0,0,0,0.65)"},children:"Daily health quote"}),_.jsx("blockquote",{style:{margin:0,padding:"12px 14px",background:"rgba(255,255,255,0.10)",borderLeft:"4px solid rgba(255,255,255,0.55)",borderRadius:8,fontSize:14,lineHeight:1.4,color:"rgba(0,0,0,0.8)",fontStyle:"italic"},children:_.jsx("span",{style:{display:"block",opacity:ee?1:.6},children:ee||"Loading inspiring thought..."})})]}),_.jsxs("div",{style:{marginTop:18},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[_.jsx("h4",{style:{margin:"0 0 6px",fontSize:14,letterSpacing:.5,textTransform:"uppercase",color:"rgba(0,0,0,0.65)"},children:"Exercise of the day"}),_.jsx("button",{type:"button",onClick:Se,style:{background:"rgba(255,255,255,0.3)",border:"0",padding:"4px 8px",borderRadius:6,cursor:"pointer",fontSize:11,fontWeight:600},children:"Next"})]}),z?_.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",background:"rgba(255,255,255,0.14)",padding:"10px 12px",borderRadius:10},children:[z.gifUrl?_.jsx("img",{src:z.gifUrl,alt:z.name,style:{width:90,height:60,objectFit:"cover",borderRadius:8,flex:"0 0 auto",background:"rgba(255,255,255,0.25)"}}):_.jsx("div",{style:{width:90,height:60,flex:"0 0 auto",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.25)",borderRadius:8},dangerouslySetInnerHTML:{__html:z.svg}}),_.jsxs("div",{style:{flex:1,minWidth:0},children:[_.jsx("div",{style:{fontWeight:600,fontSize:14},children:z.name}),_.jsx("div",{style:{fontSize:12,lineHeight:1.3,opacity:.85},children:z.description}),_.jsx("div",{style:{fontSize:11,marginTop:4,opacity:.75},children:z.tips}),_.jsx("div",{style:{fontSize:11,marginTop:4,fontWeight:600},children:z.duration}),z.attribution?_.jsxs("div",{style:{fontSize:10,marginTop:4,opacity:.6},children:[z.attribution,z.license?` (${z.license})`:""]}):null]})]}):_.jsx("div",{style:{fontSize:12,opacity:.6},children:"Loading exercise..."})]})]}):_.jsxs("div",{className:"hero-info-placeholder",children:[_.jsx("h3",{style:{marginTop:0},children:"Healthy eating tips"}),_.jsx("p",{className:"muted",children:"Click Get started to load short, useful guidance about healthy diets."})]})})]})]}),_.jsxs("main",{children:[_.jsxs("section",{className:"profile",children:[_.jsx("h2",{children:"Health profile"}),_.jsx(Vp,{profile:m,setProfile:y})]}),_.jsxs("section",{className:"chat",children:[_.jsx("div",{className:"chat-window",role:"log","aria-live":"polite",ref:ie,children:o.length===0?_.jsxs("div",{className:"startup-panel",children:[_.jsx("h3",{children:"Welcome to NutriCoach AI"}),_.jsx("p",{className:"muted",children:"Get started with quick suggestions or view curated healthy recipes."}),I?_.jsxs("div",{className:"daily-tip",style:{marginTop:8},children:[_.jsx("strong",{children:"Daily tip:"})," ",I]}):null,_.jsx("div",{className:"chips",style:{marginTop:12},children:(localStorage.getItem("enable_startup_suggestions")!=="false"?JSON.parse(localStorage.getItem("startup_quick_topics")||"null")||["almond milk","salmon","banana smoothie","quinoa salad"]:[]).map(v=>_.jsxs("button",{className:`chip ${ae===v?"active":""}`,onClick:()=>{r(v),V(v),setTimeout(()=>V(null),800),he(v)},children:[_.jsx("span",{style:{width:20,height:20,marginRight:8,display:"inline-flex",alignItems:"center"},children:di(v,20)}),v]},v))}),_.jsx("div",{style:{marginTop:12},children:_.jsx("button",{className:"hero-card-btn",onClick:()=>{W()},children:"Show recipes"})})]}):o.map((v,T)=>_.jsx("div",{className:`message ${v.from}`,children:_.jsxs("div",{className:"bubble",children:[v.classification==="beneficial"?_.jsx("span",{className:"classification good",children:"Beneficial"}):null,v.classification==="avoid"?_.jsx("span",{className:"classification avoid",children:"Avoid"}):null,v.recipes?_.jsxs("div",{children:[_.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Recipe suggestions"}),_.jsx("ol",{children:v.recipes.map((F,M)=>_.jsxs("li",{style:{display:"flex",alignItems:"center",gap:8},children:[_.jsx("span",{style:{width:36,height:36,display:"inline-flex",alignItems:"center",justifyContent:"center",background:"#fff8",borderRadius:8},children:di(F.title||"fruit",28)}),_.jsx("a",{href:F.href,target:"_blank",rel:"noreferrer",children:F.title||F.href})]},M))})]}):_.jsx("div",{children:v.text})]})},T))}),_.jsx("div",{className:"disclaimer",children:"Copilot is here to give the best advice, but always consult with a doctor."}),_.jsxs("div",{className:"input-row",children:[_.jsx("input",{"aria-label":"Ask about a food or type a food item",ref:i,value:u,onChange:v=>r(v.target.value),onKeyDown:v=>{v.key==="Enter"&&u.trim()&&(he(u.trim()),r(""))},placeholder:"e.g., almond milk"}),_.jsx("button",{disabled:d,onClick:()=>{u.trim()&&(he(u.trim()),r(""))},children:d?"Working...":"Analyze"}),Ie()?_.jsx("button",{onClick:U,disabled:d,style:{marginLeft:8},children:"Continue"}):null]})]})]}),_.jsx("footer",{children:_.jsx("small",{children:"All data stored locally. Enter your OpenAI API key in settings."})}),p?_.jsx("div",{className:"modal",children:_.jsx("div",{className:"modal-content",children:_.jsx(qp,{children:_.jsx(Wp,{})})})}):null]})}function Vp({profile:u,setProfile:r}){const[i,o]=re.useState(u||{conditions:[],allergies:[],custom:[]}),[a,d]=re.useState("");re.useEffect(()=>o(u),[u]);function f(m){const y=i.conditions.includes(m),k={...i,conditions:y?i.conditions.filter(E=>E!==m):[...i.conditions,m]};o(k),r(k)}function p(){if(a.trim()){const m={...i,custom:[...i.custom,a.trim()]};o(m),r(m),d("")}}function g(m){const y={...i,custom:i.custom.filter((k,E)=>E!==m)};o(y),r(y)}return _.jsxs("div",{children:[_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"Common conditions"}),_.jsx("div",{className:"chips",children:["diabetes","hypertension","kidney disease","lactose intolerance"].map(m=>_.jsx("button",{className:i.conditions.includes(m)?"chip active":"chip",onClick:()=>f(m),children:m},m))})]}),_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"Allergies (comma separated)"}),_.jsx("input",{value:i.allergies.join(", "),onChange:m=>{const y=m.target.value.split(",").map(E=>E.trim()).filter(Boolean),k={...i,allergies:y};o(k),r(k)}})]}),_.jsxs("div",{className:"field",children:[_.jsx("label",{children:"Custom health issues"}),_.jsx("div",{className:"custom-list",children:i.custom.map((m,y)=>_.jsxs("div",{className:"custom-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[_.jsx("span",{children:m}),_.jsx("button",{onClick:()=>g(y),style:{background:"transparent",border:"1px solid rgba(0,0,0,0.08)",borderRadius:8,cursor:"pointer",padding:"4px 8px"},children:"Remove"})]},y))}),_.jsxs("div",{className:"custom-add",children:[_.jsx("input",{placeholder:"Type a custom issue",value:a,onChange:m=>d(m.target.value)}),_.jsx("button",{onClick:p,children:"Add"})]})]})]})}function qp({children:u}){try{return _.jsx(_.Fragment,{children:u})}catch(r){return _.jsxs("div",{role:"alert",style:{padding:12,color:"red"},children:["Settings failed to render: ",String(r)]})}}const Kp=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>xr(async()=>{const{default:o}=await Promise.resolve().then(()=>Er);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)};class sa extends Error{constructor(r,i="FunctionsError",o){super(r),this.name=i,this.context=o}}class Jp extends sa{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class _d extends sa{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Sd extends sa{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var ql;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(ql||(ql={}));var Gp=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};class Qp{constructor(r,{headers:i={},customFetch:o,region:a=ql.Any}={}){this.url=r,this.headers=i,this.region=a,this.fetch=Kp(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,i={}){var o;return Gp(this,void 0,void 0,function*(){try{const{headers:a,method:d,body:f}=i;let p={},{region:g}=i;g||(g=this.region);const m=new URL(`${this.url}/${r}`);g&&g!=="any"&&(p["x-region"]=g,m.searchParams.set("forceFunctionRegion",g));let y;f&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=f):typeof f=="string"?(p["Content-Type"]="text/plain",y=f):typeof FormData<"u"&&f instanceof FormData?y=f:(p["Content-Type"]="application/json",y=JSON.stringify(f)));const k=yield this.fetch(m.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:y}).catch(I=>{throw new Jp(I)}),E=k.headers.get("x-relay-error");if(E&&E==="true")throw new _d(k);if(!k.ok)throw new Sd(k);let b=((o=k.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),O;return b==="application/json"?O=yield k.json():b==="application/octet-stream"?O=yield k.blob():b==="text/event-stream"?O=k:b==="multipart/form-data"?O=yield k.formData():O=yield k.text(),{data:O,error:null,response:k}}catch(a){return{data:null,error:a,response:a instanceof Sd||a instanceof _d?a.context:void 0}}})}}var He={},cr={},dr={},fr={},hr={},pr={},Yp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kr=Yp();const Xp=kr.fetch,Vd=kr.fetch.bind(kr),qd=kr.Headers,Zp=kr.Request,eg=kr.Response,Er=Object.freeze(Object.defineProperty({__proto__:null,Headers:qd,Request:Zp,Response:eg,default:Vd,fetch:Xp},Symbol.toStringTag,{value:"Module"})),tg=op(Er);var Is={},kd;function Kd(){if(kd)return Is;kd=1,Object.defineProperty(Is,"__esModule",{value:!0});class u extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Is.default=u,Is}var xd;function Jd(){if(xd)return pr;xd=1;var u=pr&&pr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(pr,"__esModule",{value:!0});const r=u(tg),i=u(Kd());class o{constructor(d){var f,p;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(f=d.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=d.signal,this.isMaybeSingle=(p=d.isMaybeSingle)!==null&&p!==void 0?p:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=new Headers(this.headers),this.headers.set(d,f),this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,k,E,b;let O=null,I=null,A=null,ee=m.status,Y=m.statusText;if(m.ok){if(this.method!=="HEAD"){const V=await m.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?I=V:I=JSON.parse(V))}const B=(k=this.headers.get("Prefer"))===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),ae=(E=m.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");B&&ae&&ae.length>1&&(A=parseInt(ae[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(I)&&(I.length>1?(O={code:"PGRST116",details:`Results contain ${I.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},I=null,A=null,ee=406,Y="Not Acceptable"):I.length===1?I=I[0]:I=null)}else{const B=await m.text();try{O=JSON.parse(B),Array.isArray(O)&&m.status===404&&(I=[],O=null,ee=200,Y="OK")}catch{m.status===404&&B===""?(ee=204,Y="No Content"):O={message:B}}if(O&&this.isMaybeSingle&&(!((b=O?.details)===null||b===void 0)&&b.includes("0 rows"))&&(O=null,ee=200,Y="OK"),O&&this.shouldThrowOnError)throw new i.default(O)}return{error:O,data:I,count:A,status:ee,statusText:Y}});return this.shouldThrowOnError||(g=g.catch(m=>{var y,k,E;return{error:{message:`${(y=m?.name)!==null&&y!==void 0?y:"FetchError"}: ${m?.message}`,details:`${(k=m?.stack)!==null&&k!==void 0?k:""}`,hint:"",code:`${(E=m?.code)!==null&&E!==void 0?E:""}`},data:null,count:null,status:0,statusText:""}})),g.then(d,f)}returns(){return this}overrideTypes(){return this}}return pr.default=o,pr}var Ed;function Gd(){if(Ed)return hr;Ed=1;var u=hr&&hr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(hr,"__esModule",{value:!0});const r=u(Jd());class i extends r.default{select(a){let d=!1;const f=(a??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:d=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const m=g?`${g}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${a}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this}range(a,d,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,m=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(m,`${d-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:d=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:m="text"}={}){var y;const k=[a?"analyze":null,d?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),E=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${E}"; options=${k};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return hr.default=i,hr}var jd;function oa(){if(jd)return fr;jd=1;var u=fr&&fr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(fr,"__esModule",{value:!0});const r=u(Gd());class i extends r.default{eq(a,d){return this.url.searchParams.append(a,`eq.${d}`),this}neq(a,d){return this.url.searchParams.append(a,`neq.${d}`),this}gt(a,d){return this.url.searchParams.append(a,`gt.${d}`),this}gte(a,d){return this.url.searchParams.append(a,`gte.${d}`),this}lt(a,d){return this.url.searchParams.append(a,`lt.${d}`),this}lte(a,d){return this.url.searchParams.append(a,`lte.${d}`),this}like(a,d){return this.url.searchParams.append(a,`like.${d}`),this}likeAllOf(a,d){return this.url.searchParams.append(a,`like(all).{${d.join(",")}}`),this}likeAnyOf(a,d){return this.url.searchParams.append(a,`like(any).{${d.join(",")}}`),this}ilike(a,d){return this.url.searchParams.append(a,`ilike.${d}`),this}ilikeAllOf(a,d){return this.url.searchParams.append(a,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(a,d){return this.url.searchParams.append(a,`ilike(any).{${d.join(",")}}`),this}is(a,d){return this.url.searchParams.append(a,`is.${d}`),this}in(a,d){const f=Array.from(new Set(d)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cs.{${d.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(d)}`),this}containedBy(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cd.{${d.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(d)}`),this}rangeGt(a,d){return this.url.searchParams.append(a,`sr.${d}`),this}rangeGte(a,d){return this.url.searchParams.append(a,`nxl.${d}`),this}rangeLt(a,d){return this.url.searchParams.append(a,`sl.${d}`),this}rangeLte(a,d){return this.url.searchParams.append(a,`nxr.${d}`),this}rangeAdjacent(a,d){return this.url.searchParams.append(a,`adj.${d}`),this}overlaps(a,d){return typeof d=="string"?this.url.searchParams.append(a,`ov.${d}`):this.url.searchParams.append(a,`ov.{${d.join(",")}}`),this}textSearch(a,d,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const m=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${g}fts${m}.${d}`),this}match(a){return Object.entries(a).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(a,d,f){return this.url.searchParams.append(a,`not.${d}.${f}`),this}or(a,{foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,d,f){return this.url.searchParams.append(a,`${d}.${f}`),this}}return fr.default=i,fr}var Cd;function Qd(){if(Cd)return dr;Cd=1;var u=dr&&dr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(dr,"__esModule",{value:!0});const r=u(oa());class i{constructor(a,{headers:d={},schema:f,fetch:p}){this.url=a,this.headers=new Headers(d),this.schema=f,this.fetch=p}select(a,{head:d=!1,count:f}={}){const p=d?"HEAD":"GET";let g=!1;const m=(a??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",m),f&&this.headers.append("Prefer",`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:d,defaultToNull:f=!0}={}){var p;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((y,k)=>y.concat(Object.keys(k)),[]);if(m.length>0){const y=[...new Set(m)].map(k=>`"${k}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(a,{onConflict:d,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){var m;const y="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const k=a.reduce((E,b)=>E.concat(Object.keys(b)),[]);if(k.length>0){const E=[...new Set(k)].map(b=>`"${b}"`);this.url.searchParams.set("columns",E.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(a,{count:d}={}){var f;const p="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:a}={}){var d;const f="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return dr.default=i,dr}var Td;function ng(){if(Td)return cr;Td=1;var u=cr&&cr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(cr,"__esModule",{value:!0});const r=u(Qd()),i=u(oa());class o{constructor(d,{headers:f={},schema:p,fetch:g}={}){this.url=d,this.headers=new Headers(f),this.schemaName=p,this.fetch=g}from(d){const f=new URL(`${this.url}/${d}`);return new r.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:p=!1,get:g=!1,count:m}={}){var y;let k;const E=new URL(`${this.url}/rpc/${d}`);let b;p||g?(k=p?"HEAD":"GET",Object.entries(f).filter(([I,A])=>A!==void 0).map(([I,A])=>[I,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([I,A])=>{E.searchParams.append(I,A)})):(k="POST",b=f);const O=new Headers(this.headers);return m&&O.set("Prefer",`count=${m}`),new i.default({method:k,url:E,headers:O,schema:this.schemaName,body:b,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return cr.default=o,cr}var Pd;function rg(){if(Pd)return He;Pd=1;var u=He&&He.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(He,"__esModule",{value:!0}),He.PostgrestError=He.PostgrestBuilder=He.PostgrestTransformBuilder=He.PostgrestFilterBuilder=He.PostgrestQueryBuilder=He.PostgrestClient=void 0;const r=u(ng());He.PostgrestClient=r.default;const i=u(Qd());He.PostgrestQueryBuilder=i.default;const o=u(oa());He.PostgrestFilterBuilder=o.default;const a=u(Gd());He.PostgrestTransformBuilder=a.default;const d=u(Jd());He.PostgrestBuilder=d.default;const f=u(Kd());return He.PostgrestError=f.default,He.default={PostgrestClient:r.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:d.default,PostgrestError:f.default},He}var ig=rg();const sg=ra(ig),{PostgrestClient:og,PostgrestQueryBuilder:Ym,PostgrestFilterBuilder:Xm,PostgrestTransformBuilder:Zm,PostgrestBuilder:ev,PostgrestError:tv}=sg;class lg{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const o=i.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let i=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(i+=`

Suggested solution: ${r.workaround}`),new Error(i)}static createWebSocket(r,i){const o=this.getWebSocketConstructor();return new o(r,i)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const ag="2.15.5",ug=`realtime-js/${ag}`,cg="1.0.0",Kl=1e4,dg=1e3,fg=100;var gi;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(gi||(gi={}));var ze;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(ze||(ze={}));var Tt;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Tt||(Tt={}));var Jl;(function(u){u.websocket="websocket"})(Jl||(Jl={}));var $n;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})($n||($n={}));class hg{constructor(){this.HEADER_LENGTH=1}decode(r,i){return r.constructor===ArrayBuffer?i(this._binaryDecode(r)):i(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const i=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,i,o)}_decodeBroadcast(r,i,o){const a=i.getUint8(1),d=i.getUint8(2);let f=this.HEADER_LENGTH+2;const p=o.decode(r.slice(f,f+a));f=f+a;const g=o.decode(r.slice(f,f+d));f=f+d;const m=JSON.parse(o.decode(r.slice(f,r.byteLength)));return{ref:null,topic:p,event:g,payload:m}}}class Yd{constructor(r,i){this.callback=r,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(xe||(xe={}));const bd=(u,r,i={})=>{var o;const a=(o=i.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((d,f)=>(d[f]=pg(f,u,r,a),d),{})},pg=(u,r,i,o)=>{const a=r.find(p=>p.name===u),d=a?.type,f=i[u];return d&&!o.includes(d)?Xd(d,f):Gl(f)},Xd=(u,r)=>{if(u.charAt(0)==="_"){const i=u.slice(1,u.length);return yg(r,i)}switch(u){case xe.bool:return gg(r);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return mg(r);case xe.json:case xe.jsonb:return vg(r);case xe.timestamp:return wg(r);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return Gl(r);default:return Gl(r)}},Gl=u=>u,gg=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},mg=u=>{if(typeof u=="string"){const r=parseFloat(u);if(!Number.isNaN(r))return r}return u},vg=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(r){return console.log(`JSON parse error: ${r}`),u}return u},yg=(u,r)=>{if(typeof u!="string")return u;const i=u.length-1,o=u[i];if(u[0]==="{"&&o==="}"){let d;const f=u.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(p=>Xd(r,p))}return u},wg=u=>typeof u=="string"?u.replace(" ","T"):u,Zd=u=>{let r=u;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class zl{constructor(r,i,o={},a=Kl){this.channel=r,this.event=i,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,i){var o;return this._hasReceived(r)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:i}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(i))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Od;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(Od||(Od={}));class mi{constructor(r,i){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mi.syncState(this.state,a,d,f),this.pendingDiffs.forEach(g=>{this.state=mi.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},a=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=mi.syncDiff(this.state,a,d,f),p())}),this.onJoin((a,d,f)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:d,newPresences:f})}),this.onLeave((a,d,f)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,i,o,a){const d=this.cloneDeep(r),f=this.transformState(i),p={},g={};return this.map(d,(m,y)=>{f[m]||(g[m]=y)}),this.map(f,(m,y)=>{const k=d[m];if(k){const E=y.map(A=>A.presence_ref),b=k.map(A=>A.presence_ref),O=y.filter(A=>b.indexOf(A.presence_ref)<0),I=k.filter(A=>E.indexOf(A.presence_ref)<0);O.length>0&&(p[m]=O),I.length>0&&(g[m]=I)}else p[m]=y}),this.syncDiff(d,{joins:p,leaves:g},o,a)}static syncDiff(r,i,o,a){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(d,(p,g)=>{var m;const y=(m=r[p])!==null&&m!==void 0?m:[];if(r[p]=this.cloneDeep(g),y.length>0){const k=r[p].map(b=>b.presence_ref),E=y.filter(b=>k.indexOf(b.presence_ref)<0);r[p].unshift(...E)}o(p,y,g)}),this.map(f,(p,g)=>{let m=r[p];if(!m)return;const y=g.map(k=>k.presence_ref);m=m.filter(k=>y.indexOf(k.presence_ref)<0),r[p]=m,a(p,m,g),m.length===0&&delete r[p]}),r}static map(r,i){return Object.getOwnPropertyNames(r).map(o=>i(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((i,o)=>{const a=r[o];return"metas"in a?i[o]=a.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[o]=a,i},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Id;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(Id||(Id={}));var vi;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(vi||(vi={}));var Vt;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(Vt||(Vt={}));class la{constructor(r,i={config:{}},o){this.topic=r,this.params=i,this.socket=o,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new zl(this,Tt.join,this.params,this.timeout),this.rejoinTimer=new Yd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tt.reply,{},(a,d)=>{this._trigger(this._replyEventName(d),a)}),this.presence=new mi(this),this.broadcastEndpointURL=Zd(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,i=this.timeout){var o,a,d;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,m=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(b=>b.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[vi.PRESENCE]&&this.bindings[vi.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,k={},E={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(k.access_token=this.socket.accessTokenValue),this._onError(b=>r?.(Vt.CHANNEL_ERROR,b)),this._onClose(()=>r?.(Vt.CLOSED)),this.updateJoinPayload(Object.assign({config:E},k)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:b})=>{var O;if(this.socket.setAuth(),b===void 0){r?.(Vt.SUBSCRIBED);return}else{const I=this.bindings.postgres_changes,A=(O=I?.length)!==null&&O!==void 0?O:0,ee=[];for(let Y=0;Y<A;Y++){const z=I[Y],{filter:{event:B,schema:ae,table:V,filter:ie}}=z,fe=b&&b[Y];if(fe&&fe.event===B&&fe.schema===ae&&fe.table===V&&fe.filter===ie)ee.push(Object.assign(Object.assign({},z),{id:fe.id}));else{this.unsubscribe(),this.state=ze.errored,r?.(Vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ee,r&&r(Vt.SUBSCRIBED);return}}).receive("error",b=>{this.state=ze.errored,r?.(Vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{r?.(Vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,i={}){return await this.send({type:"presence",event:"track",payload:r},i.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,i,o){return this.state===ze.joined&&r===vi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,i,o)}async send(r,i={}){var o,a;if(!this._canPush()&&r.type==="broadcast"){const{event:d,payload:f}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,p,g;const m=this._push(r.type,r,i.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),m.receive("ok",()=>d("ok")),m.receive("error",()=>d("error")),m.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=ze.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new zl(this,Tt.leave,{},r),o.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ze.closed,this.bindings={}}async _fetchWithTimeout(r,i,o){const a=new AbortController,d=setTimeout(()=>a.abort(),o),f=await this.socket.fetch(r,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(d),f}_push(r,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new zl(this,r,i,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>fg){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(r,i,o){return i}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,i,o){var a,d;const f=r.toLocaleLowerCase(),{close:p,error:g,leave:m,join:y}=Tt;if(o&&[p,g,m,y].indexOf(f)>=0&&o!==this._joinRef())return;let E=this._onMessage(f,i,o);if(i&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var O,I,A;return((O=b.filter)===null||O===void 0?void 0:O.event)==="*"||((A=(I=b.filter)===null||I===void 0?void 0:I.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===f}).map(b=>b.callback(E,o)):(d=this.bindings[f])===null||d===void 0||d.filter(b=>{var O,I,A,ee,Y,z;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in b){const B=b.id,ae=(O=b.filter)===null||O===void 0?void 0:O.event;return B&&((I=i.ids)===null||I===void 0?void 0:I.includes(B))&&(ae==="*"||ae?.toLocaleLowerCase()===((A=i.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const B=(Y=(ee=b?.filter)===null||ee===void 0?void 0:ee.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return B==="*"||B===((z=i?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===f}).map(b=>{if(typeof E=="object"&&"ids"in E){const O=E.data,{schema:I,table:A,commit_timestamp:ee,type:Y,errors:z}=O;E=Object.assign(Object.assign({},{schema:I,table:A,commit_timestamp:ee,eventType:Y,new:{},old:{},errors:z}),this._getPayloadRecords(O))}b.callback(E,o)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,i,o){const a=r.toLocaleLowerCase(),d={type:a,filter:i,callback:o};return this.bindings[a]?this.bindings[a].push(d):this.bindings[a]=[d],this}_off(r,i){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var d;return!(((d=a.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&la.isEqual(a.filter,i))})),this}static isEqual(r,i){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const o in r)if(r[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Tt.close,{},r)}_onError(r){this._on(Tt.error,{},i=>r(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const i={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(i.new=bd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(i.old=bd(r.columns,r.old_record)),i}}const Ul=()=>{},As={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_g=[1e3,2e3,5e3,1e4],Sg=1e4,kg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xg{constructor(r,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kl,this.transport=null,this.heartbeatIntervalMs=As.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ul,this.ref=0,this.reconnectTimer=null,this.logger=Ul,this.conn=null,this.sendBuffer=[],this.serializer=new hg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let d;return a?d=a:typeof fetch>"u"?d=(...f)=>xr(async()=>{const{default:p}=await Promise.resolve().then(()=>Er);return{default:p}},void 0,import.meta.url).then(({default:p})=>p(...f)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((o=i?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${r}/${Jl.websocket}`,this.httpEndpoint=Zd(r),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const i=r.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cg}))}disconnect(r,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},r?this.conn.close(r,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const i=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const r=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,i,o){this.logger(r,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case gi.connecting:return $n.Connecting;case gi.open:return $n.Open;case gi.closing:return $n.Closing;default:return $n.Closed}}isConnected(){return this.connectionState()===$n.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,i={config:{}}){const o=`realtime:${r}`,a=this.getChannels().find(d=>d.topic===o);if(a)return a;{const d=new la(`realtime:${r}`,i,this);return this.channels.push(d),d}}push(r){const{topic:i,event:o,payload:a,ref:d}=r,f=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${i} ${o} (${d})`,a),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(dg,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},As.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let i=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${r}"`),i.unsubscribe())}_remove(r){this.channels=this.channels.filter(i=>i.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:d,ref:f}=i,p=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${o} ${a} ${p}`.trim(),d),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(r){var i;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var i;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Tt.error))}_appendParams(r,i){if(Object.keys(i).length===0)return r;const o=r.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${r}${o}${a}`}_workerObjectUrl(r){let i;if(r)i=r;else{const o=new Blob([kg],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(r,i=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(r=null){let i;r?i=r:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const a={access_token:i,version:ug};i&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Tt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${r}`,i)})}_triggerStateCallbacks(r,i){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(i)}catch(a){this.log("error",`error in ${r} callback`,a)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Yd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},As.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var i,o,a,d,f,p,g,m,y;if(this.transport=(i=r?.transport)!==null&&i!==void 0?i:null,this.timeout=(o=r?.timeout)!==null&&o!==void 0?o:Kl,this.heartbeatIntervalMs=(a=r?.heartbeatIntervalMs)!==null&&a!==void 0?a:As.HEARTBEAT_INTERVAL,this.worker=(d=r?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=r?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:Ul,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r?.reconnectAfterMs)!==null&&g!==void 0?g:(k=>_g[k-1]||Sg),this.encode=(m=r?.encode)!==null&&m!==void 0?m:((k,E)=>E(JSON.stringify(k))),this.decode=(y=r?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class aa extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Ue(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class Eg extends aa{constructor(r,i,o){super(r),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ql extends aa{constructor(r,i){super(r),this.name="StorageUnknownError",this.originalError=i}}var jg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const ef=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>xr(async()=>{const{default:o}=await Promise.resolve().then(()=>Er);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},Cg=()=>jg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xr(()=>Promise.resolve().then(()=>Er),void 0,import.meta.url)).Response:Response}),Yl=u=>{if(Array.isArray(u))return u.map(i=>Yl(i));if(typeof u=="function"||u!==Object(u))return u;const r={};return Object.entries(u).forEach(([i,o])=>{const a=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[a]=Yl(o)}),r},Tg=u=>{if(typeof u!="object"||u===null)return!1;const r=Object.getPrototypeOf(u);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)};var Dn=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Ml=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Pg=(u,r,i)=>Dn(void 0,void 0,void 0,function*(){const o=yield Cg();u instanceof o&&!i?.noResolveJson?u.json().then(a=>{const d=u.status||500,f=a?.statusCode||d+"";r(new Eg(Ml(a),d,f))}).catch(a=>{r(new Ql(Ml(a),a))}):r(new Ql(Ml(u),u))}),bg=(u,r,i,o)=>{const a={method:u,headers:r?.headers||{}};return u==="GET"||!o?a:(Tg(o)?(a.headers=Object.assign({"Content-Type":"application/json"},r?.headers),a.body=JSON.stringify(o)):a.body=o,r?.duplex&&(a.duplex=r.duplex),Object.assign(Object.assign({},a),i))};function _i(u,r,i,o,a,d){return Dn(this,void 0,void 0,function*(){return new Promise((f,p)=>{u(i,bg(r,o,a,d)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Pg(g,p,o))})})}function $s(u,r,i,o){return Dn(this,void 0,void 0,function*(){return _i(u,"GET",r,i,o)})}function Nt(u,r,i,o,a){return Dn(this,void 0,void 0,function*(){return _i(u,"POST",r,o,a,i)})}function Xl(u,r,i,o,a){return Dn(this,void 0,void 0,function*(){return _i(u,"PUT",r,o,a,i)})}function Og(u,r,i,o){return Dn(this,void 0,void 0,function*(){return _i(u,"HEAD",r,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function tf(u,r,i,o,a){return Dn(this,void 0,void 0,function*(){return _i(u,"DELETE",r,o,a,i)})}var et=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Ig={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ad={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ag{constructor(r,i={},o,a){this.shouldThrowOnError=!1,this.url=r,this.headers=i,this.bucketId=o,this.fetch=ef(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,i,o,a){return et(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Ad),a);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g))):(d=o,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a?.headers&&(p=Object.assign(Object.assign({},p),a.headers));const m=this._removeEmptyFolders(i),y=this._getFinalPath(m),k=yield(r=="PUT"?Xl:Nt)(this.fetch,`${this.url}/object/${y}`,d,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:k.Id,fullPath:k.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ue(d))return{data:null,error:d};throw d}})}upload(r,i,o){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,i,o)})}uploadToSignedUrl(r,i,o,a){return et(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",i);try{let g;const m=Object.assign({upsert:Ad.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",m.cacheControl)):(g=o,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const k=yield Xl(this.fetch,p.toString(),g,{headers:y});return{data:{path:d,fullPath:k.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Ue(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,i){return et(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const a=Object.assign({},this.headers);i?.upsert&&(a["x-upsert"]="true");const d=yield Nt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),f=new URL(this.url+d.url),p=f.searchParams.get("token");if(!p)throw new aa("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o))return{data:null,error:o};throw o}})}update(r,i,o){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,i,o)})}move(r,i,o){return et(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}copy(r,i,o){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield Nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}createSignedUrl(r,i,o){return et(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r),d=yield Nt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o?.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}createSignedUrls(r,i,o){return et(this,void 0,void 0,function*(){try{const a=yield Nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:r},{headers:this.headers}),d=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}download(r,i){return et(this,void 0,void 0,function*(){const a=typeof i?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(i?.transform||{}),f=d?`?${d}`:"";try{const p=this._getFinalPath(r);return{data:yield(yield $s(this.fetch,`${this.url}/${a}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ue(p))return{data:null,error:p};throw p}})}info(r){return et(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{const o=yield $s(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Yl(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o))return{data:null,error:o};throw o}})}exists(r){return et(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{return yield Og(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o)&&o instanceof Ql){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,i){const o=this._getFinalPath(r),a=[],d=i?.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&a.push(d);const p=typeof i?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(i?.transform||{});g!==""&&a.push(g);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${m}`)}}}remove(r){return et(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}list(r,i,o){return et(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Ig),i),{prefix:r||""});return{data:yield Nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}listV2(r,i){return et(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield Nt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const i=[];return r.width&&i.push(`width=${r.width}`),r.height&&i.push(`height=${r.height}`),r.resize&&i.push(`resize=${r.resize}`),r.format&&i.push(`format=${r.format}`),r.quality&&i.push(`quality=${r.quality}`),i.join("&")}}const Rg="2.12.1",Ng={"X-Client-Info":`storage-js/${Rg}`};var gr=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};class Lg{constructor(r,i={},o,a){this.shouldThrowOnError=!1;const d=new URL(r);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},Ng),i),this.fetch=ef(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return gr(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}getBucket(r){return gr(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}createBucket(r,i={public:!1}){return gr(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o))return{data:null,error:o};throw o}})}updateBucket(r,i){return gr(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o))return{data:null,error:o};throw o}})}emptyBucket(r){return gr(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}deleteBucket(r){return gr(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}}class $g extends Lg{constructor(r,i={},o,a){super(r,i,o,a)}from(r){return new Ag(this.url,this.headers,r,this.fetch)}}const Dg="2.57.4";let hi="";typeof Deno<"u"?hi="deno":typeof document<"u"?hi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hi="react-native":hi="node";const zg={"X-Client-Info":`supabase-js-${hi}/${Dg}`},Ug={headers:zg},Mg={schema:"public"},Fg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bg={};var Wg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Hg=u=>{let r;return u?r=u:typeof fetch>"u"?r=Vd:r=fetch,(...i)=>r(...i)},Vg=()=>typeof Headers>"u"?qd:Headers,qg=(u,r,i)=>{const o=Hg(i),a=Vg();return(d,f)=>Wg(void 0,void 0,void 0,function*(){var p;const g=(p=yield r())!==null&&p!==void 0?p:u;let m=new a(f?.headers);return m.has("apikey")||m.set("apikey",u),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),o(d,Object.assign(Object.assign({},f),{headers:m}))})};var Kg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};function Jg(u){return u.endsWith("/")?u:u+"/"}function Gg(u,r){var i,o;const{db:a,auth:d,realtime:f,global:p}=u,{db:g,auth:m,realtime:y,global:k}=r,E={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},m),d),realtime:Object.assign(Object.assign({},y),f),storage:{},global:Object.assign(Object.assign(Object.assign({},k),p),{headers:Object.assign(Object.assign({},(i=k?.headers)!==null&&i!==void 0?i:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Kg(this,void 0,void 0,function*(){return""})};return u.accessToken?E.accessToken=u.accessToken:delete E.accessToken,E}function Qg(u){const r=u?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jg(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const nf="2.71.1",_r=30*1e3,Zl=3,Fl=Zl*_r,Yg="http://localhost:9999",Xg="supabase.auth.token",Zg={"X-Client-Info":`gotrue-js/${nf}`},ea="X-Supabase-Api-Version",rf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},em=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tm=600*1e3;class ua extends Error{constructor(r,i,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function le(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class nm extends ua{constructor(r,i,o){super(r,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function rm(u){return le(u)&&u.name==="AuthApiError"}class sf extends ua{constructor(r,i){super(r),this.name="AuthUnknownError",this.originalError=i}}class yn extends ua{constructor(r,i,o,a){super(r,o,a),this.name=i,this.status=o}}class mn extends yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function im(u){return le(u)&&u.name==="AuthSessionMissingError"}class Rs extends yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ns extends yn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ls extends yn{constructor(r,i=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sm(u){return le(u)&&u.name==="AuthImplicitGrantRedirectError"}class Rd extends yn{constructor(r,i=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ta extends yn{constructor(r,i){super(r,"AuthRetryableFetchError",i,void 0)}}function Bl(u){return le(u)&&u.name==="AuthRetryableFetchError"}class Nd extends yn{constructor(r,i,o){super(r,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class na extends yn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ds="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ld=` 	
\r=`.split(""),om=(()=>{const u=new Array(128);for(let r=0;r<u.length;r+=1)u[r]=-1;for(let r=0;r<Ld.length;r+=1)u[Ld[r].charCodeAt(0)]=-2;for(let r=0;r<Ds.length;r+=1)u[Ds[r].charCodeAt(0)]=r;return u})();function $d(u,r,i){if(u!==null)for(r.queue=r.queue<<8|u,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(Ds[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(Ds[o]),r.queuedBits-=6}}function of(u,r,i){const o=om[u];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)i(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function Dd(u){const r=[],i=f=>{r.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},d=f=>{um(f,o,i)};for(let f=0;f<u.length;f+=1)of(u.charCodeAt(f),a,d);return r.join("")}function lm(u,r){if(u<=127){r(u);return}else if(u<=2047){r(192|u>>6),r(128|u&63);return}else if(u<=65535){r(224|u>>12),r(128|u>>6&63),r(128|u&63);return}else if(u<=1114111){r(240|u>>18),r(128|u>>12&63),r(128|u>>6&63),r(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function am(u,r){for(let i=0;i<u.length;i+=1){let o=u.charCodeAt(i);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(u.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}lm(o,r)}}function um(u,r,i){if(r.utf8seq===0){if(u<=127){i(u);return}for(let o=1;o<6;o+=1)if((u>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=u&31;else if(r.utf8seq===3)r.codepoint=u&15;else if(r.utf8seq===4)r.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|u&63,r.utf8seq-=1,r.utf8seq===0&&i(r.codepoint)}}function cm(u){const r=[],i={queue:0,queuedBits:0},o=a=>{r.push(a)};for(let a=0;a<u.length;a+=1)of(u.charCodeAt(a),i,o);return new Uint8Array(r)}function dm(u){const r=[];return am(u,i=>r.push(i)),new Uint8Array(r)}function fm(u){const r=[],i={queue:0,queuedBits:0},o=a=>{r.push(a)};return u.forEach(a=>$d(a,i,o)),$d(null,i,o),r.join("")}function hm(u){return Math.round(Date.now()/1e3)+u}function pm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const r=Math.random()*16|0;return(u=="x"?r:r&3|8).toString(16)})}const Ct=()=>typeof window<"u"&&typeof document<"u",Rn={tested:!1,writable:!1},lf=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rn.tested)return Rn.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),Rn.tested=!0,Rn.writable=!0}catch{Rn.tested=!0,Rn.writable=!1}return Rn.writable};function gm(u){const r={},i=new URL(u);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,d)=>{r[d]=a})}catch{}return i.searchParams.forEach((o,a)=>{r[a]=o}),r}const af=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>xr(async()=>{const{default:o}=await Promise.resolve().then(()=>Er);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},mm=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",Sr=async(u,r,i)=>{await u.setItem(r,JSON.stringify(i))},Nn=async(u,r)=>{const i=await u.getItem(r);if(!i)return null;try{return JSON.parse(i)}catch{return i}},gn=async(u,r)=>{await u.removeItem(r)};class zs{constructor(){this.promise=new zs.promiseConstructor((r,i)=>{this.resolve=r,this.reject=i})}}zs.promiseConstructor=Promise;function Wl(u){const r=u.split(".");if(r.length!==3)throw new na("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!em.test(r[o]))throw new na("JWT not in base64url format");return{header:JSON.parse(Dd(r[0])),payload:JSON.parse(Dd(r[1])),signature:cm(r[2]),raw:{header:r[0],payload:r[1]}}}async function vm(u){return await new Promise(r=>{setTimeout(()=>r(null),u)})}function ym(u,r){return new Promise((o,a)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await u(d);if(!r(d,null,f)){o(f);return}}catch(f){if(!r(d,f)){a(f);return}}})()})}function wm(u){return("0"+u.toString(16)).substr(-2)}function _m(){const r=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let a="";for(let d=0;d<56;d++)a+=i.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(r),Array.from(r,wm).join("")}async function Sm(u){const i=new TextEncoder().encode(u),o=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(o);return Array.from(a).map(d=>String.fromCharCode(d)).join("")}async function km(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const i=await Sm(u);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mr(u,r,i=!1){const o=_m();let a=o;i&&(a+="/PASSWORD_RECOVERY"),await Sr(u,`${r}-code-verifier`,a);const d=await km(o);return[d,o===d?"plain":"s256"]}const xm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Em(u){const r=u.headers.get(ea);if(!r||!r.match(xm))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function jm(u){if(!u)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(u<=r)throw new Error("JWT has expired")}function Cm(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Tm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vr(u){if(!Tm.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hl(){const u={};return new Proxy(u,{get:(r,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zd(u){return JSON.parse(JSON.stringify(u))}var Pm=function(u,r){var i={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(i[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(i[o[a]]=u[o[a]]);return i};const Ln=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),bm=[502,503,504];async function Ud(u){var r;if(!mm(u))throw new ta(Ln(u),0);if(bm.includes(u.status))throw new ta(Ln(u),u.status);let i;try{i=await u.json()}catch(d){throw new sf(Ln(d),d)}let o;const a=Em(u);if(a&&a.getTime()>=rf["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new Nd(Ln(i),u.status,((r=i.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new mn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Nd(Ln(i),u.status,i.weak_password.reasons);throw new nm(Ln(i),u.status||500,o)}const Om=(u,r,i,o)=>{const a={method:u,headers:r?.headers||{}};return u==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),i))};async function ce(u,r,i,o){var a;const d=Object.assign({},o?.headers);d[ea]||(d[ea]=rf["2024-01-01"].name),o?.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const f=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Im(u,r,i+p,{headers:d,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function Im(u,r,i,o,a,d){const f=Om(r,o,a,d);let p;try{p=await u(i,Object.assign({},f))}catch(g){throw console.error(g),new ta(Ln(g),0)}if(p.ok||await Ud(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await Ud(g)}}function Ht(u){var r;let i=null;Lm(u)&&(i=Object.assign({},u),u.expires_at||(i.expires_at=hm(u.expires_in)));const o=(r=u.user)!==null&&r!==void 0?r:u;return{data:{session:i,user:o},error:null}}function Md(u){const r=Ht(u);return!r.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(r.data.weak_password=u.weak_password),r}function vn(u){var r;return{data:{user:(r=u.user)!==null&&r!==void 0?r:u},error:null}}function Am(u){return{data:u,error:null}}function Rm(u){const{action_link:r,email_otp:i,hashed_token:o,redirect_to:a,verification_type:d}=u,f=Pm(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:i,hashed_token:o,redirect_to:a,verification_type:d},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function Nm(u){return u}function Lm(u){return u.access_token&&u.refresh_token&&u.expires_in}const Vl=["global","local","others"];var $m=function(u,r){var i={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(i[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(i[o[a]]=u[o[a]]);return i};class Dm{constructor({url:r="",headers:i={},fetch:o}){this.url=r,this.headers=i,this.fetch=af(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,i=Vl[0]){if(Vl.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vl.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(le(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,i={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:vn})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:i}=r,o=$m(r,["options"]),a=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Rm,redirectTo:i?.redirectTo})}catch(i){if(le(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(r){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:vn})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async listUsers(r){var i,o,a,d,f,p,g;try{const m={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=r?.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(d=(a=r?.perPage)===null||a===void 0?void 0:a.toString())!==null&&d!==void 0?d:""},xform:Nm});if(y.error)throw y.error;const k=await y.json(),E=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,b=(g=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return b.length>0&&(b.forEach(O=>{const I=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(O.split(";")[1].split("=")[1]);m[`${A}Page`]=I}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},k),m),error:null}}catch(m){if(le(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){vr(r);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:vn})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async updateUserById(r,i){vr(r);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:i,headers:this.headers,xform:vn})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,i=!1){vr(r);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:i},xform:vn})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){vr(r.userId);try{const{data:i,error:o}=await ce(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:o}}catch(i){if(le(i))return{data:null,error:i};throw i}}async _deleteFactor(r){vr(r.userId),vr(r.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}}}function Fd(u={}){return{getItem:r=>u[r]||null,setItem:(r,i)=>{u[r]=i},removeItem:r=>{delete u[r]}}}function zm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yr={debug:!!(globalThis&&lf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Um extends uf{}async function Mm(u,r,i){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,a.name);try{return await i()}finally{yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,a.name)}}else{if(r===0)throw yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new Um(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(yr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}zm();const Fm={url:Yg,storageKey:Xg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bd(u,r,i){return await i()}const wr={};class yi{constructor(r){var i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yi.nextInstanceID,yi.nextInstanceID+=1,this.instanceID>0&&Ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Fm),r);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Dm({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=af(a.fetch),this.lock=a.lock||Bd,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ct()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Mm:this.lock=Bd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:lf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fd(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Fd(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var r,i;return(i=(r=wr[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(r){wr[this.storageKey]=Object.assign(Object.assign({},wr[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,i;return(i=(r=wr[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){wr[this.storageKey]=Object.assign(Object.assign({},wr[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nf}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const i=gm(window.location.href);let o="none";if(this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce"),Ct()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:d}=await this._getSessionFromURL(i,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),sm(d)){const g=(r=d.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:p}=a;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return le(i)?{error:i}:{error:new sf("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var i,o,a;try{const d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=r?.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=r?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ht}),{data:f,error:p}=d;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(d){if(le(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(r){var i,o,a;try{let d;if("email"in r){const{email:y,password:k,options:E}=r;let b=null,O=null;this.flowType==="pkce"&&([b,O]=await mr(this.storage,this.storageKey)),d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:y,password:k,data:(i=E?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:b,code_challenge_method:O},xform:Ht})}else if("phone"in r){const{phone:y,password:k,options:E}=r;d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:k,data:(o=E?.data)!==null&&o!==void 0?o:{},channel:(a=E?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:Ht})}else throw new Ns("You must provide either an email or phone number and a password");const{data:f,error:p}=d;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(d){if(le(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(r){try{let i;if("email"in r){const{email:d,password:f,options:p}=r;i=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Md})}else if("phone"in r){const{phone:d,password:f,options:p}=r;i=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Md})}else throw new Ns("You must provide either an email or phone number and a password");const{data:o,error:a}=i;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Rs}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(r){var i,o,a,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(i=r.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=r.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:i}=r;if(i==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(r){var i,o,a,d,f,p,g,m,y,k,E,b;let O,I;if("message"in r)O=r.message,I=r.signature;else{const{chain:A,wallet:ee,statement:Y,options:z}=r;let B;if(Ct())if(typeof ee=="object")B=ee;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))B=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ee!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=ee}const ae=new URL((i=z?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in B&&B.signIn){const V=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),Y?{statement:Y}:null));let ie;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")ie=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)ie=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ie&&"signature"in ie&&(typeof ie.signedMessage=="string"||ie.signedMessage instanceof Uint8Array)&&ie.signature instanceof Uint8Array)O=typeof ie.signedMessage=="string"?ie.signedMessage:new TextDecoder().decode(ie.signedMessage),I=ie.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${ae.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(a=(o=z?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((d=z?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((f=z?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((p=z?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((k=(y=z?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||k===void 0)&&k.length?["Resources",...z.signInWithSolana.resources.map(ie=>`- ${ie}`)]:[]].join(`
`);const V=await B.signMessage(new TextEncoder().encode(O),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");I=V}}try{const{data:A,error:ee}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:fm(I)},!((E=r.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ht});if(ee)throw ee;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Rs}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:ee})}catch(A){if(le(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(r){const i=await Nn(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(i??"").split("/");try{const{data:d,error:f}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Ht});if(await gn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new Rs}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:a??null}),error:f})}catch(d){if(le(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(r){try{const{options:i,provider:o,token:a,access_token:d,nonce:f}=r,p=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Ht}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Rs}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(r){var i,o,a,d,f;try{if("email"in r){const{email:p,options:g}=r;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await mr(this.storage,this.storageKey));const{error:k}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:k}}if("phone"in r){const{phone:p,options:g}=r,{data:m,error:y}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(a=g?.data)!==null&&a!==void 0?a:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:y}}throw new Ns("You must provide either an email or phone number.")}catch(p){if(le(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var i,o;try{let a,d;"options"in r&&(a=(i=r.options)===null||i===void 0?void 0:i.redirectTo,d=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:p}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:a,xform:Ht});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,m=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(a){if(le(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(r){var i,o,a;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await mr(this.storage,this.storageKey)),await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(i=r.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=r?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:Am})}catch(d){if(le(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)throw o;if(!i)throw new mn;const{error:a}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}})}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const i=`${this.url}/resend`;if("email"in r){const{email:o,type:a,options:d}=r,{error:f}=await ce(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in r){const{phone:o,type:a,options:d}=r,{data:f,error:p}=await ce(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new Ns("You must provide either an email or phone number and a type")}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(r,i){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await r(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const i=await Nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?r=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<Fl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const f=await Nn(this.userStorage,this.storageKey+"-user");f?.user?r.user=f.user:r.user=Hl()}if(this.storage.isServer&&r.user){let f=this.suppressGetSessionWarning;r=new Proxy(r,{get:(g,m,y)=>(!f&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,y))})}return{data:{session:r},error:null}}const{session:a,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{session:null},error:d}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:vn}):await this._useSession(async i=>{var o,a,d;const{data:f,error:p}=i;if(p)throw p;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(a=f.session)===null||a===void 0?void 0:a.access_token)!==null&&d!==void 0?d:void 0,xform:vn})})}catch(i){if(le(i))return im(i)&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(r,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,i))}async _updateUser(r,i={}){try{return await this._useSession(async o=>{const{data:a,error:d}=o;if(d)throw d;if(!a.session)throw new mn;const f=a.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await mr(this.storage,this.storageKey));const{data:m,error:y}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:vn});if(y)throw y;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new mn;const i=Date.now()/1e3;let o=i,a=!0,d=null;const{payload:f}=Wl(r.access_token);if(f.exp&&(o=f.exp,a=o<=i),a){const{session:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)throw g;d={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(i){if(le(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async i=>{var o;if(!r){const{data:f,error:p}=i;if(p)throw p;r=(o=f.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new mn;const{session:a,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{user:null,session:null},error:d}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(r,i){try{if(!Ct())throw new Ls("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ls(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Rd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ls("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Rd("No code detected.");const{data:Y,error:z}=await this._exchangeCodeForSession(r.code);if(z)throw z;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:d,refresh_token:f,expires_in:p,expires_at:g,token_type:m}=r;if(!d||!p||!f||!m)throw new Ls("No session defined in URL");const y=Math.round(Date.now()/1e3),k=parseInt(p);let E=y+k;g&&(E=parseInt(g));const b=E-y;b*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${k}s`);const O=E-k;y-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,E,y):y-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,E,y);const{data:I,error:A}=await this._getUser(d);if(A)throw A;const ee={provider_token:o,provider_refresh_token:a,access_token:d,expires_in:k,expires_at:E,refresh_token:f,token_type:m,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ee,redirectType:r.type},error:null}}catch(o){if(le(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const i=await Nn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&i)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:a,error:d}=i;if(d)return{error:d};const f=(o=a.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:p}=await this.admin.signOut(f,r);if(p&&!(rm(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const i=pm(),o={id:i,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async i=>{var o,a;try{const{data:{session:d},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,i={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await mr(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(le(d))return{data:null,error:d};throw d}}async getUserIdentities(){var r;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=i.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}}async linkIdentity(r){var i;try{const{data:o,error:a}=await this._useSession(async d=>{var f,p,g,m,y;const{data:k,error:E}=d;if(E)throw E;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(m=k.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return Ct()&&!(!((i=r.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:r.provider,url:o?.url},error:null}}catch(o){if(le(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async i=>{var o,a;const{data:d,error:f}=i;if(f)throw f;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(a=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(le(i))return{data:null,error:i};throw i}}async _refreshAccessToken(r){const i=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await ym(async a=>(a>0&&await vm(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Ht})),(a,d)=>{const f=200*Math.pow(2,a);return d&&Bl(d)&&Date.now()+f-o<_r})}catch(o){if(this._debug(i,"error",o),le(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(i,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",i,"url",o),Ct()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Nn(this.storage,this.storageKey);if(a&&this.userStorage){let f=await Nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:a.user},await Sr(this.userStorage,this.storageKey+"-user",f)),a.user=(r=f?.user)!==null&&r!==void 0?r:Hl()}else if(a&&!a.user&&!a.user){const f=await Nn(this.storage,this.storageKey+"-user");f&&f?.user?(a.user=f.user,await gn(this.storage,this.storageKey+"-user"),await Sr(this.storage,this.storageKey,a)):a.user=Hl()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const d=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Fl;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${Fl}s`),d){if(this.autoRefreshToken&&a.refresh_token){const{error:f}=await this._callRefreshToken(a.refresh_token);f&&(console.error(f),Bl(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(a.access_token);!p&&f?.user?(a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var i,o;if(!r)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new zs;const{data:d,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!d.session)throw new mn;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={session:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(a,"error",d),le(d)){const f={session:null,error:d};return Bl(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(r,i,o=!0){const a=`#_notifyAllSubscribers(${r})`;this._debug(a,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,i)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(a,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const i=Object.assign({},r),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await Sr(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const d=zd(a);await Sr(this.storage,this.storageKey,d)}else{const a=zd(i);await Sr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await gn(this.storage,this.storageKey),await gn(this.storage,this.storageKey+"-code-verifier"),await gn(this.storage,this.storageKey+"-user"),this.userStorage&&await gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ct()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-r)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${_r}ms, refresh threshold is ${Zl} ticks`),a<=Zl&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof uf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const i=`#_onVisibilityChanged(${r})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,i,o){const a=[`provider=${encodeURIComponent(i)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,f]=await mr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});a.push(p.toString())}if(o?.queryParams){const d=new URLSearchParams(o.queryParams);a.push(d.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${a.join("&")}`}async _unenroll(r){try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;return d?{data:null,error:d}:await ce(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(le(i))return{data:null,error:i};throw i}}async _enroll(r){try{return await this._useSession(async i=>{var o,a;const{data:d,error:f}=i;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:g,error:m}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((a=g?.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(le(i))return{data:null,error:i};throw i}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;if(d)return{data:null,error:d};const{data:f,error:p}=await ce(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(i){if(le(i))return{data:null,error:i};throw i}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;return d?{data:null,error:d}:await ce(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(le(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(r){const{data:i,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:i.id,code:r.code})}async _listFactors(){const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o=r?.factors||[],a=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),d=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:a,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var i,o;const{data:{session:a},error:d}=r;if(d)return{data:null,error:d};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Wl(a.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(k=>k.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const y=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(r,i={keys:[]}){let o=i.keys.find(p=>p.kid===r);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+tm>a)return o;const{data:d,error:f}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=a,o=d.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,i={}){try{let o=r;if(!o){const{data:b,error:O}=await this.getSession();if(O||!b.session)return{data:null,error:O};o=b.session.access_token}const{header:a,payload:d,signature:f,raw:{header:p,payload:g}}=Wl(o);i?.allowExpired||jm(d.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!m){const{error:b}=await this.getUser(o);if(b)throw b;return{data:{claims:d,header:a,signature:f},error:null}}const y=Cm(a.alg),k=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,k,f,dm(`${p}.${g}`)))throw new na("Invalid JWT signature");return{data:{claims:d,header:a,signature:f},error:null}}catch(o){if(le(o))return{data:null,error:o};throw o}}}yi.nextInstanceID=0;const Bm=yi;class Wm extends Bm{constructor(r){super(r)}}var Hm=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};class Vm{constructor(r,i,o){var a,d,f;this.supabaseUrl=r,this.supabaseKey=i;const p=Qg(r);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,m={db:Mg,realtime:Bg,auth:Object.assign(Object.assign({},Fg),{storageKey:g}),global:Ug},y=Gg(o??{},m);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(d=y.global.headers)!==null&&d!==void 0?d:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(k,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=y.auth)!==null&&f!==void 0?f:{},this.headers,y.global.fetch),this.fetch=qg(i,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new og(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new $g(this.storageUrl.href,this.headers,this.fetch,o?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Qp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,i={},o={}){return this.rest.rpc(r,i,o)}channel(r,i={config:{}}){return this.realtime.channel(r,i)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,i;return Hm(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:a,userStorage:d,storageKey:f,flowType:p,lock:g,debug:m},y,k){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wm({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),y),storageKey:f,autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:a,userStorage:d,flowType:p,lock:g,debug:m,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new xg(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o?.access_token)})}_handleTokenChanged(r,i,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qm=(u,r,i)=>new Vm(u,r,i);function Km(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const r=u.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Km()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jm="https://qsgbnlqthphckokmtygi.supabase.co",Gm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFzZ2JubHF0aHBoY2tva210eWdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1ODg1MzgsImV4cCI6MjA3NDE2NDUzOH0.sxre3gUxN4EJ1AhVPXnQOONcehFfE1MCz8f5vawpqs0",fi=qm(Jm,Gm);function Qm({children:u}){const[r,i]=re.useState(null),[o,a]=re.useState(!0),[d,f]=re.useState(null);re.useEffect(()=>{let m=!0;async function y(){try{const E=window.location.hash||"";if(E.startsWith("#")){const b=new URLSearchParams(E.slice(1)),O=b.get("access_token"),I=b.get("refresh_token");if(O&&I){try{await fi.auth.setSession({access_token:O,refresh_token:I})}catch(A){console.warn("Failed to set session from redirect tokens",A)}try{history.replaceState(null,document.title,window.location.pathname+window.location.search)}catch{}}}}catch(E){console.warn("OAuth redirect handling failed",E)}try{const{data:E}=await fi.auth.getSession();if(!m)return;i(E?.session??null)}catch(E){console.warn("Supabase session load failed",E)}finally{a(!1)}}y();const{data:k}=fi.auth.onAuthStateChange((E,b)=>{i(b)});return()=>{m=!1;try{k.subscription?.unsubscribe()}catch{}}},[]);async function p(){try{f(null);const m=await fi.auth.signInWithOAuth({provider:"github",options:{redirectTo:window.location.origin}});m?.error&&f(m.error.message||"Sign in failed")}catch(m){f(String(m?.message||m))}}async function g(){await fi.auth.signOut(),i(null)}return o?_.jsx("div",{children:"Loading..."}):r?_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,alignItems:"center"},children:[_.jsxs("div",{style:{fontSize:12,opacity:.8},children:["Signed in as ",r.user?.email]}),_.jsx("button",{onClick:g,style:{padding:"6px 10px",borderRadius:8},children:"Sign out"})]}),u]}):_.jsxs("div",{style:{padding:20},children:[_.jsx("h3",{children:"Sign in with GitHub to continue"}),_.jsx("p",{children:"If you use GitHub Copilot, sign in with the same GitHub account."}),_.jsx("button",{onClick:p,style:{padding:"10px 14px",borderRadius:8},children:"Sign in with GitHub"}),d?_.jsxs("div",{style:{marginTop:12,color:"crimson"},children:[_.jsx("strong",{children:"Sign-in error:"})," ",d,_.jsx("div",{style:{marginTop:8,fontSize:13},children:'If you see "Unsupported provider: provider is not enabled", open your Supabase dashboard → Authentication → Providers and enable GitHub (ensure client ID/secret are set and redirect URL is configured).'})]}):null]})}gp.createRoot(document.getElementById("root")).render(_.jsxs(Wd.StrictMode,{children:[(localStorage.getItem("provider")||localStorage.setItem("provider","azure"),null),(()=>{const u=localStorage.getItem("skip_auth")==="true",r=typeof window<"u"&&window.location.hostname.endsWith("github.io");return u||r?_.jsx(wd,{}):_.jsx(Qm,{children:_.jsx(wd,{})})})()]}));
