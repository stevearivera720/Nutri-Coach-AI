(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=i(a);fetch(a.href,d)}})();function na(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function sp(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var r=u.default;if(typeof r=="function"){var i=function o(){var a=!1;try{a=this instanceof o}catch{}return a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var a=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return u[o]}})}),i}var Pl={exports:{}},li={},Ol={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc;function op(){if(Zc)return ue;Zc=1;var u=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),k=Symbol.iterator;function E(_){return _===null||typeof _!="object"?null:(_=k&&_[k]||_["@@iterator"],typeof _=="function"?_:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function N(_,P,K){this.props=_,this.context=P,this.refs=R,this.updater=K||O}N.prototype.isReactComponent={},N.prototype.setState=function(_,P){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,P,"setState")},N.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function Z(){}Z.prototype=N.prototype;function Y(_,P,K){this.props=_,this.context=P,this.refs=R,this.updater=K||O}var B=Y.prototype=new Z;B.constructor=Y,I(B,N.prototype),B.isPureReactComponent=!0;var W=Array.isArray,ae=Object.prototype.hasOwnProperty,H={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function he(_,P,K){var oe,ee={},U=null,ce=null;if(P!=null)for(oe in P.ref!==void 0&&(ce=P.ref),P.key!==void 0&&(U=""+P.key),P)ae.call(P,oe)&&!re.hasOwnProperty(oe)&&(ee[oe]=P[oe]);var X=arguments.length-2;if(X===1)ee.children=K;else if(1<X){for(var de=Array(X),We=0;We<X;We++)de[We]=arguments[We+2];ee.children=de}if(_&&_.defaultProps)for(oe in X=_.defaultProps,X)ee[oe]===void 0&&(ee[oe]=X[oe]);return{$$typeof:u,type:_,key:U,ref:ce,props:ee,_owner:H.current}}function Ie(_,P){return{$$typeof:u,type:_.type,key:P,ref:_.ref,props:_.props,_owner:_._owner}}function ye(_){return typeof _=="object"&&_!==null&&_.$$typeof===u}function ot(_){var P={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(K){return P[K]})}var ve=/\/+/g;function Ae(_,P){return typeof _=="object"&&_!==null&&_.key!=null?ot(""+_.key):P.toString(36)}function Re(_,P,K,oe,ee){var U=typeof _;(U==="undefined"||U==="boolean")&&(_=null);var ce=!1;if(_===null)ce=!0;else switch(U){case"string":case"number":ce=!0;break;case"object":switch(_.$$typeof){case u:case r:ce=!0}}if(ce)return ce=_,ee=ee(ce),_=oe===""?"."+Ae(ce,0):oe,W(ee)?(K="",_!=null&&(K=_.replace(ve,"$&/")+"/"),Re(ee,P,K,"",function(We){return We})):ee!=null&&(ye(ee)&&(ee=Ie(ee,K+(!ee.key||ce&&ce.key===ee.key?"":(""+ee.key).replace(ve,"$&/")+"/")+_)),P.push(ee)),1;if(ce=0,oe=oe===""?".":oe+":",W(_))for(var X=0;X<_.length;X++){U=_[X];var de=oe+Ae(U,X);ce+=Re(U,P,K,de,ee)}else if(de=E(_),typeof de=="function")for(_=de.call(_),X=0;!(U=_.next()).done;)U=U.value,de=oe+Ae(U,X++),ce+=Re(U,P,K,de,ee);else if(U==="object")throw P=String(_),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return ce}function je(_,P,K){if(_==null)return _;var oe=[],ee=0;return Re(_,oe,"","",function(U){return P.call(K,U,ee++)}),oe}function we(_){if(_._status===-1){var P=_._result;P=P(),P.then(function(K){(_._status===0||_._status===-1)&&(_._status=1,_._result=K)},function(K){(_._status===0||_._status===-1)&&(_._status=2,_._result=K)}),_._status===-1&&(_._status=0,_._result=P)}if(_._status===1)return _._result.default;throw _._result}var A={current:null},b={transition:null},M={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:b,ReactCurrentOwner:H};function L(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:je,forEach:function(_,P,K){je(_,function(){P.apply(this,arguments)},K)},count:function(_){var P=0;return je(_,function(){P++}),P},toArray:function(_){return je(_,function(P){return P})||[]},only:function(_){if(!ye(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},ue.Component=N,ue.Fragment=i,ue.Profiler=a,ue.PureComponent=Y,ue.StrictMode=o,ue.Suspense=g,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,ue.act=L,ue.cloneElement=function(_,P,K){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var oe=I({},_.props),ee=_.key,U=_.ref,ce=_._owner;if(P!=null){if(P.ref!==void 0&&(U=P.ref,ce=H.current),P.key!==void 0&&(ee=""+P.key),_.type&&_.type.defaultProps)var X=_.type.defaultProps;for(de in P)ae.call(P,de)&&!re.hasOwnProperty(de)&&(oe[de]=P[de]===void 0&&X!==void 0?X[de]:P[de])}var de=arguments.length-2;if(de===1)oe.children=K;else if(1<de){X=Array(de);for(var We=0;We<de;We++)X[We]=arguments[We+2];oe.children=X}return{$$typeof:u,type:_.type,key:ee,ref:U,props:oe,_owner:ce}},ue.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:d,_context:_},_.Consumer=_},ue.createElement=he,ue.createFactory=function(_){var P=he.bind(null,_);return P.type=_,P},ue.createRef=function(){return{current:null}},ue.forwardRef=function(_){return{$$typeof:p,render:_}},ue.isValidElement=ye,ue.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:we}},ue.memo=function(_,P){return{$$typeof:m,type:_,compare:P===void 0?null:P}},ue.startTransition=function(_){var P=b.transition;b.transition={};try{_()}finally{b.transition=P}},ue.unstable_act=L,ue.useCallback=function(_,P){return A.current.useCallback(_,P)},ue.useContext=function(_){return A.current.useContext(_)},ue.useDebugValue=function(){},ue.useDeferredValue=function(_){return A.current.useDeferredValue(_)},ue.useEffect=function(_,P){return A.current.useEffect(_,P)},ue.useId=function(){return A.current.useId()},ue.useImperativeHandle=function(_,P,K){return A.current.useImperativeHandle(_,P,K)},ue.useInsertionEffect=function(_,P){return A.current.useInsertionEffect(_,P)},ue.useLayoutEffect=function(_,P){return A.current.useLayoutEffect(_,P)},ue.useMemo=function(_,P){return A.current.useMemo(_,P)},ue.useReducer=function(_,P,K){return A.current.useReducer(_,P,K)},ue.useRef=function(_){return A.current.useRef(_)},ue.useState=function(_){return A.current.useState(_)},ue.useSyncExternalStore=function(_,P,K){return A.current.useSyncExternalStore(_,P,K)},ue.useTransition=function(){return A.current.useTransition()},ue.version="18.3.1",ue}var ed;function gi(){return ed||(ed=1,Ol.exports=op()),Ol.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function lp(){if(td)return li;td=1;var u=gi(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,m){var v,k={},E=null,O=null;m!==void 0&&(E=""+m),g.key!==void 0&&(E=""+g.key),g.ref!==void 0&&(O=g.ref);for(v in g)o.call(g,v)&&!d.hasOwnProperty(v)&&(k[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)k[v]===void 0&&(k[v]=g[v]);return{$$typeof:r,type:p,key:E,ref:O,props:k,_owner:a.current}}return li.Fragment=i,li.jsx=f,li.jsxs=f,li}var nd;function ap(){return nd||(nd=1,Pl.exports=lp()),Pl.exports}var w=ap(),se=gi();const Bd=na(se);var Cs={},bl={exports:{}},st={},Il={exports:{}},Al={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function up(){return rd||(rd=1,(function(u){function r(b,M){var L=b.length;b.push(M);e:for(;0<L;){var _=L-1>>>1,P=b[_];if(0<a(P,M))b[_]=M,b[L]=P,L=_;else break e}}function i(b){return b.length===0?null:b[0]}function o(b){if(b.length===0)return null;var M=b[0],L=b.pop();if(L!==M){b[0]=L;e:for(var _=0,P=b.length,K=P>>>1;_<K;){var oe=2*(_+1)-1,ee=b[oe],U=oe+1,ce=b[U];if(0>a(ee,L))U<P&&0>a(ce,ee)?(b[_]=ce,b[U]=L,_=U):(b[_]=ee,b[oe]=L,_=oe);else if(U<P&&0>a(ce,L))b[_]=ce,b[U]=L,_=U;else break e}}return M}function a(b,M){var L=b.sortIndex-M.sortIndex;return L!==0?L:b.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();u.unstable_now=function(){return f.now()-p}}var g=[],m=[],v=1,k=null,E=3,O=!1,I=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(b){for(var M=i(m);M!==null;){if(M.callback===null)o(m);else if(M.startTime<=b)o(m),M.sortIndex=M.expirationTime,r(g,M);else break;M=i(m)}}function W(b){if(R=!1,B(b),!I)if(i(g)!==null)I=!0,we(ae);else{var M=i(m);M!==null&&A(W,M.startTime-b)}}function ae(b,M){I=!1,R&&(R=!1,Z(he),he=-1),O=!0;var L=E;try{for(B(M),k=i(g);k!==null&&(!(k.expirationTime>M)||b&&!ot());){var _=k.callback;if(typeof _=="function"){k.callback=null,E=k.priorityLevel;var P=_(k.expirationTime<=M);M=u.unstable_now(),typeof P=="function"?k.callback=P:k===i(g)&&o(g),B(M)}else o(g);k=i(g)}if(k!==null)var K=!0;else{var oe=i(m);oe!==null&&A(W,oe.startTime-M),K=!1}return K}finally{k=null,E=L,O=!1}}var H=!1,re=null,he=-1,Ie=5,ye=-1;function ot(){return!(u.unstable_now()-ye<Ie)}function ve(){if(re!==null){var b=u.unstable_now();ye=b;var M=!0;try{M=re(!0,b)}finally{M?Ae():(H=!1,re=null)}}else H=!1}var Ae;if(typeof Y=="function")Ae=function(){Y(ve)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,je=Re.port2;Re.port1.onmessage=ve,Ae=function(){je.postMessage(null)}}else Ae=function(){N(ve,0)};function we(b){re=b,H||(H=!0,Ae())}function A(b,M){he=N(function(){b(u.unstable_now())},M)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(b){b.callback=null},u.unstable_continueExecution=function(){I||O||(I=!0,we(ae))},u.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<b?Math.floor(1e3/b):5},u.unstable_getCurrentPriorityLevel=function(){return E},u.unstable_getFirstCallbackNode=function(){return i(g)},u.unstable_next=function(b){switch(E){case 1:case 2:case 3:var M=3;break;default:M=E}var L=E;E=M;try{return b()}finally{E=L}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(b,M){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var L=E;E=b;try{return M()}finally{E=L}},u.unstable_scheduleCallback=function(b,M,L){var _=u.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?_+L:_):L=_,b){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=L+P,b={id:v++,callback:M,priorityLevel:b,startTime:L,expirationTime:P,sortIndex:-1},L>_?(b.sortIndex=L,r(m,b),i(g)===null&&b===i(m)&&(R?(Z(he),he=-1):R=!0,A(W,L-_))):(b.sortIndex=P,r(g,b),I||O||(I=!0,we(ae))),b},u.unstable_shouldYield=ot,u.unstable_wrapCallback=function(b){var M=E;return function(){var L=E;E=M;try{return b.apply(this,arguments)}finally{E=L}}}})(Al)),Al}var id;function cp(){return id||(id=1,Il.exports=up()),Il.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function dp(){if(sd)return st;sd=1;var u=gi(),r=cp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function d(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},k={};function E(e){return g.call(k,e)?!0:g.call(v,e)?!1:m.test(e)?k[e]=!0:(v[e]=!0,!1)}function O(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I(e,t,n,s){if(t===null||typeof t>"u"||O(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,n,s,l,c,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=h}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){N[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];N[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){N[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){N[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){N[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){N[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){N[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){N[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){N[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Z,Y);N[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Z,Y);N[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Z,Y);N[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){N[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),N.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){N[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,t,n,s){var l=N.hasOwnProperty(t)?N[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I(t,n,l,s)&&(n=null),s||l===null?E(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var W=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),H=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),Ie=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),ot=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),b=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=b&&e[b]||e["@@iterator"],typeof e=="function"?e:null)}var L=Object.assign,_;function P(e){if(_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return`
`+_+e}var K=!1;function oe(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var s=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){s=T}e.call(t.prototype)}else{try{throw Error()}catch(T){s=T}e()}}catch(T){if(T&&s&&typeof T.stack=="string"){for(var l=T.stack.split(`
`),c=s.stack.split(`
`),h=l.length-1,y=c.length-1;1<=h&&0<=y&&l[h]!==c[y];)y--;for(;1<=h&&0<=y;h--,y--)if(l[h]!==c[y]){if(h!==1||y!==1)do if(h--,y--,0>y||l[h]!==c[y]){var S=`
`+l[h].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=h&&0<=y);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?P(e):""}function ee(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function U(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case re:return"Fragment";case H:return"Portal";case Ie:return"Profiler";case he:return"StrictMode";case Ae:return"Suspense";case Re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ot:return(e.displayName||"Context")+".Consumer";case ye:return(e._context.displayName||"Context")+".Provider";case ve:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case je:return t=e.displayName||null,t!==null?t:U(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return U(e(t))}catch{}}return null}function ce(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===he?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function X(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function de(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function We(e){var t=de(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){s=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ze(e){e._valueTracker||(e._valueTracker=We(e))}function Nn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=de(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function At(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sr(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vi(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=X(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ls(e,t){t=t.checked,t!=null&&B(e,"checked",t,!1)}function gn(e,t){Ls(e,t);var n=X(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$s(e,t.type,n):t.hasOwnProperty("defaultValue")&&$s(e,t.type,X(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ht(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $s(e,t,n){(t!=="number"||At(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var kr=Array.isArray;function Ln(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ds(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ua(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(kr(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function ca(e,t){var n=X(t.value),s=X(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function da(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fa(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yi,ha=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yi=yi||document.createElement("div"),yi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uf=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(e){uf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Er[t]=Er[e]})});function pa(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Er.hasOwnProperty(e)&&Er[e]?(""+t).trim():t+"px"}function ga(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=pa(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var cf=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Us(e,t){if(t){if(cf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Ms(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fs=null;function Bs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ws=null,$n=null,Dn=null;function ma(e){if(e=qr(e)){if(typeof Ws!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Fi(t),Ws(e.stateNode,e.type,t))}}function va(e){$n?Dn?Dn.push(e):Dn=[e]:$n=e}function ya(){if($n){var e=$n,t=Dn;if(Dn=$n=null,ma(e),t)for(e=0;e<t.length;e++)ma(t[e])}}function wa(e,t){return e(t)}function _a(){}var Hs=!1;function Sa(e,t,n){if(Hs)return e(t,n);Hs=!0;try{return wa(e,t,n)}finally{Hs=!1,($n!==null||Dn!==null)&&(_a(),ya())}}function jr(e,t){var n=e.stateNode;if(n===null)return null;var s=Fi(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var Vs=!1;if(p)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{Vs=!1}function df(e,t,n,s,l,c,h,y,S){var T=Array.prototype.slice.call(arguments,3);try{t.apply(n,T)}catch(D){this.onError(D)}}var Tr=!1,wi=null,_i=!1,qs=null,ff={onError:function(e){Tr=!0,wi=e}};function hf(e,t,n,s,l,c,h,y,S){Tr=!1,wi=null,df.apply(ff,arguments)}function pf(e,t,n,s,l,c,h,y,S){if(hf.apply(this,arguments),Tr){if(Tr){var T=wi;Tr=!1,wi=null}else throw Error(i(198));_i||(_i=!0,qs=T)}}function mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ka(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xa(e){if(mn(e)!==e)throw Error(i(188))}function gf(e){var t=e.alternate;if(!t){if(t=mn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return xa(l),e;if(c===s)return xa(l),t;c=c.sibling}throw Error(i(188))}if(n.return!==s.return)n=l,s=c;else{for(var h=!1,y=l.child;y;){if(y===n){h=!0,n=l,s=c;break}if(y===s){h=!0,s=l,n=c;break}y=y.sibling}if(!h){for(y=c.child;y;){if(y===n){h=!0,n=c,s=l;break}if(y===s){h=!0,s=c,n=l;break}y=y.sibling}if(!h)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function Ea(e){return e=gf(e),e!==null?ja(e):null}function ja(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ja(e);if(t!==null)return t;e=e.sibling}return null}var Ca=r.unstable_scheduleCallback,Ta=r.unstable_cancelCallback,mf=r.unstable_shouldYield,vf=r.unstable_requestPaint,Oe=r.unstable_now,yf=r.unstable_getCurrentPriorityLevel,Ks=r.unstable_ImmediatePriority,Pa=r.unstable_UserBlockingPriority,Si=r.unstable_NormalPriority,wf=r.unstable_LowPriority,Oa=r.unstable_IdlePriority,ki=null,Ct=null;function _f(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(ki,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:xf,Sf=Math.log,kf=Math.LN2;function xf(e){return e>>>=0,e===0?32:31-(Sf(e)/kf|0)|0}var xi=64,Ei=4194304;function Pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ji(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,c=e.pingedLanes,h=n&268435455;if(h!==0){var y=h&~l;y!==0?s=Pr(y):(c&=h,c!==0&&(s=Pr(c)))}else h=n&~l,h!==0?s=Pr(h):c!==0&&(s=Pr(c));if(s===0)return 0;if(t!==0&&t!==s&&(t&l)===0&&(l=s&-s,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-vt(t),l=1<<n,s|=e[n],t&=~l;return s}function Ef(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var h=31-vt(c),y=1<<h,S=l[h];S===-1?((y&n)===0||(y&s)!==0)&&(l[h]=Ef(y,t)):S<=t&&(e.expiredLanes|=y),c&=~y}}function Js(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ba(){var e=xi;return xi<<=1,(xi&4194240)===0&&(xi=64),e}function Gs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Or(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function Cf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-vt(n),c=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~c}}function Qs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-vt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var me=0;function Ia(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Aa,Ys,Ra,Na,La,Xs=!1,Ci=[],Vt=null,qt=null,Kt=null,br=new Map,Ir=new Map,Jt=[],Tf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $a(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(t.pointerId)}}function Ar(e,t,n,s,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:c,targetContainers:[l]},t!==null&&(t=qr(t),t!==null&&Ys(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Pf(e,t,n,s,l){switch(t){case"focusin":return Vt=Ar(Vt,e,t,n,s,l),!0;case"dragenter":return qt=Ar(qt,e,t,n,s,l),!0;case"mouseover":return Kt=Ar(Kt,e,t,n,s,l),!0;case"pointerover":var c=l.pointerId;return br.set(c,Ar(br.get(c)||null,e,t,n,s,l)),!0;case"gotpointercapture":return c=l.pointerId,Ir.set(c,Ar(Ir.get(c)||null,e,t,n,s,l)),!0}return!1}function Da(e){var t=vn(e.target);if(t!==null){var n=mn(t);if(n!==null){if(t=n.tag,t===13){if(t=ka(n),t!==null){e.blockedOn=t,La(e.priority,function(){Ra(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ti(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Fs=s,n.target.dispatchEvent(s),Fs=null}else return t=qr(n),t!==null&&Ys(t),e.blockedOn=n,!1;t.shift()}return!0}function za(e,t,n){Ti(e)&&n.delete(t)}function Of(){Xs=!1,Vt!==null&&Ti(Vt)&&(Vt=null),qt!==null&&Ti(qt)&&(qt=null),Kt!==null&&Ti(Kt)&&(Kt=null),br.forEach(za),Ir.forEach(za)}function Rr(e,t){e.blockedOn===t&&(e.blockedOn=null,Xs||(Xs=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Of)))}function Nr(e){function t(l){return Rr(l,e)}if(0<Ci.length){Rr(Ci[0],e);for(var n=1;n<Ci.length;n++){var s=Ci[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Vt!==null&&Rr(Vt,e),qt!==null&&Rr(qt,e),Kt!==null&&Rr(Kt,e),br.forEach(t),Ir.forEach(t),n=0;n<Jt.length;n++)s=Jt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)Da(n),n.blockedOn===null&&Jt.shift()}var zn=W.ReactCurrentBatchConfig,Pi=!0;function bf(e,t,n,s){var l=me,c=zn.transition;zn.transition=null;try{me=1,Zs(e,t,n,s)}finally{me=l,zn.transition=c}}function If(e,t,n,s){var l=me,c=zn.transition;zn.transition=null;try{me=4,Zs(e,t,n,s)}finally{me=l,zn.transition=c}}function Zs(e,t,n,s){if(Pi){var l=eo(e,t,n,s);if(l===null)yo(e,t,s,Oi,n),$a(e,s);else if(Pf(l,e,t,n,s))s.stopPropagation();else if($a(e,s),t&4&&-1<Tf.indexOf(e)){for(;l!==null;){var c=qr(l);if(c!==null&&Aa(c),c=eo(e,t,n,s),c===null&&yo(e,t,s,Oi,n),c===l)break;l=c}l!==null&&s.stopPropagation()}else yo(e,t,s,null,n)}}var Oi=null;function eo(e,t,n,s){if(Oi=null,e=Bs(s),e=vn(e),e!==null)if(t=mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ka(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oi=e,null}function Ua(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yf()){case Ks:return 1;case Pa:return 4;case Si:case wf:return 16;case Oa:return 536870912;default:return 16}default:return 16}}var Gt=null,to=null,bi=null;function Ma(){if(bi)return bi;var e,t=to,n=t.length,s,l="value"in Gt?Gt.value:Gt.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var h=n-e;for(s=1;s<=h&&t[n-s]===l[c-s];s++);return bi=l.slice(e,1<s?1-s:void 0)}function Ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Fa(){return!1}function lt(e){function t(n,s,l,c,h){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ai:Fa,this.isPropagationStopped=Fa,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=lt(Un),Lr=L({},Un,{view:0,detail:0}),Af=lt(Lr),ro,io,$r,Ri=L({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$r&&($r&&e.type==="mousemove"?(ro=e.screenX-$r.screenX,io=e.screenY-$r.screenY):io=ro=0,$r=e),ro)},movementY:function(e){return"movementY"in e?e.movementY:io}}),Ba=lt(Ri),Rf=L({},Ri,{dataTransfer:0}),Nf=lt(Rf),Lf=L({},Lr,{relatedTarget:0}),so=lt(Lf),$f=L({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),Df=lt($f),zf=L({},Un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uf=lt(zf),Mf=L({},Un,{data:0}),Wa=lt(Mf),Ff={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wf[e])?!!t[e]:!1}function oo(){return Hf}var Vf=L({},Lr,{key:function(e){if(e.key){var t=Ff[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qf=lt(Vf),Kf=L({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ha=lt(Kf),Jf=L({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),Gf=lt(Jf),Qf=L({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yf=lt(Qf),Xf=L({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zf=lt(Xf),eh=[9,13,27,32],lo=p&&"CompositionEvent"in window,Dr=null;p&&"documentMode"in document&&(Dr=document.documentMode);var th=p&&"TextEvent"in window&&!Dr,Va=p&&(!lo||Dr&&8<Dr&&11>=Dr),qa=" ",Ka=!1;function Ja(e,t){switch(e){case"keyup":return eh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mn=!1;function nh(e,t){switch(e){case"compositionend":return Ga(t);case"keypress":return t.which!==32?null:(Ka=!0,qa);case"textInput":return e=t.data,e===qa&&Ka?null:e;default:return null}}function rh(e,t){if(Mn)return e==="compositionend"||!lo&&Ja(e,t)?(e=Ma(),bi=to=Gt=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Va&&t.locale!=="ko"?null:t.data;default:return null}}var ih={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ih[e.type]:t==="textarea"}function Ya(e,t,n,s){va(s),t=zi(t,"onChange"),0<t.length&&(n=new no("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var zr=null,Ur=null;function sh(e){gu(e,0)}function Ni(e){var t=Vn(e);if(Nn(t))return e}function oh(e,t){if(e==="change")return t}var Xa=!1;if(p){var ao;if(p){var uo="oninput"in document;if(!uo){var Za=document.createElement("div");Za.setAttribute("oninput","return;"),uo=typeof Za.oninput=="function"}ao=uo}else ao=!1;Xa=ao&&(!document.documentMode||9<document.documentMode)}function eu(){zr&&(zr.detachEvent("onpropertychange",tu),Ur=zr=null)}function tu(e){if(e.propertyName==="value"&&Ni(Ur)){var t=[];Ya(t,Ur,e,Bs(e)),Sa(sh,t)}}function lh(e,t,n){e==="focusin"?(eu(),zr=t,Ur=n,zr.attachEvent("onpropertychange",tu)):e==="focusout"&&eu()}function ah(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ni(Ur)}function uh(e,t){if(e==="click")return Ni(t)}function ch(e,t){if(e==="input"||e==="change")return Ni(t)}function dh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:dh;function Mr(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!g.call(t,l)||!yt(e[l],t[l]))return!1}return!0}function nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ru(e,t){var n=nu(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nu(n)}}function iu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function su(){for(var e=window,t=At();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=At(e.document)}return t}function co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fh(e){var t=su(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&iu(n.ownerDocument.documentElement,n)){if(s!==null&&co(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,c=Math.min(s.start,l);s=s.end===void 0?c:Math.min(s.end,l),!e.extend&&c>s&&(l=s,s=c,c=l),l=ru(n,c);var h=ru(n,s);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hh=p&&"documentMode"in document&&11>=document.documentMode,Fn=null,fo=null,Fr=null,ho=!1;function ou(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ho||Fn==null||Fn!==At(s)||(s=Fn,"selectionStart"in s&&co(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fr&&Mr(Fr,s)||(Fr=s,s=zi(fo,"onSelect"),0<s.length&&(t=new no("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Fn)))}function Li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bn={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionend:Li("Transition","TransitionEnd")},po={},lu={};p&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function $i(e){if(po[e])return po[e];if(!Bn[e])return e;var t=Bn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lu)return po[e]=t[n];return e}var au=$i("animationend"),uu=$i("animationiteration"),cu=$i("animationstart"),du=$i("transitionend"),fu=new Map,hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){fu.set(e,t),d(t,[e])}for(var go=0;go<hu.length;go++){var mo=hu[go],ph=mo.toLowerCase(),gh=mo[0].toUpperCase()+mo.slice(1);Qt(ph,"on"+gh)}Qt(au,"onAnimationEnd"),Qt(uu,"onAnimationIteration"),Qt(cu,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(du,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function pu(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,pf(s,t,void 0,e),e.currentTarget=null}function gu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var h=s.length-1;0<=h;h--){var y=s[h],S=y.instance,T=y.currentTarget;if(y=y.listener,S!==c&&l.isPropagationStopped())break e;pu(l,y,T),c=S}else for(h=0;h<s.length;h++){if(y=s[h],S=y.instance,T=y.currentTarget,y=y.listener,S!==c&&l.isPropagationStopped())break e;pu(l,y,T),c=S}}}if(_i)throw e=qs,_i=!1,qs=null,e}function ke(e,t){var n=t[Eo];n===void 0&&(n=t[Eo]=new Set);var s=e+"__bubble";n.has(s)||(mu(t,e,2,!1),n.add(s))}function vo(e,t,n){var s=0;t&&(s|=4),mu(n,e,s,t)}var Di="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Di]){e[Di]=!0,o.forEach(function(n){n!=="selectionchange"&&(mh.has(n)||vo(n,!1,e),vo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Di]||(t[Di]=!0,vo("selectionchange",!1,t))}}function mu(e,t,n,s){switch(Ua(t)){case 1:var l=bf;break;case 4:l=If;break;default:l=Zs}n=l.bind(null,t,n,e),l=void 0,!Vs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function yo(e,t,n,s,l){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var y=s.stateNode.containerInfo;if(y===l||y.nodeType===8&&y.parentNode===l)break;if(h===4)for(h=s.return;h!==null;){var S=h.tag;if((S===3||S===4)&&(S=h.stateNode.containerInfo,S===l||S.nodeType===8&&S.parentNode===l))return;h=h.return}for(;y!==null;){if(h=vn(y),h===null)return;if(S=h.tag,S===5||S===6){s=c=h;continue e}y=y.parentNode}}s=s.return}Sa(function(){var T=c,D=Bs(n),z=[];e:{var $=fu.get(e);if($!==void 0){var V=no,J=e;switch(e){case"keypress":if(Ii(n)===0)break e;case"keydown":case"keyup":V=qf;break;case"focusin":J="focus",V=so;break;case"focusout":J="blur",V=so;break;case"beforeblur":case"afterblur":V=so;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Gf;break;case au:case uu:case cu:V=Df;break;case du:V=Yf;break;case"scroll":V=Af;break;case"wheel":V=Zf;break;case"copy":case"cut":case"paste":V=Uf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Ha}var G=(t&4)!==0,be=!G&&e==="scroll",j=G?$!==null?$+"Capture":null:$;G=[];for(var x=T,C;x!==null;){C=x;var F=C.stateNode;if(C.tag===5&&F!==null&&(C=F,j!==null&&(F=jr(x,j),F!=null&&G.push(Hr(x,F,C)))),be)break;x=x.return}0<G.length&&($=new V($,J,null,n,D),z.push({event:$,listeners:G}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",$&&n!==Fs&&(J=n.relatedTarget||n.fromElement)&&(vn(J)||J[Rt]))break e;if((V||$)&&($=D.window===D?D:($=D.ownerDocument)?$.defaultView||$.parentWindow:window,V?(J=n.relatedTarget||n.toElement,V=T,J=J?vn(J):null,J!==null&&(be=mn(J),J!==be||J.tag!==5&&J.tag!==6)&&(J=null)):(V=null,J=T),V!==J)){if(G=Ba,F="onMouseLeave",j="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(G=Ha,F="onPointerLeave",j="onPointerEnter",x="pointer"),be=V==null?$:Vn(V),C=J==null?$:Vn(J),$=new G(F,x+"leave",V,n,D),$.target=be,$.relatedTarget=C,F=null,vn(D)===T&&(G=new G(j,x+"enter",J,n,D),G.target=C,G.relatedTarget=be,F=G),be=F,V&&J)t:{for(G=V,j=J,x=0,C=G;C;C=Wn(C))x++;for(C=0,F=j;F;F=Wn(F))C++;for(;0<x-C;)G=Wn(G),x--;for(;0<C-x;)j=Wn(j),C--;for(;x--;){if(G===j||j!==null&&G===j.alternate)break t;G=Wn(G),j=Wn(j)}G=null}else G=null;V!==null&&vu(z,$,V,G,!1),J!==null&&be!==null&&vu(z,be,J,G,!0)}}e:{if($=T?Vn(T):window,V=$.nodeName&&$.nodeName.toLowerCase(),V==="select"||V==="input"&&$.type==="file")var Q=oh;else if(Qa($))if(Xa)Q=ch;else{Q=ah;var te=lh}else(V=$.nodeName)&&V.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(Q=uh);if(Q&&(Q=Q(e,T))){Ya(z,Q,n,D);break e}te&&te(e,$,T),e==="focusout"&&(te=$._wrapperState)&&te.controlled&&$.type==="number"&&$s($,"number",$.value)}switch(te=T?Vn(T):window,e){case"focusin":(Qa(te)||te.contentEditable==="true")&&(Fn=te,fo=T,Fr=null);break;case"focusout":Fr=fo=Fn=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,ou(z,n,D);break;case"selectionchange":if(hh)break;case"keydown":case"keyup":ou(z,n,D)}var ne;if(lo)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Mn?Ja(e,n)&&(ie="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ie="onCompositionStart");ie&&(Va&&n.locale!=="ko"&&(Mn||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Mn&&(ne=Ma()):(Gt=D,to="value"in Gt?Gt.value:Gt.textContent,Mn=!0)),te=zi(T,ie),0<te.length&&(ie=new Wa(ie,e,null,n,D),z.push({event:ie,listeners:te}),ne?ie.data=ne:(ne=Ga(n),ne!==null&&(ie.data=ne)))),(ne=th?nh(e,n):rh(e,n))&&(T=zi(T,"onBeforeInput"),0<T.length&&(D=new Wa("onBeforeInput","beforeinput",null,n,D),z.push({event:D,listeners:T}),D.data=ne))}gu(z,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zi(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=jr(e,n),c!=null&&s.unshift(Hr(e,c,l)),c=jr(e,t),c!=null&&s.push(Hr(e,c,l))),e=e.return}return s}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vu(e,t,n,s,l){for(var c=t._reactName,h=[];n!==null&&n!==s;){var y=n,S=y.alternate,T=y.stateNode;if(S!==null&&S===s)break;y.tag===5&&T!==null&&(y=T,l?(S=jr(n,c),S!=null&&h.unshift(Hr(n,S,y))):l||(S=jr(n,c),S!=null&&h.push(Hr(n,S,y)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var vh=/\r\n?/g,yh=/\u0000|\uFFFD/g;function yu(e){return(typeof e=="string"?e:""+e).replace(vh,`
`).replace(yh,"")}function Ui(e,t,n){if(t=yu(t),yu(e)!==t&&n)throw Error(i(425))}function Mi(){}var wo=null,_o=null;function So(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ko=typeof setTimeout=="function"?setTimeout:void 0,wh=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,_h=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(e){return wu.resolve(null).then(e).catch(Sh)}:ko;function Sh(e){setTimeout(function(){throw e})}function xo(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),Nr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);Nr(t)}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _u(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Hn,Vr="__reactProps$"+Hn,Rt="__reactContainer$"+Hn,Eo="__reactEvents$"+Hn,kh="__reactListeners$"+Hn,xh="__reactHandles$"+Hn;function vn(e){var t=e[Tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rt]||n[Tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_u(e);e!==null;){if(n=e[Tt])return n;e=_u(e)}return t}e=n,n=e.parentNode}return null}function qr(e){return e=e[Tt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Fi(e){return e[Vr]||null}var jo=[],qn=-1;function Xt(e){return{current:e}}function xe(e){0>qn||(e.current=jo[qn],jo[qn]=null,qn--)}function _e(e,t){qn++,jo[qn]=e.current,e.current=t}var Zt={},qe=Xt(Zt),et=Xt(!1),yn=Zt;function Kn(e,t){var n=e.type.contextTypes;if(!n)return Zt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=t[c];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function tt(e){return e=e.childContextTypes,e!=null}function Bi(){xe(et),xe(qe)}function Su(e,t,n){if(qe.current!==Zt)throw Error(i(168));_e(qe,t),_e(et,n)}function ku(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(i(108,ce(e)||"Unknown",l));return L({},n,s)}function Wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zt,yn=qe.current,_e(qe,e),_e(et,et.current),!0}function xu(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=ku(e,t,yn),s.__reactInternalMemoizedMergedChildContext=e,xe(et),xe(qe),_e(qe,e)):xe(et),_e(et,n)}var Nt=null,Hi=!1,Co=!1;function Eu(e){Nt===null?Nt=[e]:Nt.push(e)}function Eh(e){Hi=!0,Eu(e)}function en(){if(!Co&&Nt!==null){Co=!0;var e=0,t=me;try{var n=Nt;for(me=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Nt=null,Hi=!1}catch(l){throw Nt!==null&&(Nt=Nt.slice(e+1)),Ca(Ks,en),l}finally{me=t,Co=!1}}return null}var Jn=[],Gn=0,Vi=null,qi=0,dt=[],ft=0,wn=null,Lt=1,$t="";function _n(e,t){Jn[Gn++]=qi,Jn[Gn++]=Vi,Vi=e,qi=t}function ju(e,t,n){dt[ft++]=Lt,dt[ft++]=$t,dt[ft++]=wn,wn=e;var s=Lt;e=$t;var l=32-vt(s)-1;s&=~(1<<l),n+=1;var c=32-vt(t)+l;if(30<c){var h=l-l%5;c=(s&(1<<h)-1).toString(32),s>>=h,l-=h,Lt=1<<32-vt(t)+l|n<<l|s,$t=c+e}else Lt=1<<c|n<<l|s,$t=e}function To(e){e.return!==null&&(_n(e,1),ju(e,1,0))}function Po(e){for(;e===Vi;)Vi=Jn[--Gn],Jn[Gn]=null,qi=Jn[--Gn],Jn[Gn]=null;for(;e===wn;)wn=dt[--ft],dt[ft]=null,$t=dt[--ft],dt[ft]=null,Lt=dt[--ft],dt[ft]=null}var at=null,ut=null,Ee=!1,wt=null;function Cu(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,ut=Yt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:Lt,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,at=e,ut=null,!0):!1;default:return!1}}function Oo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bo(e){if(Ee){var t=ut;if(t){var n=t;if(!Tu(e,t)){if(Oo(e))throw Error(i(418));t=Yt(n.nextSibling);var s=at;t&&Tu(e,t)?Cu(s,n):(e.flags=e.flags&-4097|2,Ee=!1,at=e)}}else{if(Oo(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ee=!1,at=e}}}function Pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function Ki(e){if(e!==at)return!1;if(!Ee)return Pu(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!So(e.type,e.memoizedProps)),t&&(t=ut)){if(Oo(e))throw Ou(),Error(i(418));for(;t;)Cu(e,t),t=Yt(t.nextSibling)}if(Pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ut=Yt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=at?Yt(e.stateNode.nextSibling):null;return!0}function Ou(){for(var e=ut;e;)e=Yt(e.nextSibling)}function Qn(){ut=at=null,Ee=!1}function Io(e){wt===null?wt=[e]:wt.push(e)}var jh=W.ReactCurrentBatchConfig;function Kr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var l=s,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(h){var y=l.refs;h===null?delete y[c]:y[c]=h},t._stringRef=c,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ji(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bu(e){var t=e._init;return t(e._payload)}function Iu(e){function t(j,x){if(e){var C=j.deletions;C===null?(j.deletions=[x],j.flags|=16):C.push(x)}}function n(j,x){if(!e)return null;for(;x!==null;)t(j,x),x=x.sibling;return null}function s(j,x){for(j=new Map;x!==null;)x.key!==null?j.set(x.key,x):j.set(x.index,x),x=x.sibling;return j}function l(j,x){return j=un(j,x),j.index=0,j.sibling=null,j}function c(j,x,C){return j.index=C,e?(C=j.alternate,C!==null?(C=C.index,C<x?(j.flags|=2,x):C):(j.flags|=2,x)):(j.flags|=1048576,x)}function h(j){return e&&j.alternate===null&&(j.flags|=2),j}function y(j,x,C,F){return x===null||x.tag!==6?(x=kl(C,j.mode,F),x.return=j,x):(x=l(x,C),x.return=j,x)}function S(j,x,C,F){var Q=C.type;return Q===re?D(j,x,C.props.children,F,C.key):x!==null&&(x.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===we&&bu(Q)===x.type)?(F=l(x,C.props),F.ref=Kr(j,x,C),F.return=j,F):(F=ys(C.type,C.key,C.props,null,j.mode,F),F.ref=Kr(j,x,C),F.return=j,F)}function T(j,x,C,F){return x===null||x.tag!==4||x.stateNode.containerInfo!==C.containerInfo||x.stateNode.implementation!==C.implementation?(x=xl(C,j.mode,F),x.return=j,x):(x=l(x,C.children||[]),x.return=j,x)}function D(j,x,C,F,Q){return x===null||x.tag!==7?(x=Pn(C,j.mode,F,Q),x.return=j,x):(x=l(x,C),x.return=j,x)}function z(j,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return x=kl(""+x,j.mode,C),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ae:return C=ys(x.type,x.key,x.props,null,j.mode,C),C.ref=Kr(j,null,x),C.return=j,C;case H:return x=xl(x,j.mode,C),x.return=j,x;case we:var F=x._init;return z(j,F(x._payload),C)}if(kr(x)||M(x))return x=Pn(x,j.mode,C,null),x.return=j,x;Ji(j,x)}return null}function $(j,x,C,F){var Q=x!==null?x.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return Q!==null?null:y(j,x,""+C,F);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ae:return C.key===Q?S(j,x,C,F):null;case H:return C.key===Q?T(j,x,C,F):null;case we:return Q=C._init,$(j,x,Q(C._payload),F)}if(kr(C)||M(C))return Q!==null?null:D(j,x,C,F,null);Ji(j,C)}return null}function V(j,x,C,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number")return j=j.get(C)||null,y(x,j,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ae:return j=j.get(F.key===null?C:F.key)||null,S(x,j,F,Q);case H:return j=j.get(F.key===null?C:F.key)||null,T(x,j,F,Q);case we:var te=F._init;return V(j,x,C,te(F._payload),Q)}if(kr(F)||M(F))return j=j.get(C)||null,D(x,j,F,Q,null);Ji(x,F)}return null}function J(j,x,C,F){for(var Q=null,te=null,ne=x,ie=x=0,Fe=null;ne!==null&&ie<C.length;ie++){ne.index>ie?(Fe=ne,ne=null):Fe=ne.sibling;var ge=$(j,ne,C[ie],F);if(ge===null){ne===null&&(ne=Fe);break}e&&ne&&ge.alternate===null&&t(j,ne),x=c(ge,x,ie),te===null?Q=ge:te.sibling=ge,te=ge,ne=Fe}if(ie===C.length)return n(j,ne),Ee&&_n(j,ie),Q;if(ne===null){for(;ie<C.length;ie++)ne=z(j,C[ie],F),ne!==null&&(x=c(ne,x,ie),te===null?Q=ne:te.sibling=ne,te=ne);return Ee&&_n(j,ie),Q}for(ne=s(j,ne);ie<C.length;ie++)Fe=V(ne,j,ie,C[ie],F),Fe!==null&&(e&&Fe.alternate!==null&&ne.delete(Fe.key===null?ie:Fe.key),x=c(Fe,x,ie),te===null?Q=Fe:te.sibling=Fe,te=Fe);return e&&ne.forEach(function(cn){return t(j,cn)}),Ee&&_n(j,ie),Q}function G(j,x,C,F){var Q=M(C);if(typeof Q!="function")throw Error(i(150));if(C=Q.call(C),C==null)throw Error(i(151));for(var te=Q=null,ne=x,ie=x=0,Fe=null,ge=C.next();ne!==null&&!ge.done;ie++,ge=C.next()){ne.index>ie?(Fe=ne,ne=null):Fe=ne.sibling;var cn=$(j,ne,ge.value,F);if(cn===null){ne===null&&(ne=Fe);break}e&&ne&&cn.alternate===null&&t(j,ne),x=c(cn,x,ie),te===null?Q=cn:te.sibling=cn,te=cn,ne=Fe}if(ge.done)return n(j,ne),Ee&&_n(j,ie),Q;if(ne===null){for(;!ge.done;ie++,ge=C.next())ge=z(j,ge.value,F),ge!==null&&(x=c(ge,x,ie),te===null?Q=ge:te.sibling=ge,te=ge);return Ee&&_n(j,ie),Q}for(ne=s(j,ne);!ge.done;ie++,ge=C.next())ge=V(ne,j,ie,ge.value,F),ge!==null&&(e&&ge.alternate!==null&&ne.delete(ge.key===null?ie:ge.key),x=c(ge,x,ie),te===null?Q=ge:te.sibling=ge,te=ge);return e&&ne.forEach(function(ip){return t(j,ip)}),Ee&&_n(j,ie),Q}function be(j,x,C,F){if(typeof C=="object"&&C!==null&&C.type===re&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ae:e:{for(var Q=C.key,te=x;te!==null;){if(te.key===Q){if(Q=C.type,Q===re){if(te.tag===7){n(j,te.sibling),x=l(te,C.props.children),x.return=j,j=x;break e}}else if(te.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===we&&bu(Q)===te.type){n(j,te.sibling),x=l(te,C.props),x.ref=Kr(j,te,C),x.return=j,j=x;break e}n(j,te);break}else t(j,te);te=te.sibling}C.type===re?(x=Pn(C.props.children,j.mode,F,C.key),x.return=j,j=x):(F=ys(C.type,C.key,C.props,null,j.mode,F),F.ref=Kr(j,x,C),F.return=j,j=F)}return h(j);case H:e:{for(te=C.key;x!==null;){if(x.key===te)if(x.tag===4&&x.stateNode.containerInfo===C.containerInfo&&x.stateNode.implementation===C.implementation){n(j,x.sibling),x=l(x,C.children||[]),x.return=j,j=x;break e}else{n(j,x);break}else t(j,x);x=x.sibling}x=xl(C,j.mode,F),x.return=j,j=x}return h(j);case we:return te=C._init,be(j,x,te(C._payload),F)}if(kr(C))return J(j,x,C,F);if(M(C))return G(j,x,C,F);Ji(j,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,x!==null&&x.tag===6?(n(j,x.sibling),x=l(x,C),x.return=j,j=x):(n(j,x),x=kl(C,j.mode,F),x.return=j,j=x),h(j)):n(j,x)}return be}var Yn=Iu(!0),Au=Iu(!1),Gi=Xt(null),Qi=null,Xn=null,Ao=null;function Ro(){Ao=Xn=Qi=null}function No(e){var t=Gi.current;xe(Gi),e._currentValue=t}function Lo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Zn(e,t){Qi=e,Ao=Xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(nt=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},Xn===null){if(Qi===null)throw Error(i(308));Xn=e,Qi.dependencies={lanes:0,firstContext:e}}else Xn=Xn.next=e;return t}var Sn=null;function $o(e){Sn===null?Sn=[e]:Sn.push(e)}function Ru(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,$o(t)):(n.next=l.next,l.next=n),t.interleaved=n,Dt(e,s)}function Dt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tn=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(pe&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Dt(e,n)}return l=s.interleaved,l===null?(t.next=t,$o(s)):(t.next=l.next,l.next=t),s.interleaved=t,Dt(e,n)}function Yi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Qs(e,n)}}function Lu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xi(e,t,n,s){var l=e.updateQueue;tn=!1;var c=l.firstBaseUpdate,h=l.lastBaseUpdate,y=l.shared.pending;if(y!==null){l.shared.pending=null;var S=y,T=S.next;S.next=null,h===null?c=T:h.next=T,h=S;var D=e.alternate;D!==null&&(D=D.updateQueue,y=D.lastBaseUpdate,y!==h&&(y===null?D.firstBaseUpdate=T:y.next=T,D.lastBaseUpdate=S))}if(c!==null){var z=l.baseState;h=0,D=T=S=null,y=c;do{var $=y.lane,V=y.eventTime;if((s&$)===$){D!==null&&(D=D.next={eventTime:V,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var J=e,G=y;switch($=t,V=n,G.tag){case 1:if(J=G.payload,typeof J=="function"){z=J.call(V,z,$);break e}z=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=G.payload,$=typeof J=="function"?J.call(V,z,$):J,$==null)break e;z=L({},z,$);break e;case 2:tn=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,$=l.effects,$===null?l.effects=[y]:$.push(y))}else V={eventTime:V,lane:$,tag:y.tag,payload:y.payload,callback:y.callback,next:null},D===null?(T=D=V,S=z):D=D.next=V,h|=$;if(y=y.next,y===null){if(y=l.shared.pending,y===null)break;$=y,y=$.next,$.next=null,l.lastBaseUpdate=$,l.shared.pending=null}}while(!0);if(D===null&&(S=z),l.baseState=S,l.firstBaseUpdate=T,l.lastBaseUpdate=D,t=l.shared.interleaved,t!==null){l=t;do h|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);En|=h,e.lanes=h,e.memoizedState=z}}function $u(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(i(191,l));l.call(s)}}}var Jr={},Pt=Xt(Jr),Gr=Xt(Jr),Qr=Xt(Jr);function kn(e){if(e===Jr)throw Error(i(174));return e}function zo(e,t){switch(_e(Qr,t),_e(Gr,e),_e(Pt,Jr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zs(t,e)}xe(Pt),_e(Pt,t)}function er(){xe(Pt),xe(Gr),xe(Qr)}function Du(e){kn(Qr.current);var t=kn(Pt.current),n=zs(t,e.type);t!==n&&(_e(Gr,e),_e(Pt,n))}function Uo(e){Gr.current===e&&(xe(Pt),xe(Gr))}var Ce=Xt(0);function Zi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=[];function Fo(){for(var e=0;e<Mo.length;e++)Mo[e]._workInProgressVersionPrimary=null;Mo.length=0}var es=W.ReactCurrentDispatcher,Bo=W.ReactCurrentBatchConfig,xn=0,Te=null,Le=null,Ue=null,ts=!1,Yr=!1,Xr=0,Ch=0;function Ke(){throw Error(i(321))}function Wo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function Ho(e,t,n,s,l,c){if(xn=c,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,es.current=e===null||e.memoizedState===null?bh:Ih,e=n(s,l),Yr){c=0;do{if(Yr=!1,Xr=0,25<=c)throw Error(i(301));c+=1,Ue=Le=null,t.updateQueue=null,es.current=Ah,e=n(s,l)}while(Yr)}if(es.current=is,t=Le!==null&&Le.next!==null,xn=0,Ue=Le=Te=null,ts=!1,t)throw Error(i(300));return e}function Vo(){var e=Xr!==0;return Xr=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Te.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function pt(){if(Le===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Ue===null?Te.memoizedState:Ue.next;if(t!==null)Ue=t,Le=e;else{if(e===null)throw Error(i(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ue===null?Te.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function Zr(e,t){return typeof t=="function"?t(e):t}function qo(e){var t=pt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=Le,l=s.baseQueue,c=n.pending;if(c!==null){if(l!==null){var h=l.next;l.next=c.next,c.next=h}s.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,s=s.baseState;var y=h=null,S=null,T=c;do{var D=T.lane;if((xn&D)===D)S!==null&&(S=S.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),s=T.hasEagerState?T.eagerState:e(s,T.action);else{var z={lane:D,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};S===null?(y=S=z,h=s):S=S.next=z,Te.lanes|=D,En|=D}T=T.next}while(T!==null&&T!==c);S===null?h=s:S.next=y,yt(s,t.memoizedState)||(nt=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=S,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do c=l.lane,Te.lanes|=c,En|=c,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ko(e){var t=pt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var h=l=l.next;do c=e(c,h.action),h=h.next;while(h!==l);yt(c,t.memoizedState)||(nt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,s]}function zu(){}function Uu(e,t){var n=Te,s=pt(),l=t(),c=!yt(s.memoizedState,l);if(c&&(s.memoizedState=l,nt=!0),s=s.queue,Jo(Bu.bind(null,n,s,e),[e]),s.getSnapshot!==t||c||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,ei(9,Fu.bind(null,n,s,l,t),void 0,null),Me===null)throw Error(i(349));(xn&30)!==0||Mu(n,t,l)}return l}function Mu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fu(e,t,n,s){t.value=n,t.getSnapshot=s,Wu(t)&&Hu(e)}function Bu(e,t,n){return n(function(){Wu(t)&&Hu(e)})}function Wu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function Hu(e){var t=Dt(e,1);t!==null&&xt(t,e,1,-1)}function Vu(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Oh.bind(null,Te,e),[t.memoizedState,e]}function ei(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function qu(){return pt().memoizedState}function ns(e,t,n,s){var l=Ot();Te.flags|=e,l.memoizedState=ei(1|t,n,void 0,s===void 0?null:s)}function rs(e,t,n,s){var l=pt();s=s===void 0?null:s;var c=void 0;if(Le!==null){var h=Le.memoizedState;if(c=h.destroy,s!==null&&Wo(s,h.deps)){l.memoizedState=ei(t,n,c,s);return}}Te.flags|=e,l.memoizedState=ei(1|t,n,c,s)}function Ku(e,t){return ns(8390656,8,e,t)}function Jo(e,t){return rs(2048,8,e,t)}function Ju(e,t){return rs(4,2,e,t)}function Gu(e,t){return rs(4,4,e,t)}function Qu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yu(e,t,n){return n=n!=null?n.concat([e]):null,rs(4,4,Qu.bind(null,t,e),n)}function Go(){}function Xu(e,t){var n=pt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Wo(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Zu(e,t){var n=pt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Wo(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function ec(e,t,n){return(xn&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n):(yt(n,t)||(n=ba(),Te.lanes|=n,En|=n,e.baseState=!0),t)}function Th(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var s=Bo.transition;Bo.transition={};try{e(!1),t()}finally{me=n,Bo.transition=s}}function tc(){return pt().memoizedState}function Ph(e,t,n){var s=ln(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},nc(e))rc(t,n);else if(n=Ru(e,t,n,s),n!==null){var l=Ye();xt(n,e,s,l),ic(n,t,s)}}function Oh(e,t,n){var s=ln(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(nc(e))rc(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,y=c(h,n);if(l.hasEagerState=!0,l.eagerState=y,yt(y,h)){var S=t.interleaved;S===null?(l.next=l,$o(t)):(l.next=S.next,S.next=l),t.interleaved=l;return}}catch{}finally{}n=Ru(e,t,l,s),n!==null&&(l=Ye(),xt(n,e,s,l),ic(n,t,s))}}function nc(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function rc(e,t){Yr=ts=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ic(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Qs(e,n)}}var is={readContext:ht,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},bh={readContext:ht,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Ku,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ns(4194308,4,Qu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return ns(4,2,e,t)},useMemo:function(e,t){var n=Ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ot();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ph.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:Vu,useDebugValue:Go,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=Vu(!1),t=e[0];return e=Th.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Te,l=Ot();if(Ee){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Me===null)throw Error(i(349));(xn&30)!==0||Mu(s,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,Ku(Bu.bind(null,s,c,e),[e]),s.flags|=2048,ei(9,Fu.bind(null,s,c,n,t),void 0,null),n},useId:function(){var e=Ot(),t=Me.identifierPrefix;if(Ee){var n=$t,s=Lt;n=(s&~(1<<32-vt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ch++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ih={readContext:ht,useCallback:Xu,useContext:ht,useEffect:Jo,useImperativeHandle:Yu,useInsertionEffect:Ju,useLayoutEffect:Gu,useMemo:Zu,useReducer:qo,useRef:qu,useState:function(){return qo(Zr)},useDebugValue:Go,useDeferredValue:function(e){var t=pt();return ec(t,Le.memoizedState,e)},useTransition:function(){var e=qo(Zr)[0],t=pt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Uu,useId:tc,unstable_isNewReconciler:!1},Ah={readContext:ht,useCallback:Xu,useContext:ht,useEffect:Jo,useImperativeHandle:Yu,useInsertionEffect:Ju,useLayoutEffect:Gu,useMemo:Zu,useReducer:Ko,useRef:qu,useState:function(){return Ko(Zr)},useDebugValue:Go,useDeferredValue:function(e){var t=pt();return Le===null?t.memoizedState=e:ec(t,Le.memoizedState,e)},useTransition:function(){var e=Ko(Zr)[0],t=pt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Uu,useId:tc,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=L({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:L({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ss={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ye(),l=ln(e),c=zt(s,l);c.payload=t,n!=null&&(c.callback=n),t=nn(e,c,l),t!==null&&(xt(t,e,l,s),Yi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ye(),l=ln(e),c=zt(s,l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=nn(e,c,l),t!==null&&(xt(t,e,l,s),Yi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),s=ln(e),l=zt(n,s);l.tag=2,t!=null&&(l.callback=t),t=nn(e,l,s),t!==null&&(xt(t,e,s,n),Yi(t,e,s))}};function sc(e,t,n,s,l,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,h):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,s)||!Mr(l,c):!0}function oc(e,t,n){var s=!1,l=Zt,c=t.contextType;return typeof c=="object"&&c!==null?c=ht(c):(l=tt(t)?yn:qe.current,s=t.contextTypes,c=(s=s!=null)?Kn(e,l):Zt),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ss,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function lc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ss.enqueueReplaceState(t,t.state,null)}function Yo(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Do(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=ht(c):(c=tt(t)?yn:qe.current,l.context=Kn(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Qo(e,t,c,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ss.enqueueReplaceState(l,l.state,null),Xi(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function tr(e,t){try{var n="",s=t;do n+=ee(s),s=s.return;while(s);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function Xo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rh=typeof WeakMap=="function"?WeakMap:Map;function ac(e,t,n){n=zt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){fs||(fs=!0,pl=s),Zo(e,t)},n}function uc(e,t,n){n=zt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){Zo(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){Zo(e,t),typeof s!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function cc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Rh;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Kh.bind(null,e,t,n),t.then(e,e))}function dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fc(e,t,n,s,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zt(-1,1),t.tag=2,nn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Nh=W.ReactCurrentOwner,nt=!1;function Qe(e,t,n,s){t.child=e===null?Au(t,null,n,s):Yn(t,e.child,n,s)}function hc(e,t,n,s,l){n=n.render;var c=t.ref;return Zn(t,l),s=Ho(e,t,n,s,c,l),n=Vo(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ut(e,t,l)):(Ee&&n&&To(t),t.flags|=1,Qe(e,t,s,l),t.child)}function pc(e,t,n,s,l){if(e===null){var c=n.type;return typeof c=="function"&&!Sl(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,gc(e,t,c,s,l)):(e=ys(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&l)===0){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(h,s)&&e.ref===t.ref)return Ut(e,t,l)}return t.flags|=1,e=un(c,s),e.ref=t.ref,e.return=t,t.child=e}function gc(e,t,n,s,l){if(e!==null){var c=e.memoizedProps;if(Mr(c,s)&&e.ref===t.ref)if(nt=!1,t.pendingProps=s=c,(e.lanes&l)!==0)(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Ut(e,t,l)}return el(e,t,n,s,l)}function mc(e,t,n){var s=t.pendingProps,l=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(rr,ct),ct|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(rr,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=c!==null?c.baseLanes:n,_e(rr,ct),ct|=s}else c!==null?(s=c.baseLanes|n,t.memoizedState=null):s=n,_e(rr,ct),ct|=s;return Qe(e,t,l,n),t.child}function vc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function el(e,t,n,s,l){var c=tt(n)?yn:qe.current;return c=Kn(t,c),Zn(t,l),n=Ho(e,t,n,s,c,l),s=Vo(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ut(e,t,l)):(Ee&&s&&To(t),t.flags|=1,Qe(e,t,n,l),t.child)}function yc(e,t,n,s,l){if(tt(n)){var c=!0;Wi(t)}else c=!1;if(Zn(t,l),t.stateNode===null)ls(e,t),oc(t,n,s),Yo(t,n,s,l),s=!0;else if(e===null){var h=t.stateNode,y=t.memoizedProps;h.props=y;var S=h.context,T=n.contextType;typeof T=="object"&&T!==null?T=ht(T):(T=tt(n)?yn:qe.current,T=Kn(t,T));var D=n.getDerivedStateFromProps,z=typeof D=="function"||typeof h.getSnapshotBeforeUpdate=="function";z||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==s||S!==T)&&lc(t,h,s,T),tn=!1;var $=t.memoizedState;h.state=$,Xi(t,s,h,l),S=t.memoizedState,y!==s||$!==S||et.current||tn?(typeof D=="function"&&(Qo(t,n,D,s),S=t.memoizedState),(y=tn||sc(t,n,y,s,$,S,T))?(z||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=S),h.props=s,h.state=S,h.context=T,s=y):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Nu(e,t),y=t.memoizedProps,T=t.type===t.elementType?y:_t(t.type,y),h.props=T,z=t.pendingProps,$=h.context,S=n.contextType,typeof S=="object"&&S!==null?S=ht(S):(S=tt(n)?yn:qe.current,S=Kn(t,S));var V=n.getDerivedStateFromProps;(D=typeof V=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==z||$!==S)&&lc(t,h,s,S),tn=!1,$=t.memoizedState,h.state=$,Xi(t,s,h,l);var J=t.memoizedState;y!==z||$!==J||et.current||tn?(typeof V=="function"&&(Qo(t,n,V,s),J=t.memoizedState),(T=tn||sc(t,n,T,s,$,J,S)||!1)?(D||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,J,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,J,S)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=J),h.props=s,h.state=J,h.context=S,s=T):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),s=!1)}return tl(e,t,n,s,c,l)}function tl(e,t,n,s,l,c){vc(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return l&&xu(t,n,!1),Ut(e,t,c);s=t.stateNode,Nh.current=t;var y=h&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=Yn(t,e.child,null,c),t.child=Yn(t,null,y,c)):Qe(e,t,y,c),t.memoizedState=s.state,l&&xu(t,n,!0),t.child}function wc(e){var t=e.stateNode;t.pendingContext?Su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Su(e,t.context,!1),zo(e,t.containerInfo)}function _c(e,t,n,s,l){return Qn(),Io(l),t.flags|=256,Qe(e,t,n,s),t.child}var nl={dehydrated:null,treeContext:null,retryLane:0};function rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sc(e,t,n){var s=t.pendingProps,l=Ce.current,c=!1,h=(t.flags&128)!==0,y;if((y=h)||(y=e!==null&&e.memoizedState===null?!1:(l&2)!==0),y?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),_e(Ce,l&1),e===null)return bo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=s.children,e=s.fallback,c?(s=t.mode,c=t.child,h={mode:"hidden",children:h},(s&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=h):c=ws(h,s,0,null),e=Pn(e,s,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=rl(n),t.memoizedState=nl,e):il(t,h));if(l=e.memoizedState,l!==null&&(y=l.dehydrated,y!==null))return Lh(e,t,h,s,y,l,n);if(c){c=s.fallback,h=t.mode,l=e.child,y=l.sibling;var S={mode:"hidden",children:s.children};return(h&1)===0&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=S,t.deletions=null):(s=un(l,S),s.subtreeFlags=l.subtreeFlags&14680064),y!==null?c=un(y,c):(c=Pn(c,h,n,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,h=e.child.memoizedState,h=h===null?rl(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=e.childLanes&~n,t.memoizedState=nl,s}return c=e.child,e=c.sibling,s=un(c,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function il(e,t){return t=ws({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function os(e,t,n,s){return s!==null&&Io(s),Yn(t,e.child,null,n),e=il(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lh(e,t,n,s,l,c,h){if(n)return t.flags&256?(t.flags&=-257,s=Xo(Error(i(422))),os(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=s.fallback,l=t.mode,s=ws({mode:"visible",children:s.children},l,0,null),c=Pn(c,l,h,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,(t.mode&1)!==0&&Yn(t,e.child,null,h),t.child.memoizedState=rl(h),t.memoizedState=nl,c);if((t.mode&1)===0)return os(e,t,h,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var y=s.dgst;return s=y,c=Error(i(419)),s=Xo(c,s,void 0),os(e,t,h,s)}if(y=(h&e.childLanes)!==0,nt||y){if(s=Me,s!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|h))!==0?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,Dt(e,l),xt(s,e,l,-1))}return _l(),s=Xo(Error(i(421))),os(e,t,h,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Jh.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,ut=Yt(l.nextSibling),at=t,Ee=!0,wt=null,e!==null&&(dt[ft++]=Lt,dt[ft++]=$t,dt[ft++]=wn,Lt=e.id,$t=e.overflow,wn=t),t=il(t,s.children),t.flags|=4096,t)}function kc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Lo(e.return,t,n)}function sl(e,t,n,s,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=n,c.tailMode=l)}function xc(e,t,n){var s=t.pendingProps,l=s.revealOrder,c=s.tail;if(Qe(e,t,s.children,n),s=Ce.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kc(e,n,t);else if(e.tag===19)kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(_e(Ce,s),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Zi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),sl(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Zi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}sl(t,!0,n,null,c);break;case"together":sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ls(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $h(e,t,n){switch(t.tag){case 3:wc(t),Qn();break;case 5:Du(t);break;case 1:tt(t.type)&&Wi(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;_e(Gi,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(_e(Ce,Ce.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Sc(e,t,n):(_e(Ce,Ce.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);_e(Ce,Ce.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return xc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),_e(Ce,Ce.current),s)break;return null;case 22:case 23:return t.lanes=0,mc(e,t,n)}return Ut(e,t,n)}var Ec,ol,jc,Cc;Ec=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ol=function(){},jc=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,kn(Pt.current);var c=null;switch(n){case"input":l=Sr(e,l),s=Sr(e,s),c=[];break;case"select":l=L({},l,{value:void 0}),s=L({},s,{value:void 0}),c=[];break;case"textarea":l=Ds(e,l),s=Ds(e,s),c=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Mi)}Us(n,s);var h;n=null;for(T in l)if(!s.hasOwnProperty(T)&&l.hasOwnProperty(T)&&l[T]!=null)if(T==="style"){var y=l[T];for(h in y)y.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(a.hasOwnProperty(T)?c||(c=[]):(c=c||[]).push(T,null));for(T in s){var S=s[T];if(y=l?.[T],s.hasOwnProperty(T)&&S!==y&&(S!=null||y!=null))if(T==="style")if(y){for(h in y)!y.hasOwnProperty(h)||S&&S.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in S)S.hasOwnProperty(h)&&y[h]!==S[h]&&(n||(n={}),n[h]=S[h])}else n||(c||(c=[]),c.push(T,n)),n=S;else T==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,y=y?y.__html:void 0,S!=null&&y!==S&&(c=c||[]).push(T,S)):T==="children"?typeof S!="string"&&typeof S!="number"||(c=c||[]).push(T,""+S):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(a.hasOwnProperty(T)?(S!=null&&T==="onScroll"&&ke("scroll",e),c||y===S||(c=[])):(c=c||[]).push(T,S))}n&&(c=c||[]).push("style",n);var T=c;(t.updateQueue=T)&&(t.flags|=4)}},Cc=function(e,t,n,s){n!==s&&(t.flags|=4)};function ti(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Dh(e,t,n){var s=t.pendingProps;switch(Po(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return tt(t.type)&&Bi(),Je(t),null;case 3:return s=t.stateNode,er(),xe(et),xe(qe),Fo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ki(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wt!==null&&(vl(wt),wt=null))),ol(e,t),Je(t),null;case 5:Uo(t);var l=kn(Qr.current);if(n=t.type,e!==null&&t.stateNode!=null)jc(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Je(t),null}if(e=kn(Pt.current),Ki(t)){s=t.stateNode,n=t.type;var c=t.memoizedProps;switch(s[Tt]=t,s[Vr]=c,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(l=0;l<Br.length;l++)ke(Br[l],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":vi(s,c),ke("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},ke("invalid",s);break;case"textarea":ua(s,c),ke("invalid",s)}Us(n,c),l=null;for(var h in c)if(c.hasOwnProperty(h)){var y=c[h];h==="children"?typeof y=="string"?s.textContent!==y&&(c.suppressHydrationWarning!==!0&&Ui(s.textContent,y,e),l=["children",y]):typeof y=="number"&&s.textContent!==""+y&&(c.suppressHydrationWarning!==!0&&Ui(s.textContent,y,e),l=["children",""+y]):a.hasOwnProperty(h)&&y!=null&&h==="onScroll"&&ke("scroll",s)}switch(n){case"input":Ze(s),Ht(s,c,!0);break;case"textarea":Ze(s),da(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=Mi)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fa(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(n,{is:s.is}):(e=h.createElement(n),n==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,n),e[Tt]=t,e[Vr]=s,Ec(e,t,!1,!1),t.stateNode=e;e:{switch(h=Ms(n,s),n){case"dialog":ke("cancel",e),ke("close",e),l=s;break;case"iframe":case"object":case"embed":ke("load",e),l=s;break;case"video":case"audio":for(l=0;l<Br.length;l++)ke(Br[l],e);l=s;break;case"source":ke("error",e),l=s;break;case"img":case"image":case"link":ke("error",e),ke("load",e),l=s;break;case"details":ke("toggle",e),l=s;break;case"input":vi(e,s),l=Sr(e,s),ke("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=L({},s,{value:void 0}),ke("invalid",e);break;case"textarea":ua(e,s),l=Ds(e,s),ke("invalid",e);break;default:l=s}Us(n,l),y=l;for(c in y)if(y.hasOwnProperty(c)){var S=y[c];c==="style"?ga(e,S):c==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&ha(e,S)):c==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&xr(e,S):typeof S=="number"&&xr(e,""+S):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(a.hasOwnProperty(c)?S!=null&&c==="onScroll"&&ke("scroll",e):S!=null&&B(e,c,S,h))}switch(n){case"input":Ze(e),Ht(e,s,!1);break;case"textarea":Ze(e),da(e);break;case"option":s.value!=null&&e.setAttribute("value",""+X(s.value));break;case"select":e.multiple=!!s.multiple,c=s.value,c!=null?Ln(e,!!s.multiple,c,!1):s.defaultValue!=null&&Ln(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Mi)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)Cc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(n=kn(Qr.current),kn(Pt.current),Ki(t)){if(s=t.stateNode,n=t.memoizedProps,s[Tt]=t,(c=s.nodeValue!==n)&&(e=at,e!==null))switch(e.tag){case 3:Ui(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ui(s.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Tt]=t,t.stateNode=s}return Je(t),null;case 13:if(xe(Ce),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ou(),Qn(),t.flags|=98560,c=!1;else if(c=Ki(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[Tt]=t}else Qn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),c=!1}else wt!==null&&(vl(wt),wt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ce.current&1)!==0?$e===0&&($e=3):_l())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return er(),ol(e,t),e===null&&Wr(t.stateNode.containerInfo),Je(t),null;case 10:return No(t.type._context),Je(t),null;case 17:return tt(t.type)&&Bi(),Je(t),null;case 19:if(xe(Ce),c=t.memoizedState,c===null)return Je(t),null;if(s=(t.flags&128)!==0,h=c.rendering,h===null)if(s)ti(c,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Zi(e),h!==null){for(t.flags|=128,ti(c,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)c=n,e=s,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,e=h.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Ce,Ce.current&1|2),t.child}e=e.sibling}c.tail!==null&&Oe()>ir&&(t.flags|=128,s=!0,ti(c,!1),t.lanes=4194304)}else{if(!s)if(e=Zi(h),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ti(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ee)return Je(t),null}else 2*Oe()-c.renderingStartTime>ir&&n!==1073741824&&(t.flags|=128,s=!0,ti(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(n=c.last,n!==null?n.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Oe(),t.sibling=null,n=Ce.current,_e(Ce,s?n&1|2:n&1),t):(Je(t),null);case 22:case 23:return wl(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(ct&1073741824)!==0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function zh(e,t){switch(Po(t),t.tag){case 1:return tt(t.type)&&Bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return er(),xe(et),xe(qe),Fo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Uo(t),null;case 13:if(xe(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Ce),null;case 4:return er(),null;case 10:return No(t.type._context),null;case 22:case 23:return wl(),null;case 24:return null;default:return null}}var as=!1,Ge=!1,Uh=typeof WeakSet=="function"?WeakSet:Set,q=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Pe(e,t,s)}else n.current=null}function ll(e,t,n){try{n()}catch(s){Pe(e,t,s)}}var Tc=!1;function Mh(e,t){if(wo=Pi,e=su(),co(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,y=-1,S=-1,T=0,D=0,z=e,$=null;t:for(;;){for(var V;z!==n||l!==0&&z.nodeType!==3||(y=h+l),z!==c||s!==0&&z.nodeType!==3||(S=h+s),z.nodeType===3&&(h+=z.nodeValue.length),(V=z.firstChild)!==null;)$=z,z=V;for(;;){if(z===e)break t;if($===n&&++T===l&&(y=h),$===c&&++D===s&&(S=h),(V=z.nextSibling)!==null)break;z=$,$=z.parentNode}z=V}n=y===-1||S===-1?null:{start:y,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(_o={focusedElem:e,selectionRange:n},Pi=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var J=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var G=J.memoizedProps,be=J.memoizedState,j=t.stateNode,x=j.getSnapshotBeforeUpdate(t.elementType===t.type?G:_t(t.type,G),be);j.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(F){Pe(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return J=Tc,Tc=!1,J}function ni(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&ll(t,n,c)}l=l.next}while(l!==s)}}function us(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pc(e){var t=e.alternate;t!==null&&(e.alternate=null,Pc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[Vr],delete t[Eo],delete t[kh],delete t[xh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oc(e){return e.tag===5||e.tag===3||e.tag===4}function bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ul(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mi));else if(s!==4&&(e=e.child,e!==null))for(ul(e,t,n),e=e.sibling;e!==null;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(cl(e,t,n),e=e.sibling;e!==null;)cl(e,t,n),e=e.sibling}var He=null,St=!1;function rn(e,t,n){for(n=n.child;n!==null;)Ic(e,t,n),n=n.sibling}function Ic(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(ki,n)}catch{}switch(n.tag){case 5:Ge||nr(n,t);case 6:var s=He,l=St;He=null,rn(e,t,n),He=s,St=l,He!==null&&(St?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(St?(e=He,n=n.stateNode,e.nodeType===8?xo(e.parentNode,n):e.nodeType===1&&xo(e,n),Nr(e)):xo(He,n.stateNode));break;case 4:s=He,l=St,He=n.stateNode.containerInfo,St=!0,rn(e,t,n),He=s,St=l;break;case 0:case 11:case 14:case 15:if(!Ge&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var c=l,h=c.destroy;c=c.tag,h!==void 0&&((c&2)!==0||(c&4)!==0)&&ll(n,t,h),l=l.next}while(l!==s)}rn(e,t,n);break;case 1:if(!Ge&&(nr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(y){Pe(n,t,y)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(Ge=(s=Ge)||n.memoizedState!==null,rn(e,t,n),Ge=s):rn(e,t,n);break;default:rn(e,t,n)}}function Ac(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Uh),t.forEach(function(s){var l=Gh.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function kt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var c=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 5:He=y.stateNode,St=!1;break e;case 3:He=y.stateNode.containerInfo,St=!0;break e;case 4:He=y.stateNode.containerInfo,St=!0;break e}y=y.return}if(He===null)throw Error(i(160));Ic(c,h,l),He=null,St=!1;var S=l.alternate;S!==null&&(S.return=null),l.return=null}catch(T){Pe(l,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rc(t,e),t=t.sibling}function Rc(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kt(t,e),bt(e),s&4){try{ni(3,e,e.return),us(3,e)}catch(G){Pe(e,e.return,G)}try{ni(5,e,e.return)}catch(G){Pe(e,e.return,G)}}break;case 1:kt(t,e),bt(e),s&512&&n!==null&&nr(n,n.return);break;case 5:if(kt(t,e),bt(e),s&512&&n!==null&&nr(n,n.return),e.flags&32){var l=e.stateNode;try{xr(l,"")}catch(G){Pe(e,e.return,G)}}if(s&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,h=n!==null?n.memoizedProps:c,y=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{y==="input"&&c.type==="radio"&&c.name!=null&&Ls(l,c),Ms(y,h);var T=Ms(y,c);for(h=0;h<S.length;h+=2){var D=S[h],z=S[h+1];D==="style"?ga(l,z):D==="dangerouslySetInnerHTML"?ha(l,z):D==="children"?xr(l,z):B(l,D,z,T)}switch(y){case"input":gn(l,c);break;case"textarea":ca(l,c);break;case"select":var $=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var V=c.value;V!=null?Ln(l,!!c.multiple,V,!1):$!==!!c.multiple&&(c.defaultValue!=null?Ln(l,!!c.multiple,c.defaultValue,!0):Ln(l,!!c.multiple,c.multiple?[]:"",!1))}l[Vr]=c}catch(G){Pe(e,e.return,G)}}break;case 6:if(kt(t,e),bt(e),s&4){if(e.stateNode===null)throw Error(i(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(G){Pe(e,e.return,G)}}break;case 3:if(kt(t,e),bt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Nr(t.containerInfo)}catch(G){Pe(e,e.return,G)}break;case 4:kt(t,e),bt(e);break;case 13:kt(t,e),bt(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(hl=Oe())),s&4&&Ac(e);break;case 22:if(D=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(T=Ge)||D,kt(t,e),Ge=T):kt(t,e),bt(e),s&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!D&&(e.mode&1)!==0)for(q=e,D=e.child;D!==null;){for(z=q=D;q!==null;){switch($=q,V=$.child,$.tag){case 0:case 11:case 14:case 15:ni(4,$,$.return);break;case 1:nr($,$.return);var J=$.stateNode;if(typeof J.componentWillUnmount=="function"){s=$,n=$.return;try{t=s,J.props=t.memoizedProps,J.state=t.memoizedState,J.componentWillUnmount()}catch(G){Pe(s,n,G)}}break;case 5:nr($,$.return);break;case 22:if($.memoizedState!==null){$c(z);continue}}V!==null?(V.return=$,q=V):$c(z)}D=D.sibling}e:for(D=null,z=e;;){if(z.tag===5){if(D===null){D=z;try{l=z.stateNode,T?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(y=z.stateNode,S=z.memoizedProps.style,h=S!=null&&S.hasOwnProperty("display")?S.display:null,y.style.display=pa("display",h))}catch(G){Pe(e,e.return,G)}}}else if(z.tag===6){if(D===null)try{z.stateNode.nodeValue=T?"":z.memoizedProps}catch(G){Pe(e,e.return,G)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;D===z&&(D=null),z=z.return}D===z&&(D=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:kt(t,e),bt(e),s&4&&Ac(e);break;case 21:break;default:kt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Oc(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(xr(l,""),s.flags&=-33);var c=bc(e);cl(e,c,l);break;case 3:case 4:var h=s.stateNode.containerInfo,y=bc(e);ul(e,y,h);break;default:throw Error(i(161))}}catch(S){Pe(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fh(e,t,n){q=e,Nc(e)}function Nc(e,t,n){for(var s=(e.mode&1)!==0;q!==null;){var l=q,c=l.child;if(l.tag===22&&s){var h=l.memoizedState!==null||as;if(!h){var y=l.alternate,S=y!==null&&y.memoizedState!==null||Ge;y=as;var T=Ge;if(as=h,(Ge=S)&&!T)for(q=l;q!==null;)h=q,S=h.child,h.tag===22&&h.memoizedState!==null?Dc(l):S!==null?(S.return=h,q=S):Dc(l);for(;c!==null;)q=c,Nc(c),c=c.sibling;q=l,as=y,Ge=T}Lc(e)}else(l.subtreeFlags&8772)!==0&&c!==null?(c.return=l,q=c):Lc(e)}}function Lc(e){for(;q!==null;){var t=q;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ge||us(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ge)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&$u(t,c,s);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$u(t,h,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var D=T.memoizedState;if(D!==null){var z=D.dehydrated;z!==null&&Nr(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Ge||t.flags&512&&al(t)}catch($){Pe(t,t.return,$)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function $c(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function Dc(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{us(4,t)}catch(S){Pe(t,n,S)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(S){Pe(t,l,S)}}var c=t.return;try{al(t)}catch(S){Pe(t,c,S)}break;case 5:var h=t.return;try{al(t)}catch(S){Pe(t,h,S)}}}catch(S){Pe(t,t.return,S)}if(t===e){q=null;break}var y=t.sibling;if(y!==null){y.return=t.return,q=y;break}q=t.return}}var Bh=Math.ceil,cs=W.ReactCurrentDispatcher,dl=W.ReactCurrentOwner,gt=W.ReactCurrentBatchConfig,pe=0,Me=null,Ne=null,Ve=0,ct=0,rr=Xt(0),$e=0,ri=null,En=0,ds=0,fl=0,ii=null,rt=null,hl=0,ir=1/0,Mt=null,fs=!1,pl=null,sn=null,hs=!1,on=null,ps=0,si=0,gl=null,gs=-1,ms=0;function Ye(){return(pe&6)!==0?Oe():gs!==-1?gs:gs=Oe()}function ln(e){return(e.mode&1)===0?1:(pe&2)!==0&&Ve!==0?Ve&-Ve:jh.transition!==null?(ms===0&&(ms=ba()),ms):(e=me,e!==0||(e=window.event,e=e===void 0?16:Ua(e.type)),e)}function xt(e,t,n,s){if(50<si)throw si=0,gl=null,Error(i(185));Or(e,n,s),((pe&2)===0||e!==Me)&&(e===Me&&((pe&2)===0&&(ds|=n),$e===4&&an(e,Ve)),it(e,s),n===1&&pe===0&&(t.mode&1)===0&&(ir=Oe()+500,Hi&&en()))}function it(e,t){var n=e.callbackNode;jf(e,t);var s=ji(e,e===Me?Ve:0);if(s===0)n!==null&&Ta(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Ta(n),t===1)e.tag===0?Eh(Uc.bind(null,e)):Eu(Uc.bind(null,e)),_h(function(){(pe&6)===0&&en()}),n=null;else{switch(Ia(s)){case 1:n=Ks;break;case 4:n=Pa;break;case 16:n=Si;break;case 536870912:n=Oa;break;default:n=Si}n=Kc(n,zc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zc(e,t){if(gs=-1,ms=0,(pe&6)!==0)throw Error(i(327));var n=e.callbackNode;if(sr()&&e.callbackNode!==n)return null;var s=ji(e,e===Me?Ve:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=vs(e,s);else{t=s;var l=pe;pe|=2;var c=Fc();(Me!==e||Ve!==t)&&(Mt=null,ir=Oe()+500,Cn(e,t));do try{Vh();break}catch(y){Mc(e,y)}while(!0);Ro(),cs.current=c,pe=l,Ne!==null?t=0:(Me=null,Ve=0,t=$e)}if(t!==0){if(t===2&&(l=Js(e),l!==0&&(s=l,t=ml(e,l))),t===1)throw n=ri,Cn(e,0),an(e,s),it(e,Oe()),n;if(t===6)an(e,s);else{if(l=e.current.alternate,(s&30)===0&&!Wh(l)&&(t=vs(e,s),t===2&&(c=Js(e),c!==0&&(s=c,t=ml(e,c))),t===1))throw n=ri,Cn(e,0),an(e,s),it(e,Oe()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:Tn(e,rt,Mt);break;case 3:if(an(e,s),(s&130023424)===s&&(t=hl+500-Oe(),10<t)){if(ji(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Ye(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ko(Tn.bind(null,e,rt,Mt),t);break}Tn(e,rt,Mt);break;case 4:if(an(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var h=31-vt(s);c=1<<h,h=t[h],h>l&&(l=h),s&=~c}if(s=l,s=Oe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Bh(s/1960))-s,10<s){e.timeoutHandle=ko(Tn.bind(null,e,rt,Mt),s);break}Tn(e,rt,Mt);break;case 5:Tn(e,rt,Mt);break;default:throw Error(i(329))}}}return it(e,Oe()),e.callbackNode===n?zc.bind(null,e):null}function ml(e,t){var n=ii;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=vs(e,t),e!==2&&(t=rt,rt=n,t!==null&&vl(t)),e}function vl(e){rt===null?rt=e:rt.push.apply(rt,e)}function Wh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],c=l.getSnapshot;l=l.value;try{if(!yt(c(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~fl,t&=~ds,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),s=1<<n;e[n]=-1,t&=~s}}function Uc(e){if((pe&6)!==0)throw Error(i(327));sr();var t=ji(e,0);if((t&1)===0)return it(e,Oe()),null;var n=vs(e,t);if(e.tag!==0&&n===2){var s=Js(e);s!==0&&(t=s,n=ml(e,s))}if(n===1)throw n=ri,Cn(e,0),an(e,t),it(e,Oe()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tn(e,rt,Mt),it(e,Oe()),null}function yl(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(ir=Oe()+500,Hi&&en())}}function jn(e){on!==null&&on.tag===0&&(pe&6)===0&&sr();var t=pe;pe|=1;var n=gt.transition,s=me;try{if(gt.transition=null,me=1,e)return e()}finally{me=s,gt.transition=n,pe=t,(pe&6)===0&&en()}}function wl(){ct=rr.current,xe(rr)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wh(n)),Ne!==null)for(n=Ne.return;n!==null;){var s=n;switch(Po(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Bi();break;case 3:er(),xe(et),xe(qe),Fo();break;case 5:Uo(s);break;case 4:er();break;case 13:xe(Ce);break;case 19:xe(Ce);break;case 10:No(s.type._context);break;case 22:case 23:wl()}n=n.return}if(Me=e,Ne=e=un(e.current,null),Ve=ct=t,$e=0,ri=null,fl=ds=En=0,rt=ii=null,Sn!==null){for(t=0;t<Sn.length;t++)if(n=Sn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,c=n.pending;if(c!==null){var h=c.next;c.next=l,s.next=h}n.pending=s}Sn=null}return e}function Mc(e,t){do{var n=Ne;try{if(Ro(),es.current=is,ts){for(var s=Te.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ts=!1}if(xn=0,Ue=Le=Te=null,Yr=!1,Xr=0,dl.current=null,n===null||n.return===null){$e=1,ri=t,Ne=null;break}e:{var c=e,h=n.return,y=n,S=t;if(t=Ve,y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var T=S,D=y,z=D.tag;if((D.mode&1)===0&&(z===0||z===11||z===15)){var $=D.alternate;$?(D.updateQueue=$.updateQueue,D.memoizedState=$.memoizedState,D.lanes=$.lanes):(D.updateQueue=null,D.memoizedState=null)}var V=dc(h);if(V!==null){V.flags&=-257,fc(V,h,y,c,t),V.mode&1&&cc(c,T,t),t=V,S=T;var J=t.updateQueue;if(J===null){var G=new Set;G.add(S),t.updateQueue=G}else J.add(S);break e}else{if((t&1)===0){cc(c,T,t),_l();break e}S=Error(i(426))}}else if(Ee&&y.mode&1){var be=dc(h);if(be!==null){(be.flags&65536)===0&&(be.flags|=256),fc(be,h,y,c,t),Io(tr(S,y));break e}}c=S=tr(S,y),$e!==4&&($e=2),ii===null?ii=[c]:ii.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var j=ac(c,S,t);Lu(c,j);break e;case 1:y=S;var x=c.type,C=c.stateNode;if((c.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(sn===null||!sn.has(C)))){c.flags|=65536,t&=-t,c.lanes|=t;var F=uc(c,y,t);Lu(c,F);break e}}c=c.return}while(c!==null)}Wc(n)}catch(Q){t=Q,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function Fc(){var e=cs.current;return cs.current=is,e===null?is:e}function _l(){($e===0||$e===3||$e===2)&&($e=4),Me===null||(En&268435455)===0&&(ds&268435455)===0||an(Me,Ve)}function vs(e,t){var n=pe;pe|=2;var s=Fc();(Me!==e||Ve!==t)&&(Mt=null,Cn(e,t));do try{Hh();break}catch(l){Mc(e,l)}while(!0);if(Ro(),pe=n,cs.current=s,Ne!==null)throw Error(i(261));return Me=null,Ve=0,$e}function Hh(){for(;Ne!==null;)Bc(Ne)}function Vh(){for(;Ne!==null&&!mf();)Bc(Ne)}function Bc(e){var t=qc(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?Wc(e):Ne=t,dl.current=null}function Wc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Dh(n,t,ct),n!==null){Ne=n;return}}else{if(n=zh(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Ne=null;return}}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);$e===0&&($e=5)}function Tn(e,t,n){var s=me,l=gt.transition;try{gt.transition=null,me=1,qh(e,t,n,s)}finally{gt.transition=l,me=s}return null}function qh(e,t,n,s){do sr();while(on!==null);if((pe&6)!==0)throw Error(i(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(Cf(e,c),e===Me&&(Ne=Me=null,Ve=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||hs||(hs=!0,Kc(Si,function(){return sr(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=gt.transition,gt.transition=null;var h=me;me=1;var y=pe;pe|=4,dl.current=null,Mh(e,n),Rc(n,e),fh(_o),Pi=!!wo,_o=wo=null,e.current=n,Fh(n),vf(),pe=y,me=h,gt.transition=c}else e.current=n;if(hs&&(hs=!1,on=e,ps=l),c=e.pendingLanes,c===0&&(sn=null),_f(n.stateNode),it(e,Oe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(fs)throw fs=!1,e=pl,pl=null,e;return(ps&1)!==0&&e.tag!==0&&sr(),c=e.pendingLanes,(c&1)!==0?e===gl?si++:(si=0,gl=e):si=0,en(),null}function sr(){if(on!==null){var e=Ia(ps),t=gt.transition,n=me;try{if(gt.transition=null,me=16>e?16:e,on===null)var s=!1;else{if(e=on,on=null,ps=0,(pe&6)!==0)throw Error(i(331));var l=pe;for(pe|=4,q=e.current;q!==null;){var c=q,h=c.child;if((q.flags&16)!==0){var y=c.deletions;if(y!==null){for(var S=0;S<y.length;S++){var T=y[S];for(q=T;q!==null;){var D=q;switch(D.tag){case 0:case 11:case 15:ni(8,D,c)}var z=D.child;if(z!==null)z.return=D,q=z;else for(;q!==null;){D=q;var $=D.sibling,V=D.return;if(Pc(D),D===T){q=null;break}if($!==null){$.return=V,q=$;break}q=V}}}var J=c.alternate;if(J!==null){var G=J.child;if(G!==null){J.child=null;do{var be=G.sibling;G.sibling=null,G=be}while(G!==null)}}q=c}}if((c.subtreeFlags&2064)!==0&&h!==null)h.return=c,q=h;else e:for(;q!==null;){if(c=q,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:ni(9,c,c.return)}var j=c.sibling;if(j!==null){j.return=c.return,q=j;break e}q=c.return}}var x=e.current;for(q=x;q!==null;){h=q;var C=h.child;if((h.subtreeFlags&2064)!==0&&C!==null)C.return=h,q=C;else e:for(h=x;q!==null;){if(y=q,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:us(9,y)}}catch(Q){Pe(y,y.return,Q)}if(y===h){q=null;break e}var F=y.sibling;if(F!==null){F.return=y.return,q=F;break e}q=y.return}}if(pe=l,en(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(ki,e)}catch{}s=!0}return s}finally{me=n,gt.transition=t}}return!1}function Hc(e,t,n){t=tr(n,t),t=ac(e,t,1),e=nn(e,t,1),t=Ye(),e!==null&&(Or(e,1,t),it(e,t))}function Pe(e,t,n){if(e.tag===3)Hc(e,e,n);else for(;t!==null;){if(t.tag===3){Hc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(sn===null||!sn.has(s))){e=tr(n,e),e=uc(t,e,1),t=nn(t,e,1),e=Ye(),t!==null&&(Or(t,1,e),it(t,e));break}}t=t.return}}function Kh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Ve&n)===n&&($e===4||$e===3&&(Ve&130023424)===Ve&&500>Oe()-hl?Cn(e,0):fl|=n),it(e,t)}function Vc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ei,Ei<<=1,(Ei&130023424)===0&&(Ei=4194304)));var n=Ye();e=Dt(e,t),e!==null&&(Or(e,t,n),it(e,n))}function Jh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vc(e,n)}function Gh(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Vc(e,n)}var qc;qc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)nt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return nt=!1,$h(e,t,n);nt=(e.flags&131072)!==0}else nt=!1,Ee&&(t.flags&1048576)!==0&&ju(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ls(e,t),e=t.pendingProps;var l=Kn(t,qe.current);Zn(t,n),l=Ho(null,t,s,e,l,n);var c=Vo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(s)?(c=!0,Wi(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Do(t),l.updater=ss,t.stateNode=l,l._reactInternals=t,Yo(t,s,e,n),t=tl(null,t,s,!0,c,n)):(t.tag=0,Ee&&c&&To(t),Qe(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(ls(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Yh(s),e=_t(s,e),l){case 0:t=el(null,t,s,e,n);break e;case 1:t=yc(null,t,s,e,n);break e;case 11:t=hc(null,t,s,e,n);break e;case 14:t=pc(null,t,s,_t(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:_t(s,l),el(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:_t(s,l),yc(e,t,s,l,n);case 3:e:{if(wc(t),e===null)throw Error(i(387));s=t.pendingProps,c=t.memoizedState,l=c.element,Nu(e,t),Xi(t,s,null,n);var h=t.memoizedState;if(s=h.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=tr(Error(i(423)),t),t=_c(e,t,s,n,l);break e}else if(s!==l){l=tr(Error(i(424)),t),t=_c(e,t,s,n,l);break e}else for(ut=Yt(t.stateNode.containerInfo.firstChild),at=t,Ee=!0,wt=null,n=Au(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qn(),s===l){t=Ut(e,t,n);break e}Qe(e,t,s,n)}t=t.child}return t;case 5:return Du(t),e===null&&bo(t),s=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,h=l.children,So(s,l)?h=null:c!==null&&So(s,c)&&(t.flags|=32),vc(e,t),Qe(e,t,h,n),t.child;case 6:return e===null&&bo(t),null;case 13:return Sc(e,t,n);case 4:return zo(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Yn(t,null,s,n):Qe(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:_t(s,l),hc(e,t,s,l,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,c=t.memoizedProps,h=l.value,_e(Gi,s._currentValue),s._currentValue=h,c!==null)if(yt(c.value,h)){if(c.children===l.children&&!et.current){t=Ut(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var y=c.dependencies;if(y!==null){h=c.child;for(var S=y.firstContext;S!==null;){if(S.context===s){if(c.tag===1){S=zt(-1,n&-n),S.tag=2;var T=c.updateQueue;if(T!==null){T=T.shared;var D=T.pending;D===null?S.next=S:(S.next=D.next,D.next=S),T.pending=S}}c.lanes|=n,S=c.alternate,S!==null&&(S.lanes|=n),Lo(c.return,n,t),y.lanes|=n;break}S=S.next}}else if(c.tag===10)h=c.type===t.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(i(341));h.lanes|=n,y=h.alternate,y!==null&&(y.lanes|=n),Lo(h,n,t),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}Qe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Zn(t,n),l=ht(l),s=s(l),t.flags|=1,Qe(e,t,s,n),t.child;case 14:return s=t.type,l=_t(s,t.pendingProps),l=_t(s.type,l),pc(e,t,s,l,n);case 15:return gc(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:_t(s,l),ls(e,t),t.tag=1,tt(s)?(e=!0,Wi(t)):e=!1,Zn(t,n),oc(t,s,l),Yo(t,s,l,n),tl(null,t,s,!0,e,n);case 19:return xc(e,t,n);case 22:return mc(e,t,n)}throw Error(i(156,t.tag))};function Kc(e,t){return Ca(e,t)}function Qh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,s){return new Qh(e,t,n,s)}function Sl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yh(e){if(typeof e=="function")return Sl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ve)return 11;if(e===je)return 14}return 2}function un(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ys(e,t,n,s,l,c){var h=2;if(s=e,typeof e=="function")Sl(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case re:return Pn(n.children,l,c,t);case he:h=8,l|=8;break;case Ie:return e=mt(12,n,t,l|2),e.elementType=Ie,e.lanes=c,e;case Ae:return e=mt(13,n,t,l),e.elementType=Ae,e.lanes=c,e;case Re:return e=mt(19,n,t,l),e.elementType=Re,e.lanes=c,e;case A:return ws(n,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ye:h=10;break e;case ot:h=9;break e;case ve:h=11;break e;case je:h=14;break e;case we:h=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=mt(h,n,t,l),t.elementType=e,t.type=s,t.lanes=c,t}function Pn(e,t,n,s){return e=mt(7,e,s,t),e.lanes=n,e}function ws(e,t,n,s){return e=mt(22,e,s,t),e.elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function kl(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function xl(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xh(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gs(0),this.expirationTimes=Gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function El(e,t,n,s,l,c,h,y,S){return e=new Xh(e,t,n,y,S),t===1?(t=1,c===!0&&(t|=8)):t=0,c=mt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(c),e}function Zh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Jc(e){if(!e)return Zt;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(tt(n))return ku(e,n,t)}return t}function Gc(e,t,n,s,l,c,h,y,S){return e=El(n,s,!0,e,l,c,h,y,S),e.context=Jc(null),n=e.current,s=Ye(),l=ln(n),c=zt(s,l),c.callback=t??null,nn(n,c,l),e.current.lanes=l,Or(e,l,s),it(e,s),e}function _s(e,t,n,s){var l=t.current,c=Ye(),h=ln(l);return n=Jc(n),t.context===null?t.context=n:t.pendingContext=n,t=zt(c,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=nn(l,t,h),e!==null&&(xt(e,l,h,c),Yi(e,l,h)),h}function Ss(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jl(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}function ep(){return null}var Yc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cl(e){this._internalRoot=e}ks.prototype.render=Cl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));_s(e,t,null,null)},ks.prototype.unmount=Cl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jn(function(){_s(null,e,null,null)}),t[Rt]=null}};function ks(e){this._internalRoot=e}ks.prototype.unstable_scheduleHydration=function(e){if(e){var t=Na();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&t!==0&&t<Jt[n].priority;n++);Jt.splice(n,0,e),n===0&&Da(e)}};function Tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xc(){}function tp(e,t,n,s,l){if(l){if(typeof s=="function"){var c=s;s=function(){var T=Ss(h);c.call(T)}}var h=Gc(t,s,e,0,null,!1,!1,"",Xc);return e._reactRootContainer=h,e[Rt]=h.current,Wr(e.nodeType===8?e.parentNode:e),jn(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var y=s;s=function(){var T=Ss(S);y.call(T)}}var S=El(e,0,!1,null,null,!1,!1,"",Xc);return e._reactRootContainer=S,e[Rt]=S.current,Wr(e.nodeType===8?e.parentNode:e),jn(function(){_s(t,S,n,s)}),S}function Es(e,t,n,s,l){var c=n._reactRootContainer;if(c){var h=c;if(typeof l=="function"){var y=l;l=function(){var S=Ss(h);y.call(S)}}_s(t,h,e,l)}else h=tp(n,t,e,l,s);return Ss(h)}Aa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pr(t.pendingLanes);n!==0&&(Qs(t,n|1),it(t,Oe()),(pe&6)===0&&(ir=Oe()+500,en()))}break;case 13:jn(function(){var s=Dt(e,1);if(s!==null){var l=Ye();xt(s,e,1,l)}}),jl(e,1)}},Ys=function(e){if(e.tag===13){var t=Dt(e,134217728);if(t!==null){var n=Ye();xt(t,e,134217728,n)}jl(e,134217728)}},Ra=function(e){if(e.tag===13){var t=ln(e),n=Dt(e,t);if(n!==null){var s=Ye();xt(n,e,t,s)}jl(e,t)}},Na=function(){return me},La=function(e,t){var n=me;try{return me=e,t()}finally{me=n}},Ws=function(e,t,n){switch(t){case"input":if(gn(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Fi(s);if(!l)throw Error(i(90));Nn(s),gn(s,l)}}}break;case"textarea":ca(e,n);break;case"select":t=n.value,t!=null&&Ln(e,!!n.multiple,t,!1)}},wa=yl,_a=jn;var np={usingClientEntryPoint:!1,Events:[qr,Vn,Fi,va,ya,yl]},oi={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rp={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ea(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||ep,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{ki=js.inject(rp),Ct=js}catch{}}return st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=np,st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tl(t))throw Error(i(200));return Zh(e,t,null,n)},st.createRoot=function(e,t){if(!Tl(e))throw Error(i(299));var n=!1,s="",l=Yc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=El(e,1,!1,null,null,n,!1,s,l),e[Rt]=t.current,Wr(e.nodeType===8?e.parentNode:e),new Cl(t)},st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Ea(t),e=e===null?null:e.stateNode,e},st.flushSync=function(e){return jn(e)},st.hydrate=function(e,t,n){if(!xs(t))throw Error(i(200));return Es(null,e,t,!0,n)},st.hydrateRoot=function(e,t,n){if(!Tl(e))throw Error(i(405));var s=n!=null&&n.hydratedSources||null,l=!1,c="",h=Yc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=Gc(t,null,e,1,n??null,l,!1,c,h),e[Rt]=t.current,Wr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ks(t)},st.render=function(e,t,n){if(!xs(t))throw Error(i(200));return Es(null,e,t,!1,n)},st.unmountComponentAtNode=function(e){if(!xs(e))throw Error(i(40));return e._reactRootContainer?(jn(function(){Es(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1},st.unstable_batchedUpdates=yl,st.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!xs(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Es(e,t,n,!1,s)},st.version="18.3.1-next-f1338f8080-20240426",st}var od;function fp(){if(od)return bl.exports;od=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),bl.exports=dp(),bl.exports}var ld;function hp(){if(ld)return Cs;ld=1;var u=fp();return Cs.createRoot=u.createRoot,Cs.hydrateRoot=u.hydrateRoot,Cs}var pp=hp();function ai(u,r=20){const i=(u||"").toLowerCase();return i.includes("banana")?gp({size:r}):i.includes("almond")||i.includes("nut")?mp({size:r}):i.includes("salmon")||i.includes("fish")?vp({size:r}):i.includes("quinoa")||i.includes("grain")||i.includes("rice")?yp({size:r}):i.includes("smoothie")||i.includes("berry")?wp({size:r}):i.includes("apple")||i.includes("pear")?_p({size:r}):i.includes("avocado")?Sp({size:r}):i.includes("lemon")||i.includes("lime")?kp({size:r}):xp({size:r})}function Wt({children:u,size:r}){return w.jsx("svg",{width:r,height:r,viewBox:"0 0 24 24","aria-hidden":"true",style:{display:"inline-block",verticalAlign:"middle"},children:u})}function gp({size:u=20}){return w.jsxs(Wt,{size:u,children:[w.jsx("path",{d:"M2 12c4-6 10-6 18-4",fill:"none",stroke:"#FFD66B",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M3 13c2 2 5 3 8 3 3 0 6-1 9-3",fill:"#FFE7A6",stroke:"#F5C041",strokeWidth:"0.3"})]})}function mp({size:u=20}){return w.jsx(Wt,{size:u,children:w.jsx("ellipse",{cx:"12",cy:"12",rx:"8",ry:"5",fill:"#F5D3B3",stroke:"#D6A985",strokeWidth:"0.6"})})}function vp({size:u=20}){return w.jsxs(Wt,{size:u,children:[w.jsx("path",{d:"M2 12s4-6 10-6 10 6 10 6-4 6-10 6S2 12 2 12z",fill:"#F4A1A1"}),w.jsx("circle",{cx:"8",cy:"10",r:"1",fill:"#fff"})]})}function yp({size:u=20}){return w.jsx(Wt,{size:u,children:w.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"3",fill:"#F2E6B6",stroke:"#D6C089"})})}function wp({size:u=20}){return w.jsxs(Wt,{size:u,children:[w.jsx("circle",{cx:"9",cy:"12",r:"3",fill:"#FF6B81"}),w.jsx("circle",{cx:"14",cy:"11",r:"2.5",fill:"#7CC6FF"})]})}function _p({size:u=20}){return w.jsxs(Wt,{size:u,children:[w.jsx("path",{d:"M12 5c2 0 3 1 4 2 1 1 1 3 0 5s-3 3-4 3-3-1-4-3-1-4 0-5c1-1 2-2 4-2z",fill:"#FF6B6B"}),w.jsx("path",{d:"M13 4c0 .8-.8 1.6-1 2",stroke:"#2C6B2C",strokeWidth:"0.6",fill:"none"})]})}function Sp({size:u=20}){return w.jsxs(Wt,{size:u,children:[w.jsx("path",{d:"M12 4c3 0 6 4 6 8s-3 8-6 8-6-4-6-8 3-8 6-8z",fill:"#7BD389"}),w.jsx("circle",{cx:"12",cy:"14",r:"2",fill:"#5B3E1B"})]})}function kp({size:u=20}){return w.jsx(Wt,{size:u,children:w.jsx("ellipse",{cx:"12",cy:"12",rx:"6",ry:"4",fill:"#FFD166",stroke:"#E2B600"})})}function xp({size:u=20}){return w.jsx(Wt,{size:u,children:w.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#FFD66B"})})}const Ep={},ad=u=>{let r;const i=new Set,o=(v,k)=>{const E=typeof v=="function"?v(r):v;if(!Object.is(E,r)){const O=r;r=k??(typeof E!="object"||E===null)?E:Object.assign({},r,E),i.forEach(I=>I(r,O))}},a=()=>r,g={setState:o,getState:a,getInitialState:()=>m,subscribe:v=>(i.add(v),()=>i.delete(v)),destroy:()=>{(Ep?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=r=u(o,a,g);return g},jp=u=>u?ad(u):ad;var Rl={exports:{}},Nl={},Ll={exports:{}},$l={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud;function Cp(){if(ud)return $l;ud=1;var u=gi();function r(k,E){return k===E&&(k!==0||1/k===1/E)||k!==k&&E!==E}var i=typeof Object.is=="function"?Object.is:r,o=u.useState,a=u.useEffect,d=u.useLayoutEffect,f=u.useDebugValue;function p(k,E){var O=E(),I=o({inst:{value:O,getSnapshot:E}}),R=I[0].inst,N=I[1];return d(function(){R.value=O,R.getSnapshot=E,g(R)&&N({inst:R})},[k,O,E]),a(function(){return g(R)&&N({inst:R}),k(function(){g(R)&&N({inst:R})})},[k]),f(O),O}function g(k){var E=k.getSnapshot;k=k.value;try{var O=E();return!i(k,O)}catch{return!0}}function m(k,E){return E()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:p;return $l.useSyncExternalStore=u.useSyncExternalStore!==void 0?u.useSyncExternalStore:v,$l}var cd;function Tp(){return cd||(cd=1,Ll.exports=Cp()),Ll.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd;function Pp(){if(dd)return Nl;dd=1;var u=gi(),r=Tp();function i(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var o=typeof Object.is=="function"?Object.is:i,a=r.useSyncExternalStore,d=u.useRef,f=u.useEffect,p=u.useMemo,g=u.useDebugValue;return Nl.useSyncExternalStoreWithSelector=function(m,v,k,E,O){var I=d(null);if(I.current===null){var R={hasValue:!1,value:null};I.current=R}else R=I.current;I=p(function(){function Z(H){if(!Y){if(Y=!0,B=H,H=E(H),O!==void 0&&R.hasValue){var re=R.value;if(O(re,H))return W=re}return W=H}if(re=W,o(B,H))return re;var he=E(H);return O!==void 0&&O(re,he)?(B=H,re):(B=H,W=he)}var Y=!1,B,W,ae=k===void 0?null:k;return[function(){return Z(v())},ae===null?void 0:function(){return Z(ae())}]},[v,k,E,O]);var N=a(m,I[0],I[1]);return f(function(){R.hasValue=!0,R.value=N},[N]),g(N),N},Nl}var fd;function Op(){return fd||(fd=1,Rl.exports=Pp()),Rl.exports}var bp=Op();const Ip=na(bp),ra={},{useDebugValue:Ap}=Bd,{useSyncExternalStoreWithSelector:Rp}=Ip;let hd=!1;const Np=u=>u;function Lp(u,r=Np,i){(ra?"production":void 0)!=="production"&&i&&!hd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),hd=!0);const o=Rp(u.subscribe,u.getState,u.getServerState||u.getInitialState,r,i);return Ap(o),o}const pd=u=>{(ra?"production":void 0)!=="production"&&typeof u!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof u=="function"?jp(u):u,i=(o,a)=>Lp(r,o,a);return Object.assign(i,r),i},$p=u=>u?pd(u):pd;var Dp=u=>((ra?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),$p(u));const gd=Dp(u=>({profile:{conditions:[],allergies:[],custom:[]},setProfile:r=>u({profile:r})})),Wd="nutrinformation_profile";function zp(u){try{localStorage.setItem(Wd,JSON.stringify(u))}catch{}}function Up(){try{const u=localStorage.getItem(Wd);return u?JSON.parse(u):null}catch{return null}}const Mp="modulepreload",Fp=function(u,r){return new URL(u,r).href},md={},wr=function(r,i,o){let a=Promise.resolve();if(i&&i.length>0){let m=function(v){return Promise.all(v.map(k=>Promise.resolve(k).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};const f=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");a=m(i.map(v=>{if(v=Fp(v,o),v in md)return;md[v]=!0;const k=v.endsWith(".css"),E=k?'[rel="stylesheet"]':"";if(o)for(let I=f.length-1;I>=0;I--){const R=f[I];if(R.href===v&&(!k||R.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${E}`))return;const O=document.createElement("link");if(O.rel=k?"stylesheet":Mp,k||(O.as="script"),O.crossOrigin="",O.href=v,g&&O.setAttribute("nonce",g),document.head.appendChild(O),k)return new Promise((I,R)=>{O.addEventListener("load",I),O.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function d(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return a.then(f=>{for(const p of f||[])p.status==="rejected"&&d(p.reason);return r().catch(d)})};async function vd(u,r,i){const o=localStorage.getItem("provider")||"openai";if(o==="usda"){const{classifyWithUSDA:O}=await wr(async()=>{const{classifyWithUSDA:I}=await import("./usda-Divwdd6Y.js");return{classifyWithUSDA:I}},[],import.meta.url);return O(u)}const a=[{role:"system",content:i||"You are a nutrition assistant."},{role:"user",content:`Profile: ${JSON.stringify(r)}
Question: ${u}`}];if(o==="azure"){const O=Number(localStorage.getItem("max_tokens"))||300,I=localStorage.getItem("azure_endpoint"),R=localStorage.getItem("azure_key"),N=localStorage.getItem("azure_deployment"),Z=localStorage.getItem("azure_chat_api_version")||"2023-10-01-preview",Y=localStorage.getItem("azure_responses_api_version")||"2025-04-01-preview";if(!I||!R)throw new Error("Azure OpenAI endpoint or key not set. Please set them in Settings.");if(I.includes("/responses")){const ve=I.replace(/[?&]$/,""),Re=/[?&]api-version=/.test(ve)?ve:ve+(ve.includes("?")?"&":"?")+"api-version="+encodeURIComponent(Y);console.log("[openai] Azure Responses request ->",Re);const je=(localStorage.getItem("azure_deployment")||localStorage.getItem("openai_model")||"").trim();if(!je)throw new Error('Azure Responses requires a model (deployment) name. Please set "Deployment / Model name" in Settings (e.g., your Azure deployment "gpt-5-mini").');const we=await fetch(Re,{method:"POST",headers:{"Content-Type":"application/json","api-key":R},body:JSON.stringify({model:je,input:`${JSON.stringify(r)}
Question: ${u}`,max_output_tokens:O})}),A=await we.text();if(!we.ok)throw console.error("[openai] Azure Responses error",we.status,A),new Error(JSON.stringify({status:we.status,body:A,hint:"Check that your Responses endpoint is correct, the api-version is supported, and the resource exists in the specified region."}));let b;try{b=JSON.parse(A)}catch{b=A}return b?.output?.[0]?.content||JSON.stringify(b)}const B=N&&N.trim()||(localStorage.getItem("openai_model")||"").trim();if(!B)throw new Error("Azure deployment not set. Please set it in Settings (or select a Model which will be used as the deployment name).");let W;try{W=new URL(I).origin}catch{W=I.replace(/\/$/,""),W=W.replace(/\/?openai\/?$/i,"")}const ae=W.replace(/\/$/,"")+`/openai/deployments/${encodeURIComponent(B)}/chat/completions?api-version=${encodeURIComponent(Z)}`;console.log("[openai] Azure chat request ->",ae);const H=await fetch(ae,{method:"POST",headers:{"Content-Type":"application/json","api-key":R},body:JSON.stringify({messages:a,max_completion_tokens:O})}),re=await H.text();if(!H.ok)throw console.error("[openai] Azure chat error",H.status,re),new Error(JSON.stringify({status:H.status,body:re,hint:"Check deployment name, endpoint host, api-key, and api-version. 404 usually means the deployment or path is incorrect."}));let he;try{he=JSON.parse(re)}catch{he=re}const Ie=he?.choices?.[0];let ye=Ie?.message?.content||"";const ot=Ie?.finish_reason;return(!ye||ye==="")&&ot==="length"&&(ye=(ye||"")+`

[Response truncated by model (finish_reason=length). Consider increasing max tokens or shortening prompt. You can also click "Continue" to ask the assistant to finish the response.]`),ye||JSON.stringify(he)}if(o==="hf"){const O=localStorage.getItem("hf_api_key"),I=localStorage.getItem("hf_model");if(!O||!I)throw new Error("Hugging Face API key or model not set. Please set them in Settings.");const R=`https://api-inference.huggingface.co/models/${encodeURIComponent(I)}`;try{const N=await fetch(R,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify({inputs:u,parameters:{max_new_tokens:Number(localStorage.getItem("max_tokens")||150)}})}),Z=await N.text();if(!N.ok)try{const Y=JSON.parse(Z);throw new Error(JSON.stringify(Y))}catch{throw new Error(Z)}try{const Y=JSON.parse(Z);return Array.isArray(Y)&&Y[0]?.generated_text?Y[0].generated_text:Y?.generated_text?Y.generated_text:Y?.text?Y.text:JSON.stringify(Y)}catch{return Z}}catch(N){throw N}}const d=localStorage.getItem("openai_api_key");if(!d){if(localStorage.getItem("demo_mode")==="true")return"Demo mode: OpenAI/Azure key not set. This is a demo response. Paste your key in Settings for live results.";throw new Error("API key not set. Please set your OpenAI or Azure key in Settings to use the assistant.")}const f=Number(localStorage.getItem("max_tokens"))||300,p=localStorage.getItem("openai_model")||"gpt-4o-mini",g=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({model:p,messages:a,max_tokens:f})});if(!g.ok){const O=await g.text();try{const R=JSON.parse(O)?.error;if(R&&R.code==="insufficient_quota"){try{const N=await fetch("/api/hf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:u})});if(N.ok){const Z=await N.json();return Z.text||JSON.stringify(Z)}}catch{}if(localStorage.getItem("demo_mode")==="true")return"Demo mode: the configured OpenAI account has exceeded its quota. This is a demo response. To use the live assistant, check your OpenAI billing or paste your own API key in Settings.";throw new Error("OpenAI quota exceeded (insufficient_quota). Please check your OpenAI plan/billing or paste a personal API key in Settings to continue.")}}catch{}throw new Error(O)}const m=await g.json(),v=m?.choices?.[0];let k=v?.message?.content||"";const E=v?.finish_reason;return(!k||k==="")&&E==="length"&&(k=(k||"")+`

[Response truncated by model (finish_reason=length). Consider increasing max tokens or shortening prompt. You can also click "Continue" to ask the assistant to finish the response.]`),k||JSON.stringify(m)}function Bp(){const[u,r]=se.useState(localStorage.getItem("openai_api_key")||""),[i,o]=se.useState(localStorage.getItem("provider")||"azure"),[a,d]=se.useState(localStorage.getItem("azure_endpoint")||""),[f,p]=se.useState(localStorage.getItem("azure_key")||""),[g,m]=se.useState(localStorage.getItem("azure_deployment")||""),[v,k]=se.useState(localStorage.getItem("azure_chat_api_version")||"2023-10-01-preview"),[E,O]=se.useState(localStorage.getItem("azure_responses_api_version")||"2025-04-01-preview"),[I,R]=se.useState(Number(localStorage.getItem("max_tokens"))||32768),[N,Z]=se.useState(localStorage.getItem("auto_continue")==="true"),[Y,B]=se.useState(Number(localStorage.getItem("auto_continue_count"))||2),[W,ae]=se.useState(localStorage.getItem("openai_model")||"gpt-5-mini"),[H,re]=se.useState(localStorage.getItem("usda_api_key")||""),[he,Ie]=se.useState(null),[ye,ot]=se.useState(localStorage.getItem("hf_api_key")||""),[ve,Ae]=se.useState(localStorage.getItem("hf_model")||""),[Re,je]=se.useState(null),[we,A]=se.useState(localStorage.getItem("enable_startup_suggestions")!=="false"),[b,M]=se.useState(()=>{try{return JSON.parse(localStorage.getItem("startup_quick_topics")||"null")||["almond milk","salmon","banana smoothie","quinoa salad"]}catch{return["almond milk","salmon","banana smoothie","quinoa salad"]}}),[L,_]=se.useState("");se.useEffect(()=>{console.log("Settings component mounted, current key length:",(u||"").length)},[]),se.useEffect(()=>{try{localStorage.setItem("provider",i),localStorage.setItem("max_tokens",String(I)),localStorage.setItem("openai_model",W),localStorage.setItem("auto_continue",N?"true":"false"),localStorage.setItem("auto_continue_count",String(Y)),localStorage.setItem("enable_startup_suggestions",we?"true":"false"),localStorage.setItem("startup_quick_topics",JSON.stringify(b)),i==="openai"?u.trim()&&localStorage.setItem("openai_api_key",u.trim()):i==="azure"&&(a.trim()&&localStorage.setItem("azure_endpoint",a.trim()),f.trim()&&localStorage.setItem("azure_key",f.trim()),g.trim()&&localStorage.setItem("azure_deployment",g.trim()),v.trim()&&localStorage.setItem("azure_chat_api_version",v.trim()),E.trim()&&localStorage.setItem("azure_responses_api_version",E.trim()),!g.trim()&&W.trim()&&localStorage.setItem("azure_deployment",W.trim())),H.trim()&&localStorage.setItem("usda_api_key",H.trim()),ye.trim()&&localStorage.setItem("hf_api_key",ye.trim()),ve.trim()&&localStorage.setItem("hf_model",ve.trim())}catch{}},[i,I,W,N,Y,we,b,u,a,f,g,v,E,H,ye,ve]);function P(){i==="openai"?localStorage.setItem("openai_api_key",u.trim()):i==="azure"&&(localStorage.setItem("azure_endpoint",a.trim()),localStorage.setItem("azure_key",f.trim()),localStorage.setItem("azure_deployment",g.trim()),localStorage.setItem("azure_chat_api_version",v.trim()),localStorage.setItem("azure_responses_api_version",E.trim()),!g.trim()&&W.trim()&&localStorage.setItem("azure_deployment",W.trim())),H.trim()&&localStorage.setItem("usda_api_key",H.trim()),ye.trim()&&localStorage.setItem("hf_api_key",ye.trim()),ve.trim()&&localStorage.setItem("hf_model",ve.trim()),localStorage.setItem("provider",i),localStorage.setItem("max_tokens",String(I)),localStorage.setItem("openai_model",W),localStorage.setItem("auto_continue",N?"true":"false"),localStorage.setItem("auto_continue_count",String(Y)),localStorage.setItem("enable_startup_suggestions",we?"true":"false"),localStorage.setItem("startup_quick_topics",JSON.stringify(b)),alert("Saved settings locally.")}async function K(){Ie(null);try{const U=await fetch(`https://api.nal.usda.gov/fdc/v1/foods/search?api_key=${encodeURIComponent(H)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({generalSearchInput:"apple",pageSize:1})});if(!U.ok){Ie(!1);return}const ce=await U.json();ce&&ce.foods&&ce.foods.length>0?Ie(!0):Ie(!1)}catch{Ie(!1)}}async function oe(){je(null);try{if(!ye||!ve){je(!1);return}const U=`https://api-inference.huggingface.co/models/${encodeURIComponent(ve)}`;if(!(await fetch(U,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ye}`},body:JSON.stringify({inputs:"Hello",parameters:{max_new_tokens:1}})})).ok){je(!1);return}je(!0)}catch{je(!1)}}function ee(){localStorage.removeItem("openai_api_key"),r(""),alert("Cleared API key")}return w.jsxs("div",{className:"settings",style:{background:"linear-gradient(180deg,#fff,#fffefc)",padding:12,borderRadius:10},children:[w.jsx("div",{className:"debug-banner",style:{background:"linear-gradient(90deg,var(--accent-2),var(--accent-4))",padding:8,borderRadius:6,marginBottom:8,color:"#111"},children:"Settings"}),w.jsxs("div",{style:{marginBottom:8},children:[w.jsx("label",{style:{display:"block",fontWeight:600},children:"Provider"}),w.jsxs("select",{value:i,onChange:U=>o(U.target.value),"aria-label":"Select AI provider",children:[w.jsx("option",{value:"openai",children:"OpenAI (api.openai.com)"}),w.jsx("option",{value:"azure",children:"Azure OpenAI"})]})]}),w.jsx("h3",{children:"Settings"}),i==="openai"?w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"OpenAI API Key"}),w.jsx("input",{value:u,onChange:U=>r(U.target.value),placeholder:"sk-..."})]}):w.jsxs("div",{children:[w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Azure OpenAI Endpoint"}),w.jsx("input",{value:a,onChange:U=>d(U.target.value),placeholder:"https://your-resource.openai.azure.com/..."})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Azure Chat API Version"}),w.jsx("input",{value:v,onChange:U=>k(U.target.value),placeholder:"2023-10-01-preview"})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Azure Responses API Version"}),w.jsx("input",{value:E,onChange:U=>O(U.target.value),placeholder:"2025-04-01-preview"})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Azure API Key"}),w.jsx("input",{value:f,onChange:U=>p(U.target.value),placeholder:"Azure key"})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Deployment / Model name"}),w.jsx("input",{value:g,onChange:U=>m(U.target.value),placeholder:"deployment-name or model"})]}),w.jsxs("div",{className:"muted",children:["If your endpoint is a Responses API URL (contains ",w.jsx("code",{children:"/responses"}),"), paste the base URL (with or without ",w.jsx("code",{children:"?api-version=..."}),") and still set ",w.jsx("b",{children:"Deployment / Model name"})," to your Azure deployment (e.g., ",w.jsx("code",{children:"gpt-5-mini"}),"). For Chat Completions, use the base endpoint (e.g. ",w.jsx("code",{children:"https://<resource-name>.openai.azure.com"}),") and set the same deployment name."]})]}),w.jsxs("div",{style:{marginTop:12},children:[w.jsx("h4",{children:"USDA (FoodData Central) — Optional"}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"USDA API Key"}),w.jsx("input",{value:H,onChange:U=>{re(U.target.value),Ie(null)},placeholder:"USDA API key"})]}),w.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[w.jsx("button",{onClick:K,children:"Validate USDA key"}),he===!0?w.jsx("span",{style:{color:"green"},children:"Valid"}):he===!1?w.jsx("span",{style:{color:"crimson"},children:"Invalid"}):null]}),w.jsx("div",{className:"muted",children:"This is not required for the AI assistant. Only fill this if you want to use USDA data lookups for nutrition details."})]}),w.jsxs("div",{style:{marginTop:12},children:[w.jsx("h4",{children:"Hugging Face Inference"}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"HF API Key"}),w.jsx("input",{value:ye,onChange:U=>{ot(U.target.value),je(null)},placeholder:"HF API key (starts with hf_...)"})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"HF Model"}),w.jsx("input",{value:ve,onChange:U=>{Ae(U.target.value),je(null)},placeholder:"model name (e.g. google/flan-t5-large)"})]}),w.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[w.jsx("button",{onClick:oe,children:"Validate HF key & model"}),Re===!0?w.jsx("span",{style:{color:"green"},children:"Valid"}):Re===!1?w.jsx("span",{style:{color:"crimson"},children:"Invalid"}):null]})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Max completion tokens"}),w.jsx("input",{type:"number",value:I,onChange:U=>R(Number(U.target.value)),min:50,max:13e4}),w.jsx("div",{className:"muted",children:"Max completion tokens to request (Azure uses max_completion_tokens). Your account supports up to 130,000 tokens/minute; set per-request token limit here."})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Model (OpenAI / Azure deployment)"}),w.jsx("input",{list:"model-suggestions",value:W,onChange:U=>ae(U.target.value),placeholder:"e.g., gpt-5-mini"}),w.jsxs("datalist",{id:"model-suggestions",children:[w.jsx("option",{value:"gpt-5-mini"}),w.jsx("option",{value:"gpt-5-mini-3"}),w.jsx("option",{value:"gpt-4o-mini"}),w.jsx("option",{value:"gpt-4o"})]}),w.jsxs("div",{className:"muted",children:["Type the exact model or Azure ",w.jsx("b",{children:"deployment"})," name. For Azure, this value can double as the deployment name if the dedicated field is left blank."]})]}),w.jsxs("div",{className:"field",children:[w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",checked:we,onChange:U=>A(U.target.checked)})," Enable startup suggestions"]}),w.jsxs("div",{style:{marginTop:8},children:[w.jsx("label",{children:"Quick topics (click Add to append)"}),w.jsxs("div",{style:{display:"flex",gap:8,marginTop:6},children:[w.jsx("input",{value:L,onChange:U=>_(U.target.value),placeholder:"e.g., chia pudding"}),w.jsx("button",{onClick:()=>{L.trim()&&(M(U=>[...U,L.trim()]),_(""))},children:"Add"})]}),w.jsx("div",{style:{marginTop:8,display:"flex",flexWrap:"wrap",gap:8},children:b.map((U,ce)=>w.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6,background:"#fffef8",padding:"6px 8px",borderRadius:999},children:[w.jsx("span",{style:{fontSize:12},children:U}),w.jsx("button",{onClick:()=>M(X=>X.filter(de=>de!==U)),style:{background:"transparent",border:0,cursor:"pointer"},children:"✕"})]},ce))})]})]}),w.jsxs("div",{className:"field",children:[w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",checked:N,onChange:U=>Z(U.target.checked)})," Auto-continue when response is truncated"]}),w.jsxs("div",{style:{marginTop:8},children:[w.jsx("label",{children:"Auto-continue max times"}),w.jsx("input",{type:"number",value:Y,onChange:U=>B(Number(U.target.value)),min:1,max:10})]})]}),w.jsxs("div",{style:{display:"flex",gap:8},children:[w.jsx("button",{onClick:P,children:"Save settings"}),w.jsx("button",{onClick:ee,style:{background:"#eee"},children:"Clear"}),w.jsx("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("nutri:closeSettings"))},style:{background:"transparent",border:"1px solid rgba(0,0,0,0.06)"},children:"Back to home"})]}),w.jsx("p",{className:"muted",children:"The key is stored locally in your browser only. Do not paste sensitive keys into public machines."})]})}function yd(){const[u,r]=se.useState(""),i=se.useRef(null),[o,a]=se.useState([]),[d,f]=se.useState(!1),[p,g]=se.useState(!1),m=gd(A=>A.profile),v=gd(A=>A.setProfile),k="Response truncated by model (finish_reason=length)",E=se.useRef(null),[O,I]=se.useState(null),[R,N]=se.useState(null),[Z,Y]=se.useState(null),[B,W]=se.useState(null),ae=se.useRef(null);function H(){for(let A=o.length-1;A>=0;--A)if(o[A].from==="assistant")return o[A];return null}function re(){const A=H();return!!(A&&typeof A.text=="string"&&A.text.includes(k))}function he(A){if(!A)return null;const b=String(A),M=b.match(/\b(Beneficial|Avoid|Neutral)\b/i);if(M&&M[1]){const P=M[1].toLowerCase();if(P==="beneficial")return"beneficial";if(P==="avoid")return"avoid";if(P==="neutral")return"neutral"}const L=b.split(new RegExp("(?<=[.!?])\\s+")).slice(0,2);for(const P of L){const K=P.toLowerCase();if(/\b(avoid|do not|don't|not recommended|should not)\b/.test(K))return"avoid";if(/\b(beneficial|benefit|good for|recommended|healthy|suggests it is good)\b/.test(K))return"beneficial";if(/\bneutral\b/.test(K))return"neutral"}const _=b.toLowerCase();return/\b(avoid|do not|don't|not recommended|should not)\b/.test(_)?"avoid":/\b(beneficial|benefit|good for|recommended|healthy)\b/.test(_)?"beneficial":_.includes("neutral")?"neutral":null}async function Ie(A){const b=H();if(!b)return"";let M=(b.text||"").replace(k,"").trim(),L="";for(let _=0;_<A;_++){const P=M?`Continue the following assistant response without repeating the truncation hint. Previous assistant text:

${M}

Continue:`:"Please continue the previous answer.";try{const K=await vd(P,m,"You are a nutrition assistant. Continue the previous response.");if(!K||(L+=(L?`

`:"")+K,!K.includes(k)))break;M=M+`

`+K}catch(K){console.error("Continuation error",K);break}}return L}se.useEffect(()=>{const A=Up();A&&v(A)},[v]);async function ye(){try{const b=await fetch("https://en.wikipedia.org/api/rest_v1/page/summary/Healthy_diet");if(!b.ok)throw new Error("Wikipedia fetch failed");const M=await b.json();I(M)}catch(A){console.warn("Failed to load wiki summary",A),I({title:"Healthy diet",extract:"Learn about balanced nutrition on Wikipedia.",content_urls:{desktop:{page:"https://en.wikipedia.org/wiki/Healthy_diet"}}})}}async function ot(){try{try{const M=localStorage.getItem("server_base")||"",L=(M?M.replace(/\/$/,""):"")+"/daily-tip",_=await fetch(L);if(_.ok){const P=await _.json();if(P&&P.tip){N(P.tip);return}}}catch{}const A=["Include a variety of colorful vegetables to ensure diverse micronutrients.","Choose whole grains over refined grains for better fiber and satiety.","Aim for a palm-sized portion of protein at each meal to support muscle maintenance."],b=new Date().getDate()%A.length;N(A[b])}catch(A){console.warn(A)}}async function ve(){try{const A=[],b=_=>new Promise((P,K)=>setTimeout(()=>K(new Error("timeout")),_));async function M(_,P=3500){const K=new AbortController;return A.push(K),Promise.race([fetch(_,{signal:K.signal}),b(P)])}let L=null;try{const _=await M("https://zenquotes.io/api/today");if(_.ok){const P=await _.json();Array.isArray(P)&&P[0]?.q&&(L=`${P[0].q} — ${P[0].a}`)}}catch{}if(!L)try{const _=await M("https://api.quotable.io/random?tags=health|inspirational");if(_.ok){const P=await _.json();P?.content&&(L=`${P.content} — ${P.author}`)}}catch{}if(!L){const _=["Small, consistent choices compound into lifelong health.","Hydration, movement, and sleep: the quiet trio behind vibrant energy.","Nourish your body today so it can carry you tomorrow.","Progress over perfection—one wholesome meal nudges the arc forward."],P=new Date().getDate()%_.length;L=_[P]}Y(L),A.forEach(_=>_.abort())}catch{Y("Healthy habits build powerful results over time.")}}se.useEffect(()=>{const A=()=>g(!1);return window.addEventListener("nutri:closeSettings",A),()=>window.removeEventListener("nutri:closeSettings",A)},[]),se.useEffect(()=>{ye(),ot(),ve()},[]),se.useEffect(()=>{zp(m)},[m]),se.useEffect(()=>{try{const A=ae.current;if(!A)return;requestAnimationFrame(()=>{A.scrollTo({top:A.scrollHeight,behavior:"smooth"})})}catch(A){console.error("Auto-scroll failed",A)}},[o,d]),se.useEffect(()=>{try{a(A=>{let b=!1;const M=A.map(L=>{if(L.from!=="assistant")return L;const _=he(L.text);return L.classification!==_?(b=!0,{...L,classification:_}):L});return b?M:A})}catch(A){console.error("Reclassify messages failed",A)}},[o.length]);async function Ae(A){f(!0);const b={from:"user",text:A};a(ee=>[...ee,b]);const L=Array.from(new Set([...m?.allergies||[],...m?.custom||[]])).map(ee=>(ee||"").toLowerCase()).filter(Boolean),_=(A||"").toLowerCase(),P=L.filter(ee=>ee&&_.includes(ee)),K=[];K.push(`You are a nutrition assistant. Use this user's health profile: ${JSON.stringify(m)}.`),K.push("Treat any items listed in profile.custom as allergies/sensitivities (equivalent to allergies). If a food or recipe contains any item from allergies or custom, classify as Avoid and include a clear safety warning. Prefer safety and suggest suitable alternatives when relevant."),P.length&&K.push(`Alert: The user prompt mentions these allergy/sensitivity terms from the profile: ${P.join(", ")}. Be strict: classify as Avoid and explain the risk. Offer safe alternatives.`),K.push("After analysis, classify the item as one of: Beneficial, Neutral, or Avoid, and provide a concise explanation.");const oe=K.join(" ");a(ee=>[...ee,{from:"assistant",text:"Analyzing..."}]);try{const ee=await vd(A,m,oe),U=he(ee);a(ce=>[...ce.slice(0,-1),{from:"assistant",text:ee,classification:U}])}catch(ee){a(U=>[...U.slice(0,-1),{from:"assistant",text:"Error: "+String(ee)}])}finally{f(!1)}}async function Re(){if(d)return;const A=localStorage.getItem("auto_continue")==="true",b=Number(localStorage.getItem("auto_continue_count")||(A?"2":"1"));f(!0);const M={from:"user",text:"Please continue the previous answer."};a(L=>[...L,M]),a(L=>[...L,{from:"assistant",text:"Analyzing..."}]);try{const L=await Ie(b);if(L){const _=he(L);a(P=>[...P.slice(0,-1),{from:"assistant",text:L,classification:_}])}else a(_=>[..._.slice(0,-1),{from:"assistant",text:"No additional content returned."}])}catch(L){a(_=>[..._.slice(0,-1),{from:"assistant",text:"Error: "+String(L)}])}finally{f(!1),E.current=null}}async function je(A=3,b){const M="https://www.thegoodtrade.com/features/clean-eating-recipes/";try{const _=await(await fetch(M,{method:"GET",mode:"cors"})).text(),K=new DOMParser().parseFromString(_,"text/html"),oe=Array.from(K.querySelectorAll("article a[href], a[href]")).map(X=>({href:X.getAttribute("href")||"",text:(X.textContent||"").trim()})).filter(X=>X.href&&X.href.includes("thegoodtrade.com")),ee=new Set,U=[];for(const X of oe){let de=X.href;if(de.startsWith("/")&&(de="https://www.thegoodtrade.com"+de),!ee.has(de)&&(ee.add(de),U.push({title:X.text||de,href:de}),U.length>=A))break}if(U.length>=A)return U;const ce=oe.filter(X=>/recipe|recipes|dish|food|meal/i.test(X.href)||/recipe/i.test(X.text)).map(X=>({title:X.text||X.href,href:X.href.startsWith("/")?"https://www.thegoodtrade.com"+X.href:X.href}));for(const X of ce){if(U.length>=A)break;ee.has(X.href)||(ee.add(X.href),U.push(X))}try{const X=[...b?.allergies||[],...b?.custom||[]].map(Ze=>(Ze||"").toLowerCase()),de=(b?.custom||[]).map(Ze=>Ze.toLowerCase()).concat((b?.conditions||[]).map(Ze=>Ze.toLowerCase()));let We=U.filter(Ze=>{const Nn=(Ze.title||"").toLowerCase();for(const At of X)if(At&&Nn.includes(At))return!1;return!0});return We.sort((Ze,Nn)=>{const At=(Ze.title||"").toLowerCase(),Sr=(Nn.title||"").toLowerCase(),vi=de.reduce((gn,Ht)=>gn+(Ht&&At.includes(Ht)?1:0),0);return de.reduce((gn,Ht)=>gn+(Ht&&Sr.includes(Ht)?1:0),0)-vi}),We.slice(0,Math.max(A,We.length))}catch{return U.slice(0,Math.max(A,U.length))}}catch(L){throw console.warn("Recipe fetch failed (likely CORS):",L),L}}async function we(){f(!0),a(b=>[...b,{from:"user",text:"Show me recipes"}]),a(b=>[...b,{from:"assistant",text:"Fetching recipe suggestions..."}]);try{let b=[];try{b=await je(3,m)}catch(M){console.warn("Recipe fetch failed; using curated fallback",M),b=[{title:"Healthy Weeknight Dinners (Allrecipes collection)",href:"https://www.allrecipes.com/recipes/84/healthy-recipes/"},{title:"BBC Good Food - Healthy recipes",href:"https://www.bbcgoodfood.com/recipes/collection/healthy"},{title:"Cookie and Kate - Healthy recipes",href:"https://cookieandkate.com/best-healthy-recipes/"}]}a(M=>[...M.slice(0,-1),{from:"assistant",recipes:b}])}catch{a(M=>[...M.slice(0,-1),{from:"assistant",text:"Unable to fetch recipes right now. Try opening the Recipes page."}])}finally{f(!1)}}return se.useEffect(()=>{try{if(!re())return;const b=H()?.text.replace(k,"").trim()||"";if(!(localStorage.getItem("auto_continue")==="true")||d||E.current===b)return;E.current=b,Re()}catch(A){console.error("Auto-continue side effect error",A)}},[o]),w.jsxs("div",{className:"app",children:[w.jsxs("header",{children:[w.jsx("h1",{children:"NutriCoach AI"}),w.jsx("div",{style:{marginLeft:"auto"},children:w.jsx("button",{onClick:()=>g(A=>!A),"aria-pressed":p,children:"Settings"})})]}),w.jsxs("div",{className:"hero-split",children:[w.jsxs("div",{className:"hero-left",children:[w.jsx("div",{className:"logo",children:"NutriCoach"}),w.jsxs("h2",{className:"hero-title",children:["Eat fresh",w.jsx("br",{}),"stay healthy"]}),w.jsx("p",{className:"hero-sub muted",children:"Personalized nutrition guidance — quick, evidence-minded"}),w.jsx("div",{style:{marginTop:18},children:w.jsx("button",{className:"hero-cta",onClick:()=>{ye(),i.current?.focus(),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},children:"Get started"})}),w.jsxs("div",{className:"hero-card",style:{marginTop:22},children:[w.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.9)"},children:"Quick, personalized tips and food classification based on your profile. Find recipes and alternatives tailored to you."}),w.jsx("div",{style:{marginTop:12},children:w.jsx("button",{className:"hero-card-btn",onClick:()=>{we()},children:"Recipe"})})]})]}),w.jsxs("div",{className:"hero-right",children:[w.jsx("div",{className:"hero-image","aria-hidden":"true"}),w.jsx("div",{className:"hero-info","aria-live":"polite",children:O?w.jsxs("div",{children:[w.jsx("h3",{style:{marginTop:0},children:O.title}),w.jsx("p",{className:"muted",children:O.extract}),w.jsx("p",{children:w.jsx("a",{href:O.content_urls?.desktop?.page||"https://en.wikipedia.org/wiki/Healthy_diet",target:"_blank",rel:"noreferrer",children:"Read more on Wikipedia"})}),w.jsxs("div",{style:{marginTop:12,display:"flex",gap:10,alignItems:"center"},"aria-hidden":!0,children:[w.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[w.jsx("div",{style:{width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.06)",borderRadius:12},children:ai("apple",36)}),w.jsx("div",{style:{width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.06)",borderRadius:12},children:ai("avocado",36)}),w.jsx("div",{style:{width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.06)",borderRadius:12},children:ai("banana",36)})]}),w.jsx("div",{style:{color:"rgba(255,255,255,0.8)"},className:"muted",children:"Healthy living visuals"})]}),w.jsxs("div",{style:{marginTop:16},children:[w.jsx("h4",{style:{margin:"0 0 6px",fontSize:14,letterSpacing:.5,textTransform:"uppercase",color:"rgba(0,0,0,0.65)"},children:"Daily health quote"}),w.jsx("blockquote",{style:{margin:0,padding:"12px 14px",background:"rgba(255,255,255,0.10)",borderLeft:"4px solid rgba(255,255,255,0.55)",borderRadius:8,fontSize:14,lineHeight:1.4,color:"rgba(0,0,0,0.8)",fontStyle:"italic"},children:w.jsx("span",{style:{display:"block",opacity:Z?1:.6},children:Z||"Loading inspiring thought..."})})]})]}):w.jsxs("div",{className:"hero-info-placeholder",children:[w.jsx("h3",{style:{marginTop:0},children:"Healthy eating tips"}),w.jsx("p",{className:"muted",children:"Click Get started to load short, useful guidance about healthy diets."})]})})]})]}),w.jsxs("main",{children:[w.jsxs("section",{className:"profile",children:[w.jsx("h2",{children:"Health profile"}),w.jsx(Wp,{profile:m,setProfile:v})]}),w.jsxs("section",{className:"chat",children:[w.jsx("div",{className:"chat-window",role:"log","aria-live":"polite",ref:ae,children:o.length===0?w.jsxs("div",{className:"startup-panel",children:[w.jsx("h3",{children:"Welcome to NutriCoach AI"}),w.jsx("p",{className:"muted",children:"Get started with quick suggestions or view curated healthy recipes."}),R?w.jsxs("div",{className:"daily-tip",style:{marginTop:8},children:[w.jsx("strong",{children:"Daily tip:"})," ",R]}):null,w.jsx("div",{className:"chips",style:{marginTop:12},children:(localStorage.getItem("enable_startup_suggestions")!=="false"?JSON.parse(localStorage.getItem("startup_quick_topics")||"null")||["almond milk","salmon","banana smoothie","quinoa salad"]:[]).map(A=>w.jsxs("button",{className:`chip ${B===A?"active":""}`,onClick:()=>{r(A),W(A),setTimeout(()=>W(null),800),Ae(A)},children:[w.jsx("span",{style:{width:20,height:20,marginRight:8,display:"inline-flex",alignItems:"center"},children:ai(A,20)}),A]},A))}),w.jsx("div",{style:{marginTop:12},children:w.jsx("button",{className:"hero-card-btn",onClick:()=>{we()},children:"Show recipes"})})]}):o.map((A,b)=>w.jsx("div",{className:`message ${A.from}`,children:w.jsxs("div",{className:"bubble",children:[A.classification==="beneficial"?w.jsx("span",{className:"classification good",children:"Beneficial"}):null,A.classification==="avoid"?w.jsx("span",{className:"classification avoid",children:"Avoid"}):null,A.recipes?w.jsxs("div",{children:[w.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Recipe suggestions"}),w.jsx("ol",{children:A.recipes.map((M,L)=>w.jsxs("li",{style:{display:"flex",alignItems:"center",gap:8},children:[w.jsx("span",{style:{width:36,height:36,display:"inline-flex",alignItems:"center",justifyContent:"center",background:"#fff8",borderRadius:8},children:ai(M.title||"fruit",28)}),w.jsx("a",{href:M.href,target:"_blank",rel:"noreferrer",children:M.title||M.href})]},L))})]}):w.jsx("div",{children:A.text})]})},b))}),w.jsx("div",{className:"disclaimer",children:"Copilot is here to give the best advice, but always consult with a doctor."}),w.jsxs("div",{className:"input-row",children:[w.jsx("input",{"aria-label":"Ask about a food or type a food item",ref:i,value:u,onChange:A=>r(A.target.value),onKeyDown:A=>{A.key==="Enter"&&u.trim()&&(Ae(u.trim()),r(""))},placeholder:"e.g., almond milk"}),w.jsx("button",{disabled:d,onClick:()=>{u.trim()&&(Ae(u.trim()),r(""))},children:d?"Working...":"Analyze"}),re()?w.jsx("button",{onClick:Re,disabled:d,style:{marginLeft:8},children:"Continue"}):null]})]})]}),w.jsx("footer",{children:w.jsx("small",{children:"All data stored locally. Enter your OpenAI API key in settings."})}),p?w.jsx("div",{className:"modal",children:w.jsx("div",{className:"modal-content",children:w.jsx(Hp,{children:w.jsx(Bp,{})})})}):null]})}function Wp({profile:u,setProfile:r}){const[i,o]=se.useState(u||{conditions:[],allergies:[],custom:[]}),[a,d]=se.useState("");se.useEffect(()=>o(u),[u]);function f(m){const v=i.conditions.includes(m),k={...i,conditions:v?i.conditions.filter(E=>E!==m):[...i.conditions,m]};o(k),r(k)}function p(){if(a.trim()){const m={...i,custom:[...i.custom,a.trim()]};o(m),r(m),d("")}}function g(m){const v={...i,custom:i.custom.filter((k,E)=>E!==m)};o(v),r(v)}return w.jsxs("div",{children:[w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Common conditions"}),w.jsx("div",{className:"chips",children:["diabetes","hypertension","kidney disease","lactose intolerance"].map(m=>w.jsx("button",{className:i.conditions.includes(m)?"chip active":"chip",onClick:()=>f(m),children:m},m))})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Allergies (comma separated)"}),w.jsx("input",{value:i.allergies.join(", "),onChange:m=>{const v=m.target.value.split(",").map(E=>E.trim()).filter(Boolean),k={...i,allergies:v};o(k),r(k)}})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Custom health issues"}),w.jsx("div",{className:"custom-list",children:i.custom.map((m,v)=>w.jsxs("div",{className:"custom-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[w.jsx("span",{children:m}),w.jsx("button",{onClick:()=>g(v),style:{background:"transparent",border:"1px solid rgba(0,0,0,0.08)",borderRadius:8,cursor:"pointer",padding:"4px 8px"},children:"Remove"})]},v))}),w.jsxs("div",{className:"custom-add",children:[w.jsx("input",{placeholder:"Type a custom issue",value:a,onChange:m=>d(m.target.value)}),w.jsx("button",{onClick:p,children:"Add"})]})]})]})}function Hp({children:u}){try{return w.jsx(w.Fragment,{children:u})}catch(r){return w.jsxs("div",{role:"alert",style:{padding:12,color:"red"},children:["Settings failed to render: ",String(r)]})}}const Vp=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>wr(async()=>{const{default:o}=await Promise.resolve().then(()=>_r);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)};class ia extends Error{constructor(r,i="FunctionsError",o){super(r),this.name=i,this.context=o}}class qp extends ia{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class wd extends ia{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class _d extends ia{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Vl;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(Vl||(Vl={}));var Kp=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};class Jp{constructor(r,{headers:i={},customFetch:o,region:a=Vl.Any}={}){this.url=r,this.headers=i,this.region=a,this.fetch=Vp(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,i={}){var o;return Kp(this,void 0,void 0,function*(){try{const{headers:a,method:d,body:f}=i;let p={},{region:g}=i;g||(g=this.region);const m=new URL(`${this.url}/${r}`);g&&g!=="any"&&(p["x-region"]=g,m.searchParams.set("forceFunctionRegion",g));let v;f&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=f):typeof f=="string"?(p["Content-Type"]="text/plain",v=f):typeof FormData<"u"&&f instanceof FormData?v=f:(p["Content-Type"]="application/json",v=JSON.stringify(f)));const k=yield this.fetch(m.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:v}).catch(R=>{throw new qp(R)}),E=k.headers.get("x-relay-error");if(E&&E==="true")throw new wd(k);if(!k.ok)throw new _d(k);let O=((o=k.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),I;return O==="application/json"?I=yield k.json():O==="application/octet-stream"?I=yield k.blob():O==="text/event-stream"?I=k:O==="multipart/form-data"?I=yield k.formData():I=yield k.text(),{data:I,error:null,response:k}}catch(a){return{data:null,error:a,response:a instanceof _d||a instanceof wd?a.context:void 0}}})}}var Be={},or={},lr={},ar={},ur={},cr={},Gp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yr=Gp();const Qp=yr.fetch,Hd=yr.fetch.bind(yr),Vd=yr.Headers,Yp=yr.Request,Xp=yr.Response,_r=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vd,Request:Yp,Response:Xp,default:Hd,fetch:Qp},Symbol.toStringTag,{value:"Module"})),Zp=sp(_r);var Ts={},Sd;function qd(){if(Sd)return Ts;Sd=1,Object.defineProperty(Ts,"__esModule",{value:!0});class u extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Ts.default=u,Ts}var kd;function Kd(){if(kd)return cr;kd=1;var u=cr&&cr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(cr,"__esModule",{value:!0});const r=u(Zp),i=u(qd());class o{constructor(d){var f,p;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(f=d.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=d.signal,this.isMaybeSingle=(p=d.isMaybeSingle)!==null&&p!==void 0?p:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=new Headers(this.headers),this.headers.set(d,f),this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,k,E,O;let I=null,R=null,N=null,Z=m.status,Y=m.statusText;if(m.ok){if(this.method!=="HEAD"){const H=await m.text();H===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?R=H:R=JSON.parse(H))}const W=(k=this.headers.get("Prefer"))===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),ae=(E=m.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");W&&ae&&ae.length>1&&(N=parseInt(ae[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(I={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,N=null,Z=406,Y="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const W=await m.text();try{I=JSON.parse(W),Array.isArray(I)&&m.status===404&&(R=[],I=null,Z=200,Y="OK")}catch{m.status===404&&W===""?(Z=204,Y="No Content"):I={message:W}}if(I&&this.isMaybeSingle&&(!((O=I?.details)===null||O===void 0)&&O.includes("0 rows"))&&(I=null,Z=200,Y="OK"),I&&this.shouldThrowOnError)throw new i.default(I)}return{error:I,data:R,count:N,status:Z,statusText:Y}});return this.shouldThrowOnError||(g=g.catch(m=>{var v,k,E;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(k=m?.stack)!==null&&k!==void 0?k:""}`,hint:"",code:`${(E=m?.code)!==null&&E!==void 0?E:""}`},data:null,count:null,status:0,statusText:""}})),g.then(d,f)}returns(){return this}overrideTypes(){return this}}return cr.default=o,cr}var xd;function Jd(){if(xd)return ur;xd=1;var u=ur&&ur.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ur,"__esModule",{value:!0});const r=u(Kd());class i extends r.default{select(a){let d=!1;const f=(a??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:d=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const m=g?`${g}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${a}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this}range(a,d,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,m=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(m,`${d-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:d=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:m="text"}={}){var v;const k=[a?"analyze":null,d?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),E=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${E}"; options=${k};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return ur.default=i,ur}var Ed;function sa(){if(Ed)return ar;Ed=1;var u=ar&&ar.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ar,"__esModule",{value:!0});const r=u(Jd());class i extends r.default{eq(a,d){return this.url.searchParams.append(a,`eq.${d}`),this}neq(a,d){return this.url.searchParams.append(a,`neq.${d}`),this}gt(a,d){return this.url.searchParams.append(a,`gt.${d}`),this}gte(a,d){return this.url.searchParams.append(a,`gte.${d}`),this}lt(a,d){return this.url.searchParams.append(a,`lt.${d}`),this}lte(a,d){return this.url.searchParams.append(a,`lte.${d}`),this}like(a,d){return this.url.searchParams.append(a,`like.${d}`),this}likeAllOf(a,d){return this.url.searchParams.append(a,`like(all).{${d.join(",")}}`),this}likeAnyOf(a,d){return this.url.searchParams.append(a,`like(any).{${d.join(",")}}`),this}ilike(a,d){return this.url.searchParams.append(a,`ilike.${d}`),this}ilikeAllOf(a,d){return this.url.searchParams.append(a,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(a,d){return this.url.searchParams.append(a,`ilike(any).{${d.join(",")}}`),this}is(a,d){return this.url.searchParams.append(a,`is.${d}`),this}in(a,d){const f=Array.from(new Set(d)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cs.{${d.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(d)}`),this}containedBy(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cd.{${d.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(d)}`),this}rangeGt(a,d){return this.url.searchParams.append(a,`sr.${d}`),this}rangeGte(a,d){return this.url.searchParams.append(a,`nxl.${d}`),this}rangeLt(a,d){return this.url.searchParams.append(a,`sl.${d}`),this}rangeLte(a,d){return this.url.searchParams.append(a,`nxr.${d}`),this}rangeAdjacent(a,d){return this.url.searchParams.append(a,`adj.${d}`),this}overlaps(a,d){return typeof d=="string"?this.url.searchParams.append(a,`ov.${d}`):this.url.searchParams.append(a,`ov.{${d.join(",")}}`),this}textSearch(a,d,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const m=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${g}fts${m}.${d}`),this}match(a){return Object.entries(a).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(a,d,f){return this.url.searchParams.append(a,`not.${d}.${f}`),this}or(a,{foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,d,f){return this.url.searchParams.append(a,`${d}.${f}`),this}}return ar.default=i,ar}var jd;function Gd(){if(jd)return lr;jd=1;var u=lr&&lr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(lr,"__esModule",{value:!0});const r=u(sa());class i{constructor(a,{headers:d={},schema:f,fetch:p}){this.url=a,this.headers=new Headers(d),this.schema=f,this.fetch=p}select(a,{head:d=!1,count:f}={}){const p=d?"HEAD":"GET";let g=!1;const m=(a??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",m),f&&this.headers.append("Prefer",`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:d,defaultToNull:f=!0}={}){var p;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((v,k)=>v.concat(Object.keys(k)),[]);if(m.length>0){const v=[...new Set(m)].map(k=>`"${k}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(a,{onConflict:d,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const k=a.reduce((E,O)=>E.concat(Object.keys(O)),[]);if(k.length>0){const E=[...new Set(k)].map(O=>`"${O}"`);this.url.searchParams.set("columns",E.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(a,{count:d}={}){var f;const p="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:a}={}){var d;const f="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return lr.default=i,lr}var Cd;function eg(){if(Cd)return or;Cd=1;var u=or&&or.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(or,"__esModule",{value:!0});const r=u(Gd()),i=u(sa());class o{constructor(d,{headers:f={},schema:p,fetch:g}={}){this.url=d,this.headers=new Headers(f),this.schemaName=p,this.fetch=g}from(d){const f=new URL(`${this.url}/${d}`);return new r.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:p=!1,get:g=!1,count:m}={}){var v;let k;const E=new URL(`${this.url}/rpc/${d}`);let O;p||g?(k=p?"HEAD":"GET",Object.entries(f).filter(([R,N])=>N!==void 0).map(([R,N])=>[R,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([R,N])=>{E.searchParams.append(R,N)})):(k="POST",O=f);const I=new Headers(this.headers);return m&&I.set("Prefer",`count=${m}`),new i.default({method:k,url:E,headers:I,schema:this.schemaName,body:O,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return or.default=o,or}var Td;function tg(){if(Td)return Be;Td=1;var u=Be&&Be.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Be,"__esModule",{value:!0}),Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const r=u(eg());Be.PostgrestClient=r.default;const i=u(Gd());Be.PostgrestQueryBuilder=i.default;const o=u(sa());Be.PostgrestFilterBuilder=o.default;const a=u(Jd());Be.PostgrestTransformBuilder=a.default;const d=u(Kd());Be.PostgrestBuilder=d.default;const f=u(qd());return Be.PostgrestError=f.default,Be.default={PostgrestClient:r.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:d.default,PostgrestError:f.default},Be}var ng=tg();const rg=na(ng),{PostgrestClient:ig,PostgrestQueryBuilder:Gm,PostgrestFilterBuilder:Qm,PostgrestTransformBuilder:Ym,PostgrestBuilder:Xm,PostgrestError:Zm}=rg;class sg{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const o=i.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let i=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(i+=`

Suggested solution: ${r.workaround}`),new Error(i)}static createWebSocket(r,i){const o=this.getWebSocketConstructor();return new o(r,i)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const og="2.15.5",lg=`realtime-js/${og}`,ag="1.0.0",ql=1e4,ug=1e3,cg=100;var di;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(di||(di={}));var De;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(De||(De={}));var jt;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(jt||(jt={}));var Kl;(function(u){u.websocket="websocket"})(Kl||(Kl={}));var An;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(An||(An={}));class dg{constructor(){this.HEADER_LENGTH=1}decode(r,i){return r.constructor===ArrayBuffer?i(this._binaryDecode(r)):i(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const i=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,i,o)}_decodeBroadcast(r,i,o){const a=i.getUint8(1),d=i.getUint8(2);let f=this.HEADER_LENGTH+2;const p=o.decode(r.slice(f,f+a));f=f+a;const g=o.decode(r.slice(f,f+d));f=f+d;const m=JSON.parse(o.decode(r.slice(f,r.byteLength)));return{ref:null,topic:p,event:g,payload:m}}}class Qd{constructor(r,i){this.callback=r,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(Se||(Se={}));const Pd=(u,r,i={})=>{var o;const a=(o=i.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((d,f)=>(d[f]=fg(f,u,r,a),d),{})},fg=(u,r,i,o)=>{const a=r.find(p=>p.name===u),d=a?.type,f=i[u];return d&&!o.includes(d)?Yd(d,f):Jl(f)},Yd=(u,r)=>{if(u.charAt(0)==="_"){const i=u.slice(1,u.length);return mg(r,i)}switch(u){case Se.bool:return hg(r);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return pg(r);case Se.json:case Se.jsonb:return gg(r);case Se.timestamp:return vg(r);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Jl(r);default:return Jl(r)}},Jl=u=>u,hg=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},pg=u=>{if(typeof u=="string"){const r=parseFloat(u);if(!Number.isNaN(r))return r}return u},gg=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(r){return console.log(`JSON parse error: ${r}`),u}return u},mg=(u,r)=>{if(typeof u!="string")return u;const i=u.length-1,o=u[i];if(u[0]==="{"&&o==="}"){let d;const f=u.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(p=>Yd(r,p))}return u},vg=u=>typeof u=="string"?u.replace(" ","T"):u,Xd=u=>{let r=u;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class Dl{constructor(r,i,o={},a=ql){this.channel=r,this.event=i,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,i){var o;return this._hasReceived(r)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:i}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(i))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Od;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(Od||(Od={}));class fi{constructor(r,i){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fi.syncState(this.state,a,d,f),this.pendingDiffs.forEach(g=>{this.state=fi.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},a=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=fi.syncDiff(this.state,a,d,f),p())}),this.onJoin((a,d,f)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:d,newPresences:f})}),this.onLeave((a,d,f)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,i,o,a){const d=this.cloneDeep(r),f=this.transformState(i),p={},g={};return this.map(d,(m,v)=>{f[m]||(g[m]=v)}),this.map(f,(m,v)=>{const k=d[m];if(k){const E=v.map(N=>N.presence_ref),O=k.map(N=>N.presence_ref),I=v.filter(N=>O.indexOf(N.presence_ref)<0),R=k.filter(N=>E.indexOf(N.presence_ref)<0);I.length>0&&(p[m]=I),R.length>0&&(g[m]=R)}else p[m]=v}),this.syncDiff(d,{joins:p,leaves:g},o,a)}static syncDiff(r,i,o,a){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(d,(p,g)=>{var m;const v=(m=r[p])!==null&&m!==void 0?m:[];if(r[p]=this.cloneDeep(g),v.length>0){const k=r[p].map(O=>O.presence_ref),E=v.filter(O=>k.indexOf(O.presence_ref)<0);r[p].unshift(...E)}o(p,v,g)}),this.map(f,(p,g)=>{let m=r[p];if(!m)return;const v=g.map(k=>k.presence_ref);m=m.filter(k=>v.indexOf(k.presence_ref)<0),r[p]=m,a(p,m,g),m.length===0&&delete r[p]}),r}static map(r,i){return Object.getOwnPropertyNames(r).map(o=>i(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((i,o)=>{const a=r[o];return"metas"in a?i[o]=a.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[o]=a,i},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bd;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(bd||(bd={}));var hi;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(hi||(hi={}));var Bt;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(Bt||(Bt={}));class oa{constructor(r,i={config:{}},o){this.topic=r,this.params=i,this.socket=o,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Dl(this,jt.join,this.params,this.timeout),this.rejoinTimer=new Qd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jt.reply,{},(a,d)=>{this._trigger(this._replyEventName(d),a)}),this.presence=new fi(this),this.broadcastEndpointURL=Xd(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,i=this.timeout){var o,a,d;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,m=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(O=>O.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[hi.PRESENCE]&&this.bindings[hi.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,k={},E={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(k.access_token=this.socket.accessTokenValue),this._onError(O=>r?.(Bt.CHANNEL_ERROR,O)),this._onClose(()=>r?.(Bt.CLOSED)),this.updateJoinPayload(Object.assign({config:E},k)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:O})=>{var I;if(this.socket.setAuth(),O===void 0){r?.(Bt.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,N=(I=R?.length)!==null&&I!==void 0?I:0,Z=[];for(let Y=0;Y<N;Y++){const B=R[Y],{filter:{event:W,schema:ae,table:H,filter:re}}=B,he=O&&O[Y];if(he&&he.event===W&&he.schema===ae&&he.table===H&&he.filter===re)Z.push(Object.assign(Object.assign({},B),{id:he.id}));else{this.unsubscribe(),this.state=De.errored,r?.(Bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Z,r&&r(Bt.SUBSCRIBED);return}}).receive("error",O=>{this.state=De.errored,r?.(Bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{r?.(Bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,i={}){return await this.send({type:"presence",event:"track",payload:r},i.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,i,o){return this.state===De.joined&&r===hi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,i,o)}async send(r,i={}){var o,a;if(!this._canPush()&&r.type==="broadcast"){const{event:d,payload:f}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,p,g;const m=this._push(r.type,r,i.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),m.receive("ok",()=>d("ok")),m.receive("error",()=>d("error")),m.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=De.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Dl(this,jt.leave,{},r),o.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(r,i,o){const a=new AbortController,d=setTimeout(()=>a.abort(),o),f=await this.socket.fetch(r,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(d),f}_push(r,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Dl(this,r,i,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>cg){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(r,i,o){return i}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,i,o){var a,d;const f=r.toLocaleLowerCase(),{close:p,error:g,leave:m,join:v}=jt;if(o&&[p,g,m,v].indexOf(f)>=0&&o!==this._joinRef())return;let E=this._onMessage(f,i,o);if(i&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(O=>{var I,R,N;return((I=O.filter)===null||I===void 0?void 0:I.event)==="*"||((N=(R=O.filter)===null||R===void 0?void 0:R.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===f}).map(O=>O.callback(E,o)):(d=this.bindings[f])===null||d===void 0||d.filter(O=>{var I,R,N,Z,Y,B;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in O){const W=O.id,ae=(I=O.filter)===null||I===void 0?void 0:I.event;return W&&((R=i.ids)===null||R===void 0?void 0:R.includes(W))&&(ae==="*"||ae?.toLocaleLowerCase()===((N=i.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const W=(Y=(Z=O?.filter)===null||Z===void 0?void 0:Z.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return W==="*"||W===((B=i?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===f}).map(O=>{if(typeof E=="object"&&"ids"in E){const I=E.data,{schema:R,table:N,commit_timestamp:Z,type:Y,errors:B}=I;E=Object.assign(Object.assign({},{schema:R,table:N,commit_timestamp:Z,eventType:Y,new:{},old:{},errors:B}),this._getPayloadRecords(I))}O.callback(E,o)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,i,o){const a=r.toLocaleLowerCase(),d={type:a,filter:i,callback:o};return this.bindings[a]?this.bindings[a].push(d):this.bindings[a]=[d],this}_off(r,i){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var d;return!(((d=a.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&oa.isEqual(a.filter,i))})),this}static isEqual(r,i){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const o in r)if(r[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(jt.close,{},r)}_onError(r){this._on(jt.error,{},i=>r(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const i={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(i.new=Pd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(i.old=Pd(r.columns,r.old_record)),i}}const zl=()=>{},Ps={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yg=[1e3,2e3,5e3,1e4],wg=1e4,_g=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sg{constructor(r,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ql,this.transport=null,this.heartbeatIntervalMs=Ps.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zl,this.ref=0,this.reconnectTimer=null,this.logger=zl,this.conn=null,this.sendBuffer=[],this.serializer=new dg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let d;return a?d=a:typeof fetch>"u"?d=(...f)=>wr(async()=>{const{default:p}=await Promise.resolve().then(()=>_r);return{default:p}},void 0,import.meta.url).then(({default:p})=>p(...f)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((o=i?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${r}/${Kl.websocket}`,this.httpEndpoint=Xd(r),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const i=r.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ag}))}disconnect(r,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},r?this.conn.close(r,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const i=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const r=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,i,o){this.logger(r,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case di.connecting:return An.Connecting;case di.open:return An.Open;case di.closing:return An.Closing;default:return An.Closed}}isConnected(){return this.connectionState()===An.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,i={config:{}}){const o=`realtime:${r}`,a=this.getChannels().find(d=>d.topic===o);if(a)return a;{const d=new oa(`realtime:${r}`,i,this);return this.channels.push(d),d}}push(r){const{topic:i,event:o,payload:a,ref:d}=r,f=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${i} ${o} (${d})`,a),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(ug,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Ps.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let i=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${r}"`),i.unsubscribe())}_remove(r){this.channels=this.channels.filter(i=>i.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:d,ref:f}=i,p=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${o} ${a} ${p}`.trim(),d),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(r){var i;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var i;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(jt.error))}_appendParams(r,i){if(Object.keys(i).length===0)return r;const o=r.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${r}${o}${a}`}_workerObjectUrl(r){let i;if(r)i=r;else{const o=new Blob([_g],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(r,i=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(r=null){let i;r?i=r:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const a={access_token:i,version:lg};i&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(jt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${r}`,i)})}_triggerStateCallbacks(r,i){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(i)}catch(a){this.log("error",`error in ${r} callback`,a)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Qd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ps.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var i,o,a,d,f,p,g,m,v;if(this.transport=(i=r?.transport)!==null&&i!==void 0?i:null,this.timeout=(o=r?.timeout)!==null&&o!==void 0?o:ql,this.heartbeatIntervalMs=(a=r?.heartbeatIntervalMs)!==null&&a!==void 0?a:Ps.HEARTBEAT_INTERVAL,this.worker=(d=r?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=r?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:zl,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r?.reconnectAfterMs)!==null&&g!==void 0?g:(k=>yg[k-1]||wg),this.encode=(m=r?.encode)!==null&&m!==void 0?m:((k,E)=>E(JSON.stringify(k))),this.decode=(v=r?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class la extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function ze(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class kg extends la{constructor(r,i,o){super(r),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gl extends la{constructor(r,i){super(r),this.name="StorageUnknownError",this.originalError=i}}var xg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Zd=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>wr(async()=>{const{default:o}=await Promise.resolve().then(()=>_r);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},Eg=()=>xg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wr(()=>Promise.resolve().then(()=>_r),void 0,import.meta.url)).Response:Response}),Ql=u=>{if(Array.isArray(u))return u.map(i=>Ql(i));if(typeof u=="function"||u!==Object(u))return u;const r={};return Object.entries(u).forEach(([i,o])=>{const a=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[a]=Ql(o)}),r},jg=u=>{if(typeof u!="object"||u===null)return!1;const r=Object.getPrototypeOf(u);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)};var Rn=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Ul=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Cg=(u,r,i)=>Rn(void 0,void 0,void 0,function*(){const o=yield Eg();u instanceof o&&!i?.noResolveJson?u.json().then(a=>{const d=u.status||500,f=a?.statusCode||d+"";r(new kg(Ul(a),d,f))}).catch(a=>{r(new Gl(Ul(a),a))}):r(new Gl(Ul(u),u))}),Tg=(u,r,i,o)=>{const a={method:u,headers:r?.headers||{}};return u==="GET"||!o?a:(jg(o)?(a.headers=Object.assign({"Content-Type":"application/json"},r?.headers),a.body=JSON.stringify(o)):a.body=o,r?.duplex&&(a.duplex=r.duplex),Object.assign(Object.assign({},a),i))};function mi(u,r,i,o,a,d){return Rn(this,void 0,void 0,function*(){return new Promise((f,p)=>{u(i,Tg(r,o,a,d)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Cg(g,p,o))})})}function As(u,r,i,o){return Rn(this,void 0,void 0,function*(){return mi(u,"GET",r,i,o)})}function It(u,r,i,o,a){return Rn(this,void 0,void 0,function*(){return mi(u,"POST",r,o,a,i)})}function Yl(u,r,i,o,a){return Rn(this,void 0,void 0,function*(){return mi(u,"PUT",r,o,a,i)})}function Pg(u,r,i,o){return Rn(this,void 0,void 0,function*(){return mi(u,"HEAD",r,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function ef(u,r,i,o,a){return Rn(this,void 0,void 0,function*(){return mi(u,"DELETE",r,o,a,i)})}var Xe=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Og={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Id={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bg{constructor(r,i={},o,a){this.shouldThrowOnError=!1,this.url=r,this.headers=i,this.bucketId=o,this.fetch=Zd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,i,o,a){return Xe(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Id),a);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g))):(d=o,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a?.headers&&(p=Object.assign(Object.assign({},p),a.headers));const m=this._removeEmptyFolders(i),v=this._getFinalPath(m),k=yield(r=="PUT"?Yl:It)(this.fetch,`${this.url}/object/${v}`,d,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:k.Id,fullPath:k.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ze(d))return{data:null,error:d};throw d}})}upload(r,i,o){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,i,o)})}uploadToSignedUrl(r,i,o,a){return Xe(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",i);try{let g;const m=Object.assign({upsert:Id.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",m.cacheControl)):(g=o,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const k=yield Yl(this.fetch,p.toString(),g,{headers:v});return{data:{path:d,fullPath:k.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(ze(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,i){return Xe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const a=Object.assign({},this.headers);i?.upsert&&(a["x-upsert"]="true");const d=yield It(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),f=new URL(this.url+d.url),p=f.searchParams.get("token");if(!p)throw new la("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}update(r,i,o){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,i,o)})}move(r,i,o){return Xe(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}copy(r,i,o){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield It(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}createSignedUrl(r,i,o){return Xe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r),d=yield It(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o?.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}createSignedUrls(r,i,o){return Xe(this,void 0,void 0,function*(){try{const a=yield It(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:r},{headers:this.headers}),d=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}download(r,i){return Xe(this,void 0,void 0,function*(){const a=typeof i?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(i?.transform||{}),f=d?`?${d}`:"";try{const p=this._getFinalPath(r);return{data:yield(yield As(this.fetch,`${this.url}/${a}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(ze(p))return{data:null,error:p};throw p}})}info(r){return Xe(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{const o=yield As(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Ql(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}exists(r){return Xe(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{return yield Pg(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o)&&o instanceof Gl){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,i){const o=this._getFinalPath(r),a=[],d=i?.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&a.push(d);const p=typeof i?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(i?.transform||{});g!==""&&a.push(g);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${m}`)}}}remove(r){return Xe(this,void 0,void 0,function*(){try{return{data:yield ef(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}list(r,i,o){return Xe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Og),i),{prefix:r||""});return{data:yield It(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}listV2(r,i){return Xe(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield It(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const i=[];return r.width&&i.push(`width=${r.width}`),r.height&&i.push(`height=${r.height}`),r.resize&&i.push(`resize=${r.resize}`),r.format&&i.push(`format=${r.format}`),r.quality&&i.push(`quality=${r.quality}`),i.join("&")}}const Ig="2.12.1",Ag={"X-Client-Info":`storage-js/${Ig}`};var dr=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};class Rg{constructor(r,i={},o,a){this.shouldThrowOnError=!1;const d=new URL(r);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},Ag),i),this.fetch=Zd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return dr(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}getBucket(r){return dr(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}createBucket(r,i={public:!1}){return dr(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}updateBucket(r,i){return dr(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}emptyBucket(r){return dr(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}deleteBucket(r){return dr(this,void 0,void 0,function*(){try{return{data:yield ef(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}}class Ng extends Rg{constructor(r,i={},o,a){super(r,i,o,a)}from(r){return new bg(this.url,this.headers,r,this.fetch)}}const Lg="2.57.4";let ci="";typeof Deno<"u"?ci="deno":typeof document<"u"?ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ci="react-native":ci="node";const $g={"X-Client-Info":`supabase-js-${ci}/${Lg}`},Dg={headers:$g},zg={schema:"public"},Ug={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mg={};var Fg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Bg=u=>{let r;return u?r=u:typeof fetch>"u"?r=Hd:r=fetch,(...i)=>r(...i)},Wg=()=>typeof Headers>"u"?Vd:Headers,Hg=(u,r,i)=>{const o=Bg(i),a=Wg();return(d,f)=>Fg(void 0,void 0,void 0,function*(){var p;const g=(p=yield r())!==null&&p!==void 0?p:u;let m=new a(f?.headers);return m.has("apikey")||m.set("apikey",u),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),o(d,Object.assign(Object.assign({},f),{headers:m}))})};var Vg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};function qg(u){return u.endsWith("/")?u:u+"/"}function Kg(u,r){var i,o;const{db:a,auth:d,realtime:f,global:p}=u,{db:g,auth:m,realtime:v,global:k}=r,E={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},m),d),realtime:Object.assign(Object.assign({},v),f),storage:{},global:Object.assign(Object.assign(Object.assign({},k),p),{headers:Object.assign(Object.assign({},(i=k?.headers)!==null&&i!==void 0?i:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Vg(this,void 0,void 0,function*(){return""})};return u.accessToken?E.accessToken=u.accessToken:delete E.accessToken,E}function Jg(u){const r=u?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qg(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tf="2.71.1",mr=30*1e3,Xl=3,Ml=Xl*mr,Gg="http://localhost:9999",Qg="supabase.auth.token",Yg={"X-Client-Info":`gotrue-js/${tf}`},Zl="X-Supabase-Api-Version",nf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zg=600*1e3;class aa extends Error{constructor(r,i,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function le(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class em extends aa{constructor(r,i,o){super(r,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function tm(u){return le(u)&&u.name==="AuthApiError"}class rf extends aa{constructor(r,i){super(r),this.name="AuthUnknownError",this.originalError=i}}class pn extends aa{constructor(r,i,o,a){super(r,o,a),this.name=i,this.status=o}}class fn extends pn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nm(u){return le(u)&&u.name==="AuthSessionMissingError"}class Os extends pn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bs extends pn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Is extends pn{constructor(r,i=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rm(u){return le(u)&&u.name==="AuthImplicitGrantRedirectError"}class Ad extends pn{constructor(r,i=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ea extends pn{constructor(r,i){super(r,"AuthRetryableFetchError",i,void 0)}}function Fl(u){return le(u)&&u.name==="AuthRetryableFetchError"}class Rd extends pn{constructor(r,i,o){super(r,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class ta extends pn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nd=` 	
\r=`.split(""),im=(()=>{const u=new Array(128);for(let r=0;r<u.length;r+=1)u[r]=-1;for(let r=0;r<Nd.length;r+=1)u[Nd[r].charCodeAt(0)]=-2;for(let r=0;r<Rs.length;r+=1)u[Rs[r].charCodeAt(0)]=r;return u})();function Ld(u,r,i){if(u!==null)for(r.queue=r.queue<<8|u,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(Rs[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(Rs[o]),r.queuedBits-=6}}function sf(u,r,i){const o=im[u];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)i(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function $d(u){const r=[],i=f=>{r.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},d=f=>{lm(f,o,i)};for(let f=0;f<u.length;f+=1)sf(u.charCodeAt(f),a,d);return r.join("")}function sm(u,r){if(u<=127){r(u);return}else if(u<=2047){r(192|u>>6),r(128|u&63);return}else if(u<=65535){r(224|u>>12),r(128|u>>6&63),r(128|u&63);return}else if(u<=1114111){r(240|u>>18),r(128|u>>12&63),r(128|u>>6&63),r(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function om(u,r){for(let i=0;i<u.length;i+=1){let o=u.charCodeAt(i);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(u.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}sm(o,r)}}function lm(u,r,i){if(r.utf8seq===0){if(u<=127){i(u);return}for(let o=1;o<6;o+=1)if((u>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=u&31;else if(r.utf8seq===3)r.codepoint=u&15;else if(r.utf8seq===4)r.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|u&63,r.utf8seq-=1,r.utf8seq===0&&i(r.codepoint)}}function am(u){const r=[],i={queue:0,queuedBits:0},o=a=>{r.push(a)};for(let a=0;a<u.length;a+=1)sf(u.charCodeAt(a),i,o);return new Uint8Array(r)}function um(u){const r=[];return om(u,i=>r.push(i)),new Uint8Array(r)}function cm(u){const r=[],i={queue:0,queuedBits:0},o=a=>{r.push(a)};return u.forEach(a=>Ld(a,i,o)),Ld(null,i,o),r.join("")}function dm(u){return Math.round(Date.now()/1e3)+u}function fm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const r=Math.random()*16|0;return(u=="x"?r:r&3|8).toString(16)})}const Et=()=>typeof window<"u"&&typeof document<"u",On={tested:!1,writable:!1},of=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(On.tested)return On.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),On.tested=!0,On.writable=!0}catch{On.tested=!0,On.writable=!1}return On.writable};function hm(u){const r={},i=new URL(u);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,d)=>{r[d]=a})}catch{}return i.searchParams.forEach((o,a)=>{r[a]=o}),r}const lf=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>wr(async()=>{const{default:o}=await Promise.resolve().then(()=>_r);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},pm=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",vr=async(u,r,i)=>{await u.setItem(r,JSON.stringify(i))},bn=async(u,r)=>{const i=await u.getItem(r);if(!i)return null;try{return JSON.parse(i)}catch{return i}},dn=async(u,r)=>{await u.removeItem(r)};class Ns{constructor(){this.promise=new Ns.promiseConstructor((r,i)=>{this.resolve=r,this.reject=i})}}Ns.promiseConstructor=Promise;function Bl(u){const r=u.split(".");if(r.length!==3)throw new ta("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Xg.test(r[o]))throw new ta("JWT not in base64url format");return{header:JSON.parse($d(r[0])),payload:JSON.parse($d(r[1])),signature:am(r[2]),raw:{header:r[0],payload:r[1]}}}async function gm(u){return await new Promise(r=>{setTimeout(()=>r(null),u)})}function mm(u,r){return new Promise((o,a)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await u(d);if(!r(d,null,f)){o(f);return}}catch(f){if(!r(d,f)){a(f);return}}})()})}function vm(u){return("0"+u.toString(16)).substr(-2)}function ym(){const r=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let a="";for(let d=0;d<56;d++)a+=i.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(r),Array.from(r,vm).join("")}async function wm(u){const i=new TextEncoder().encode(u),o=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(o);return Array.from(a).map(d=>String.fromCharCode(d)).join("")}async function _m(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const i=await wm(u);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fr(u,r,i=!1){const o=ym();let a=o;i&&(a+="/PASSWORD_RECOVERY"),await vr(u,`${r}-code-verifier`,a);const d=await _m(o);return[d,o===d?"plain":"s256"]}const Sm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function km(u){const r=u.headers.get(Zl);if(!r||!r.match(Sm))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function xm(u){if(!u)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(u<=r)throw new Error("JWT has expired")}function Em(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hr(u){if(!jm.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wl(){const u={};return new Proxy(u,{get:(r,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dd(u){return JSON.parse(JSON.stringify(u))}var Cm=function(u,r){var i={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(i[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(i[o[a]]=u[o[a]]);return i};const In=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Tm=[502,503,504];async function zd(u){var r;if(!pm(u))throw new ea(In(u),0);if(Tm.includes(u.status))throw new ea(In(u),u.status);let i;try{i=await u.json()}catch(d){throw new rf(In(d),d)}let o;const a=km(u);if(a&&a.getTime()>=nf["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new Rd(In(i),u.status,((r=i.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new fn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Rd(In(i),u.status,i.weak_password.reasons);throw new em(In(i),u.status||500,o)}const Pm=(u,r,i,o)=>{const a={method:u,headers:r?.headers||{}};return u==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),i))};async function fe(u,r,i,o){var a;const d=Object.assign({},o?.headers);d[Zl]||(d[Zl]=nf["2024-01-01"].name),o?.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const f=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Om(u,r,i+p,{headers:d,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function Om(u,r,i,o,a,d){const f=Pm(r,o,a,d);let p;try{p=await u(i,Object.assign({},f))}catch(g){throw console.error(g),new ea(In(g),0)}if(p.ok||await zd(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await zd(g)}}function Ft(u){var r;let i=null;Rm(u)&&(i=Object.assign({},u),u.expires_at||(i.expires_at=dm(u.expires_in)));const o=(r=u.user)!==null&&r!==void 0?r:u;return{data:{session:i,user:o},error:null}}function Ud(u){const r=Ft(u);return!r.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(r.data.weak_password=u.weak_password),r}function hn(u){var r;return{data:{user:(r=u.user)!==null&&r!==void 0?r:u},error:null}}function bm(u){return{data:u,error:null}}function Im(u){const{action_link:r,email_otp:i,hashed_token:o,redirect_to:a,verification_type:d}=u,f=Cm(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:i,hashed_token:o,redirect_to:a,verification_type:d},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function Am(u){return u}function Rm(u){return u.access_token&&u.refresh_token&&u.expires_in}const Hl=["global","local","others"];var Nm=function(u,r){var i={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(i[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(i[o[a]]=u[o[a]]);return i};class Lm{constructor({url:r="",headers:i={},fetch:o}){this.url=r,this.headers=i,this.fetch=lf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,i=Hl[0]){if(Hl.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hl.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(le(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,i={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:hn})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:i}=r,o=Nm(r,["options"]),a=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Im,redirectTo:i?.redirectTo})}catch(i){if(le(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(r){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:hn})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async listUsers(r){var i,o,a,d,f,p,g;try{const m={nextPage:null,lastPage:0,total:0},v=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=r?.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(d=(a=r?.perPage)===null||a===void 0?void 0:a.toString())!==null&&d!==void 0?d:""},xform:Am});if(v.error)throw v.error;const k=await v.json(),E=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return O.length>0&&(O.forEach(I=>{const R=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(I.split(";")[1].split("=")[1]);m[`${N}Page`]=R}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},k),m),error:null}}catch(m){if(le(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){hr(r);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:hn})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async updateUserById(r,i){hr(r);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:i,headers:this.headers,xform:hn})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,i=!1){hr(r);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:i},xform:hn})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){hr(r.userId);try{const{data:i,error:o}=await fe(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:o}}catch(i){if(le(i))return{data:null,error:i};throw i}}async _deleteFactor(r){hr(r.userId),hr(r.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}}}function Md(u={}){return{getItem:r=>u[r]||null,setItem:(r,i)=>{u[r]=i},removeItem:r=>{delete u[r]}}}function $m(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pr={debug:!!(globalThis&&of()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class af extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Dm extends af{}async function zm(u,r,i){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,a.name);try{return await i()}finally{pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,a.name)}}else{if(r===0)throw pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new Dm(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(pr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}$m();const Um={url:Gg,storageKey:Qg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fd(u,r,i){return await i()}const gr={};class pi{constructor(r){var i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pi.nextInstanceID,pi.nextInstanceID+=1,this.instanceID>0&&Et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Um),r);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Lm({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=lf(a.fetch),this.lock=a.lock||Fd,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Et()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=zm:this.lock=Fd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:of()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Md(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Md(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var r,i;return(i=(r=gr[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(r){gr[this.storageKey]=Object.assign(Object.assign({},gr[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,i;return(i=(r=gr[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){gr[this.storageKey]=Object.assign(Object.assign({},gr[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tf}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const i=hm(window.location.href);let o="none";if(this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce"),Et()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:d}=await this._getSessionFromURL(i,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),rm(d)){const g=(r=d.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:p}=a;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return le(i)?{error:i}:{error:new rf("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var i,o,a;try{const d=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=r?.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=r?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ft}),{data:f,error:p}=d;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(d){if(le(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(r){var i,o,a;try{let d;if("email"in r){const{email:v,password:k,options:E}=r;let O=null,I=null;this.flowType==="pkce"&&([O,I]=await fr(this.storage,this.storageKey)),d=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:v,password:k,data:(i=E?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:O,code_challenge_method:I},xform:Ft})}else if("phone"in r){const{phone:v,password:k,options:E}=r;d=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:k,data:(o=E?.data)!==null&&o!==void 0?o:{},channel:(a=E?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:Ft})}else throw new bs("You must provide either an email or phone number and a password");const{data:f,error:p}=d;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(d){if(le(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(r){try{let i;if("email"in r){const{email:d,password:f,options:p}=r;i=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ud})}else if("phone"in r){const{phone:d,password:f,options:p}=r;i=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ud})}else throw new bs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Os}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(r){var i,o,a,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(i=r.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=r.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:i}=r;if(i==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(r){var i,o,a,d,f,p,g,m,v,k,E,O;let I,R;if("message"in r)I=r.message,R=r.signature;else{const{chain:N,wallet:Z,statement:Y,options:B}=r;let W;if(Et())if(typeof Z=="object")W=Z;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))W=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Z!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=Z}const ae=new URL((i=B?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in W&&W.signIn){const H=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),Y?{statement:Y}:null));let re;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")re=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)re=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in re&&"signature"in re&&(typeof re.signedMessage=="string"||re.signedMessage instanceof Uint8Array)&&re.signature instanceof Uint8Array)I=typeof re.signedMessage=="string"?re.signedMessage:new TextDecoder().decode(re.signedMessage),R=re.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");I=[`${ae.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(a=(o=B?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((d=B?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((f=B?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((p=B?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((m=B?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((k=(v=B?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||k===void 0)&&k.length?["Resources",...B.signInWithSolana.resources.map(re=>`- ${re}`)]:[]].join(`
`);const H=await W.signMessage(new TextEncoder().encode(I),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=H}}try{const{data:N,error:Z}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:I,signature:cm(R)},!((E=r.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(O=r.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Ft});if(Z)throw Z;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Os}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:Z})}catch(N){if(le(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(r){const i=await bn(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(i??"").split("/");try{const{data:d,error:f}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Ft});if(await dn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new Os}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:a??null}),error:f})}catch(d){if(le(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(r){try{const{options:i,provider:o,token:a,access_token:d,nonce:f}=r,p=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Ft}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Os}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(r){var i,o,a,d,f;try{if("email"in r){const{email:p,options:g}=r;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await fr(this.storage,this.storageKey));const{error:k}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:k}}if("phone"in r){const{phone:p,options:g}=r,{data:m,error:v}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(a=g?.data)!==null&&a!==void 0?a:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new bs("You must provide either an email or phone number.")}catch(p){if(le(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var i,o;try{let a,d;"options"in r&&(a=(i=r.options)===null||i===void 0?void 0:i.redirectTo,d=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:p}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:a,xform:Ft});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,m=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(a){if(le(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(r){var i,o,a;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await fr(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(i=r.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=r?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:bm})}catch(d){if(le(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)throw o;if(!i)throw new fn;const{error:a}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}})}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const i=`${this.url}/resend`;if("email"in r){const{email:o,type:a,options:d}=r,{error:f}=await fe(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in r){const{phone:o,type:a,options:d}=r,{data:f,error:p}=await fe(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new bs("You must provide either an email or phone number and a type")}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(r,i){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await r(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const i=await bn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?r=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<Ml:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const f=await bn(this.userStorage,this.storageKey+"-user");f?.user?r.user=f.user:r.user=Wl()}if(this.storage.isServer&&r.user){let f=this.suppressGetSessionWarning;r=new Proxy(r,{get:(g,m,v)=>(!f&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,v))})}return{data:{session:r},error:null}}const{session:a,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{session:null},error:d}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:hn}):await this._useSession(async i=>{var o,a,d;const{data:f,error:p}=i;if(p)throw p;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fn}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(a=f.session)===null||a===void 0?void 0:a.access_token)!==null&&d!==void 0?d:void 0,xform:hn})})}catch(i){if(le(i))return nm(i)&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(r,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,i))}async _updateUser(r,i={}){try{return await this._useSession(async o=>{const{data:a,error:d}=o;if(d)throw d;if(!a.session)throw new fn;const f=a.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await fr(this.storage,this.storageKey));const{data:m,error:v}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:hn});if(v)throw v;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new fn;const i=Date.now()/1e3;let o=i,a=!0,d=null;const{payload:f}=Bl(r.access_token);if(f.exp&&(o=f.exp,a=o<=i),a){const{session:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)throw g;d={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(i){if(le(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async i=>{var o;if(!r){const{data:f,error:p}=i;if(p)throw p;r=(o=f.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new fn;const{session:a,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{user:null,session:null},error:d}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(r,i){try{if(!Et())throw new Is("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Is(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Ad("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Is("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Ad("No code detected.");const{data:Y,error:B}=await this._exchangeCodeForSession(r.code);if(B)throw B;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:d,refresh_token:f,expires_in:p,expires_at:g,token_type:m}=r;if(!d||!p||!f||!m)throw new Is("No session defined in URL");const v=Math.round(Date.now()/1e3),k=parseInt(p);let E=v+k;g&&(E=parseInt(g));const O=E-v;O*1e3<=mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${k}s`);const I=E-k;v-I>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",I,E,v):v-I<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",I,E,v);const{data:R,error:N}=await this._getUser(d);if(N)throw N;const Z={provider_token:o,provider_refresh_token:a,access_token:d,expires_in:k,expires_at:E,refresh_token:f,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Z,redirectType:r.type},error:null}}catch(o){if(le(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const i=await bn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&i)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:a,error:d}=i;if(d)return{error:d};const f=(o=a.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:p}=await this.admin.signOut(f,r);if(p&&!(tm(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const i=fm(),o={id:i,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async i=>{var o,a;try{const{data:{session:d},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,i={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await fr(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(le(d))return{data:null,error:d};throw d}}async getUserIdentities(){var r;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=i.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}}async linkIdentity(r){var i;try{const{data:o,error:a}=await this._useSession(async d=>{var f,p,g,m,v;const{data:k,error:E}=d;if(E)throw E;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",O,{headers:this.headers,jwt:(v=(m=k.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return Et()&&!(!((i=r.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:r.provider,url:o?.url},error:null}}catch(o){if(le(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async i=>{var o,a;const{data:d,error:f}=i;if(f)throw f;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(a=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(le(i))return{data:null,error:i};throw i}}async _refreshAccessToken(r){const i=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await mm(async a=>(a>0&&await gm(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Ft})),(a,d)=>{const f=200*Math.pow(2,a);return d&&Fl(d)&&Date.now()+f-o<mr})}catch(o){if(this._debug(i,"error",o),le(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(i,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",i,"url",o),Et()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await bn(this.storage,this.storageKey);if(a&&this.userStorage){let f=await bn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:a.user},await vr(this.userStorage,this.storageKey+"-user",f)),a.user=(r=f?.user)!==null&&r!==void 0?r:Wl()}else if(a&&!a.user&&!a.user){const f=await bn(this.storage,this.storageKey+"-user");f&&f?.user?(a.user=f.user,await dn(this.storage,this.storageKey+"-user"),await vr(this.storage,this.storageKey,a)):a.user=Wl()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const d=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Ml;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${Ml}s`),d){if(this.autoRefreshToken&&a.refresh_token){const{error:f}=await this._callRefreshToken(a.refresh_token);f&&(console.error(f),Fl(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(a.access_token);!p&&f?.user?(a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var i,o;if(!r)throw new fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ns;const{data:d,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!d.session)throw new fn;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={session:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(a,"error",d),le(d)){const f={session:null,error:d};return Fl(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(r,i,o=!0){const a=`#_notifyAllSubscribers(${r})`;this._debug(a,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,i)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(a,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const i=Object.assign({},r),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await vr(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const d=Dd(a);await vr(this.storage,this.storageKey,d)}else{const a=Dd(i);await vr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await dn(this.storage,this.storageKey),await dn(this.storage,this.storageKey+"-code-verifier"),await dn(this.storage,this.storageKey+"-user"),this.userStorage&&await dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Et()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),mr);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-r)/mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${mr}ms, refresh threshold is ${Xl} ticks`),a<=Xl&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof af)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const i=`#_onVisibilityChanged(${r})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,i,o){const a=[`provider=${encodeURIComponent(i)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,f]=await fr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});a.push(p.toString())}if(o?.queryParams){const d=new URLSearchParams(o.queryParams);a.push(d.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${a.join("&")}`}async _unenroll(r){try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;return d?{data:null,error:d}:await fe(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(le(i))return{data:null,error:i};throw i}}async _enroll(r){try{return await this._useSession(async i=>{var o,a;const{data:d,error:f}=i;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:g,error:m}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((a=g?.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(le(i))return{data:null,error:i};throw i}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;if(d)return{data:null,error:d};const{data:f,error:p}=await fe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(i){if(le(i))return{data:null,error:i};throw i}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;return d?{data:null,error:d}:await fe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(le(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(r){const{data:i,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:i.id,code:r.code})}async _listFactors(){const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o=r?.factors||[],a=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),d=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:a,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var i,o;const{data:{session:a},error:d}=r;if(d)return{data:null,error:d};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Bl(a.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(k=>k.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const v=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(r,i={keys:[]}){let o=i.keys.find(p=>p.kid===r);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+Zg>a)return o;const{data:d,error:f}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=a,o=d.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,i={}){try{let o=r;if(!o){const{data:O,error:I}=await this.getSession();if(I||!O.session)return{data:null,error:I};o=O.session.access_token}const{header:a,payload:d,signature:f,raw:{header:p,payload:g}}=Bl(o);i?.allowExpired||xm(d.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!m){const{error:O}=await this.getUser(o);if(O)throw O;return{data:{claims:d,header:a,signature:f},error:null}}const v=Em(a.alg),k=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,k,f,um(`${p}.${g}`)))throw new ta("Invalid JWT signature");return{data:{claims:d,header:a,signature:f},error:null}}catch(o){if(le(o))return{data:null,error:o};throw o}}}pi.nextInstanceID=0;const Mm=pi;class Fm extends Mm{constructor(r){super(r)}}var Bm=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};class Wm{constructor(r,i,o){var a,d,f;this.supabaseUrl=r,this.supabaseKey=i;const p=Jg(r);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,m={db:zg,realtime:Mg,auth:Object.assign(Object.assign({},Ug),{storageKey:g}),global:Dg},v=Kg(o??{},m);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(d=v.global.headers)!==null&&d!==void 0?d:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(k,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=v.auth)!==null&&f!==void 0?f:{},this.headers,v.global.fetch),this.fetch=Hg(i,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new ig(new URL("rest/v1",p).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Ng(this.storageUrl.href,this.headers,this.fetch,o?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Jp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,i={},o={}){return this.rest.rpc(r,i,o)}channel(r,i={config:{}}){return this.realtime.channel(r,i)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,i;return Bm(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:a,userStorage:d,storageKey:f,flowType:p,lock:g,debug:m},v,k){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fm({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),v),storageKey:f,autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:a,userStorage:d,flowType:p,lock:g,debug:m,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Sg(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o?.access_token)})}_handleTokenChanged(r,i,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hm=(u,r,i)=>new Wm(u,r,i);function Vm(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const r=u.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Vm()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qm="https://qsgbnlqthphckokmtygi.supabase.co",Km="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFzZ2JubHF0aHBoY2tva210eWdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1ODg1MzgsImV4cCI6MjA3NDE2NDUzOH0.sxre3gUxN4EJ1AhVPXnQOONcehFfE1MCz8f5vawpqs0",ui=Hm(qm,Km);function Jm({children:u}){const[r,i]=se.useState(null),[o,a]=se.useState(!0),[d,f]=se.useState(null);se.useEffect(()=>{let m=!0;async function v(){try{const E=window.location.hash||"";if(E.startsWith("#")){const O=new URLSearchParams(E.slice(1)),I=O.get("access_token"),R=O.get("refresh_token");if(I&&R){try{await ui.auth.setSession({access_token:I,refresh_token:R})}catch(N){console.warn("Failed to set session from redirect tokens",N)}try{history.replaceState(null,document.title,window.location.pathname+window.location.search)}catch{}}}}catch(E){console.warn("OAuth redirect handling failed",E)}try{const{data:E}=await ui.auth.getSession();if(!m)return;i(E?.session??null)}catch(E){console.warn("Supabase session load failed",E)}finally{a(!1)}}v();const{data:k}=ui.auth.onAuthStateChange((E,O)=>{i(O)});return()=>{m=!1;try{k.subscription?.unsubscribe()}catch{}}},[]);async function p(){try{f(null);const m=await ui.auth.signInWithOAuth({provider:"github",options:{redirectTo:window.location.origin}});m?.error&&f(m.error.message||"Sign in failed")}catch(m){f(String(m?.message||m))}}async function g(){await ui.auth.signOut(),i(null)}return o?w.jsx("div",{children:"Loading..."}):r?w.jsxs("div",{children:[w.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,alignItems:"center"},children:[w.jsxs("div",{style:{fontSize:12,opacity:.8},children:["Signed in as ",r.user?.email]}),w.jsx("button",{onClick:g,style:{padding:"6px 10px",borderRadius:8},children:"Sign out"})]}),u]}):w.jsxs("div",{style:{padding:20},children:[w.jsx("h3",{children:"Sign in with GitHub to continue"}),w.jsx("p",{children:"If you use GitHub Copilot, sign in with the same GitHub account."}),w.jsx("button",{onClick:p,style:{padding:"10px 14px",borderRadius:8},children:"Sign in with GitHub"}),d?w.jsxs("div",{style:{marginTop:12,color:"crimson"},children:[w.jsx("strong",{children:"Sign-in error:"})," ",d,w.jsx("div",{style:{marginTop:8,fontSize:13},children:'If you see "Unsupported provider: provider is not enabled", open your Supabase dashboard → Authentication → Providers and enable GitHub (ensure client ID/secret are set and redirect URL is configured).'})]}):null]})}pp.createRoot(document.getElementById("root")).render(w.jsxs(Bd.StrictMode,{children:[(localStorage.getItem("provider")||localStorage.setItem("provider","azure"),null),(()=>{const u=localStorage.getItem("skip_auth")==="true",r=typeof window<"u"&&window.location.hostname.endsWith("github.io");return u||r?w.jsx(yd,{}):w.jsx(Jm,{children:w.jsx(yd,{})})})()]}));
