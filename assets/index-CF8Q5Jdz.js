(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=i(a);fetch(a.href,d)}})();function na(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function op(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var r=u.default;if(typeof r=="function"){var i=function o(){var a=!1;try{a=this instanceof o}catch{}return a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var a=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return u[o]}})}),i}var Pl={exports:{}},ai={},bl={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc;function lp(){if(Zc)return ce;Zc=1;var u=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),k=Symbol.iterator;function E(_){return _===null||typeof _!="object"?null:(_=k&&_[k]||_["@@iterator"],typeof _=="function"?_:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,A={};function R(_,b,M){this.props=_,this.context=b,this.refs=A,this.updater=M||O}R.prototype.isReactComponent={},R.prototype.setState=function(_,b){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,b,"setState")},R.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function Z(){}Z.prototype=R.prototype;function Y(_,b,M){this.props=_,this.context=b,this.refs=A,this.updater=M||O}var F=Y.prototype=new Z;F.constructor=Y,I(F,R.prototype),F.isPureReactComponent=!0;var W=Array.isArray,ae=Object.prototype.hasOwnProperty,H={current:null},ie={key:!0,ref:!0,__self:!0,__source:!0};function fe(_,b,M){var B,q={},L=null,ue=null;if(b!=null)for(B in b.ref!==void 0&&(ue=b.ref),b.key!==void 0&&(L=""+b.key),b)ae.call(b,B)&&!ie.hasOwnProperty(B)&&(q[B]=b[B]);var ne=arguments.length-2;if(ne===1)q.children=M;else if(1<ne){for(var le=Array(ne),He=0;He<ne;He++)le[He]=arguments[He+2];q.children=le}if(_&&_.defaultProps)for(B in ne=_.defaultProps,ne)q[B]===void 0&&(q[B]=ne[B]);return{$$typeof:u,type:_,key:L,ref:ue,props:q,_owner:H.current}}function Oe(_,b){return{$$typeof:u,type:_.type,key:b,ref:_.ref,props:_.props,_owner:_._owner}}function we(_){return typeof _=="object"&&_!==null&&_.$$typeof===u}function ot(_){var b={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(M){return b[M]})}var me=/\/+/g;function Ue(_,b){return typeof _=="object"&&_!==null&&_.key!=null?ot(""+_.key):b.toString(36)}function Ne(_,b,M,B,q){var L=typeof _;(L==="undefined"||L==="boolean")&&(_=null);var ue=!1;if(_===null)ue=!0;else switch(L){case"string":case"number":ue=!0;break;case"object":switch(_.$$typeof){case u:case r:ue=!0}}if(ue)return ue=_,q=q(ue),_=B===""?"."+Ue(ue,0):B,W(q)?(M="",_!=null&&(M=_.replace(me,"$&/")+"/"),Ne(q,b,M,"",function(He){return He})):q!=null&&(we(q)&&(q=Oe(q,M+(!q.key||ue&&ue.key===q.key?"":(""+q.key).replace(me,"$&/")+"/")+_)),b.push(q)),1;if(ue=0,B=B===""?".":B+":",W(_))for(var ne=0;ne<_.length;ne++){L=_[ne];var le=B+Ue(L,ne);ue+=Ne(L,b,M,le,q)}else if(le=E(_),typeof le=="function")for(_=le.call(_),ne=0;!(L=_.next()).done;)L=L.value,le=B+Ue(L,ne++),ue+=Ne(L,b,M,le,q);else if(L==="object")throw b=String(_),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return ue}function Ce(_,b,M){if(_==null)return _;var B=[],q=0;return Ne(_,B,"","",function(L){return b.call(M,L,q++)}),B}function _e(_){if(_._status===-1){var b=_._result;b=b(),b.then(function(M){(_._status===0||_._status===-1)&&(_._status=1,_._result=M)},function(M){(_._status===0||_._status===-1)&&(_._status=2,_._result=M)}),_._status===-1&&(_._status=0,_._result=b)}if(_._status===1)return _._result.default;throw _._result}var pe={current:null},U={transition:null},X={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:U,ReactCurrentOwner:H};function C(){throw Error("act(...) is not supported in production builds of React.")}return ce.Children={map:Ce,forEach:function(_,b,M){Ce(_,function(){b.apply(this,arguments)},M)},count:function(_){var b=0;return Ce(_,function(){b++}),b},toArray:function(_){return Ce(_,function(b){return b})||[]},only:function(_){if(!we(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},ce.Component=R,ce.Fragment=i,ce.Profiler=a,ce.PureComponent=Y,ce.StrictMode=o,ce.Suspense=g,ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,ce.act=C,ce.cloneElement=function(_,b,M){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var B=I({},_.props),q=_.key,L=_.ref,ue=_._owner;if(b!=null){if(b.ref!==void 0&&(L=b.ref,ue=H.current),b.key!==void 0&&(q=""+b.key),_.type&&_.type.defaultProps)var ne=_.type.defaultProps;for(le in b)ae.call(b,le)&&!ie.hasOwnProperty(le)&&(B[le]=b[le]===void 0&&ne!==void 0?ne[le]:b[le])}var le=arguments.length-2;if(le===1)B.children=M;else if(1<le){ne=Array(le);for(var He=0;He<le;He++)ne[He]=arguments[He+2];B.children=ne}return{$$typeof:u,type:_.type,key:q,ref:L,props:B,_owner:ue}},ce.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:d,_context:_},_.Consumer=_},ce.createElement=fe,ce.createFactory=function(_){var b=fe.bind(null,_);return b.type=_,b},ce.createRef=function(){return{current:null}},ce.forwardRef=function(_){return{$$typeof:p,render:_}},ce.isValidElement=we,ce.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:_e}},ce.memo=function(_,b){return{$$typeof:m,type:_,compare:b===void 0?null:b}},ce.startTransition=function(_){var b=U.transition;U.transition={};try{_()}finally{U.transition=b}},ce.unstable_act=C,ce.useCallback=function(_,b){return pe.current.useCallback(_,b)},ce.useContext=function(_){return pe.current.useContext(_)},ce.useDebugValue=function(){},ce.useDeferredValue=function(_){return pe.current.useDeferredValue(_)},ce.useEffect=function(_,b){return pe.current.useEffect(_,b)},ce.useId=function(){return pe.current.useId()},ce.useImperativeHandle=function(_,b,M){return pe.current.useImperativeHandle(_,b,M)},ce.useInsertionEffect=function(_,b){return pe.current.useInsertionEffect(_,b)},ce.useLayoutEffect=function(_,b){return pe.current.useLayoutEffect(_,b)},ce.useMemo=function(_,b){return pe.current.useMemo(_,b)},ce.useReducer=function(_,b,M){return pe.current.useReducer(_,b,M)},ce.useRef=function(_){return pe.current.useRef(_)},ce.useState=function(_){return pe.current.useState(_)},ce.useSyncExternalStore=function(_,b,M){return pe.current.useSyncExternalStore(_,b,M)},ce.useTransition=function(){return pe.current.useTransition()},ce.version="18.3.1",ce}var ed;function mi(){return ed||(ed=1,bl.exports=lp()),bl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function ap(){if(td)return ai;td=1;var u=mi(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,m){var v,k={},E=null,O=null;m!==void 0&&(E=""+m),g.key!==void 0&&(E=""+g.key),g.ref!==void 0&&(O=g.ref);for(v in g)o.call(g,v)&&!d.hasOwnProperty(v)&&(k[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)k[v]===void 0&&(k[v]=g[v]);return{$$typeof:r,type:p,key:E,ref:O,props:k,_owner:a.current}}return ai.Fragment=i,ai.jsx=f,ai.jsxs=f,ai}var nd;function up(){return nd||(nd=1,Pl.exports=ap()),Pl.exports}var w=up(),re=mi();const Wd=na(re);var Ps={},Ol={exports:{}},st={},Il={exports:{}},Al={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function cp(){return rd||(rd=1,(function(u){function r(U,X){var C=U.length;U.push(X);e:for(;0<C;){var _=C-1>>>1,b=U[_];if(0<a(b,X))U[_]=X,U[C]=b,C=_;else break e}}function i(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var X=U[0],C=U.pop();if(C!==X){U[0]=C;e:for(var _=0,b=U.length,M=b>>>1;_<M;){var B=2*(_+1)-1,q=U[B],L=B+1,ue=U[L];if(0>a(q,C))L<b&&0>a(ue,q)?(U[_]=ue,U[L]=C,_=L):(U[_]=q,U[B]=C,_=B);else if(L<b&&0>a(ue,C))U[_]=ue,U[L]=C,_=L;else break e}}return X}function a(U,X){var C=U.sortIndex-X.sortIndex;return C!==0?C:U.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();u.unstable_now=function(){return f.now()-p}}var g=[],m=[],v=1,k=null,E=3,O=!1,I=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(U){for(var X=i(m);X!==null;){if(X.callback===null)o(m);else if(X.startTime<=U)o(m),X.sortIndex=X.expirationTime,r(g,X);else break;X=i(m)}}function W(U){if(A=!1,F(U),!I)if(i(g)!==null)I=!0,_e(ae);else{var X=i(m);X!==null&&pe(W,X.startTime-U)}}function ae(U,X){I=!1,A&&(A=!1,Z(fe),fe=-1),O=!0;var C=E;try{for(F(X),k=i(g);k!==null&&(!(k.expirationTime>X)||U&&!ot());){var _=k.callback;if(typeof _=="function"){k.callback=null,E=k.priorityLevel;var b=_(k.expirationTime<=X);X=u.unstable_now(),typeof b=="function"?k.callback=b:k===i(g)&&o(g),F(X)}else o(g);k=i(g)}if(k!==null)var M=!0;else{var B=i(m);B!==null&&pe(W,B.startTime-X),M=!1}return M}finally{k=null,E=C,O=!1}}var H=!1,ie=null,fe=-1,Oe=5,we=-1;function ot(){return!(u.unstable_now()-we<Oe)}function me(){if(ie!==null){var U=u.unstable_now();we=U;var X=!0;try{X=ie(!0,U)}finally{X?Ue():(H=!1,ie=null)}}else H=!1}var Ue;if(typeof Y=="function")Ue=function(){Y(me)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Ce=Ne.port2;Ne.port1.onmessage=me,Ue=function(){Ce.postMessage(null)}}else Ue=function(){R(me,0)};function _e(U){ie=U,H||(H=!0,Ue())}function pe(U,X){fe=R(function(){U(u.unstable_now())},X)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(U){U.callback=null},u.unstable_continueExecution=function(){I||O||(I=!0,_e(ae))},u.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Oe=0<U?Math.floor(1e3/U):5},u.unstable_getCurrentPriorityLevel=function(){return E},u.unstable_getFirstCallbackNode=function(){return i(g)},u.unstable_next=function(U){switch(E){case 1:case 2:case 3:var X=3;break;default:X=E}var C=E;E=X;try{return U()}finally{E=C}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var C=E;E=U;try{return X()}finally{E=C}},u.unstable_scheduleCallback=function(U,X,C){var _=u.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?_+C:_):C=_,U){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=C+b,U={id:v++,callback:X,priorityLevel:U,startTime:C,expirationTime:b,sortIndex:-1},C>_?(U.sortIndex=C,r(m,U),i(g)===null&&U===i(m)&&(A?(Z(fe),fe=-1):A=!0,pe(W,C-_))):(U.sortIndex=b,r(g,U),I||O||(I=!0,_e(ae))),U},u.unstable_shouldYield=ot,u.unstable_wrapCallback=function(U){var X=E;return function(){var C=E;E=X;try{return U.apply(this,arguments)}finally{E=C}}}})(Al)),Al}var id;function dp(){return id||(id=1,Il.exports=cp()),Il.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function fp(){if(sd)return st;sd=1;var u=mi(),r=dp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function d(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},k={};function E(e){return g.call(k,e)?!0:g.call(v,e)?!1:m.test(e)?k[e]=!0:(v[e]=!0,!1)}function O(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I(e,t,n,s){if(t===null||typeof t>"u"||O(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function A(e,t,n,s,l,c,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=h}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new A(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new A(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new A(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new A(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new A(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new A(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Z,Y);R[t]=new A(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Z,Y);R[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Z,Y);R[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)});function F(e,t,n,s){var l=R.hasOwnProperty(t)?R[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I(t,n,l,s)&&(n=null),s||l===null?E(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var W=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),H=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),ot=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),U=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var C=Object.assign,_;function b(e){if(_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return`
`+_+e}var M=!1;function B(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var s=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){s=P}e.call(t.prototype)}else{try{throw Error()}catch(P){s=P}e()}}catch(P){if(P&&s&&typeof P.stack=="string"){for(var l=P.stack.split(`
`),c=s.stack.split(`
`),h=l.length-1,y=c.length-1;1<=h&&0<=y&&l[h]!==c[y];)y--;for(;1<=h&&0<=y;h--,y--)if(l[h]!==c[y]){if(h!==1||y!==1)do if(h--,y--,0>y||l[h]!==c[y]){var S=`
`+l[h].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=h&&0<=y);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?b(e):""}function q(e){switch(e.tag){case 5:return b(e.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1),e;case 11:return e=B(e.type.render,!1),e;case 1:return e=B(e.type,!0),e;default:return""}}function L(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case H:return"Portal";case Oe:return"Profiler";case fe:return"StrictMode";case Ue:return"Suspense";case Ne:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ot:return(e.displayName||"Context")+".Consumer";case we:return(e._context.displayName||"Context")+".Provider";case me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ce:return t=e.displayName||null,t!==null?t:L(e.type)||"Memo";case _e:t=e._payload,e=e._init;try{return L(e(t))}catch{}}return null}function ue(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(t);case 8:return t===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ne(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function le(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function He(e){var t=le(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){s=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ve(e){e._valueTracker||(e._valueTracker=He(e))}function lt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=le(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Kt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function at(e,t){var n=t.checked;return C({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Dn(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=ne(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yn(e,t){t=t.checked,t!=null&&F(e,"checked",t,!1)}function xr(e,t){yn(e,t);var n=ne(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wi(e,t.type,n):t.hasOwnProperty("defaultValue")&&wi(e,t.type,ne(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wi(e,t,n){(t!=="number"||Kt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Lt=Array.isArray;function ht(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ne(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ds(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return C({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ua(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(Lt(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ne(n)}}function ca(e,t){var n=ne(t.value),s=ne(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function da(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fa(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _i,ha=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_i=_i||document.createElement("div"),_i.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_i.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cf=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(e){cf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jr[t]=jr[e]})});function pa(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jr.hasOwnProperty(e)&&jr[e]?(""+t).trim():t+"px"}function ga(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=pa(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var df=C({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Us(e,t){if(t){if(df[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Ms(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fs=null;function Bs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ws=null,zn=null,Un=null;function ma(e){if(e=Kr(e)){if(typeof Ws!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Wi(t),Ws(e.stateNode,e.type,t))}}function va(e){zn?Un?Un.push(e):Un=[e]:zn=e}function ya(){if(zn){var e=zn,t=Un;if(Un=zn=null,ma(e),t)for(e=0;e<t.length;e++)ma(t[e])}}function wa(e,t){return e(t)}function _a(){}var Hs=!1;function Sa(e,t,n){if(Hs)return e(t,n);Hs=!0;try{return wa(e,t,n)}finally{Hs=!1,(zn!==null||Un!==null)&&(_a(),ya())}}function Cr(e,t){var n=e.stateNode;if(n===null)return null;var s=Wi(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var Vs=!1;if(p)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Vs=!1}function ff(e,t,n,s,l,c,h,y,S){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch($){this.onError($)}}var Pr=!1,Si=null,ki=!1,qs=null,hf={onError:function(e){Pr=!0,Si=e}};function pf(e,t,n,s,l,c,h,y,S){Pr=!1,Si=null,ff.apply(hf,arguments)}function gf(e,t,n,s,l,c,h,y,S){if(pf.apply(this,arguments),Pr){if(Pr){var P=Si;Pr=!1,Si=null}else throw Error(i(198));ki||(ki=!0,qs=P)}}function wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ka(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xa(e){if(wn(e)!==e)throw Error(i(188))}function mf(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return xa(l),e;if(c===s)return xa(l),t;c=c.sibling}throw Error(i(188))}if(n.return!==s.return)n=l,s=c;else{for(var h=!1,y=l.child;y;){if(y===n){h=!0,n=l,s=c;break}if(y===s){h=!0,s=l,n=c;break}y=y.sibling}if(!h){for(y=c.child;y;){if(y===n){h=!0,n=c,s=l;break}if(y===s){h=!0,s=c,n=l;break}y=y.sibling}if(!h)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function Ea(e){return e=mf(e),e!==null?ja(e):null}function ja(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ja(e);if(t!==null)return t;e=e.sibling}return null}var Ca=r.unstable_scheduleCallback,Ta=r.unstable_cancelCallback,vf=r.unstable_shouldYield,yf=r.unstable_requestPaint,Ie=r.unstable_now,wf=r.unstable_getCurrentPriorityLevel,Ks=r.unstable_ImmediatePriority,Pa=r.unstable_UserBlockingPriority,xi=r.unstable_NormalPriority,_f=r.unstable_LowPriority,ba=r.unstable_IdlePriority,Ei=null,bt=null;function Sf(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Ei,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Ef,kf=Math.log,xf=Math.LN2;function Ef(e){return e>>>=0,e===0?32:31-(kf(e)/xf|0)|0}var ji=64,Ci=4194304;function br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ti(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,c=e.pingedLanes,h=n&268435455;if(h!==0){var y=h&~l;y!==0?s=br(y):(c&=h,c!==0&&(s=br(c)))}else h=n&~l,h!==0?s=br(h):c!==0&&(s=br(c));if(s===0)return 0;if(t!==0&&t!==s&&(t&l)===0&&(l=s&-s,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-_t(t),l=1<<n,s|=e[n],t&=~l;return s}function jf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var h=31-_t(c),y=1<<h,S=l[h];S===-1?((y&n)===0||(y&s)!==0)&&(l[h]=jf(y,t)):S<=t&&(e.expiredLanes|=y),c&=~y}}function Js(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oa(){var e=ji;return ji<<=1,(ji&4194240)===0&&(ji=64),e}function Gs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Or(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function Tf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-_t(n),c=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~c}}function Qs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-_t(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var ye=0;function Ia(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Aa,Ys,Ra,Na,La,Xs=!1,Pi=[],Jt=null,Gt=null,Qt=null,Ir=new Map,Ar=new Map,Yt=[],Pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $a(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Ir.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(t.pointerId)}}function Rr(e,t,n,s,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:c,targetContainers:[l]},t!==null&&(t=Kr(t),t!==null&&Ys(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function bf(e,t,n,s,l){switch(t){case"focusin":return Jt=Rr(Jt,e,t,n,s,l),!0;case"dragenter":return Gt=Rr(Gt,e,t,n,s,l),!0;case"mouseover":return Qt=Rr(Qt,e,t,n,s,l),!0;case"pointerover":var c=l.pointerId;return Ir.set(c,Rr(Ir.get(c)||null,e,t,n,s,l)),!0;case"gotpointercapture":return c=l.pointerId,Ar.set(c,Rr(Ar.get(c)||null,e,t,n,s,l)),!0}return!1}function Da(e){var t=_n(e.target);if(t!==null){var n=wn(t);if(n!==null){if(t=n.tag,t===13){if(t=ka(n),t!==null){e.blockedOn=t,La(e.priority,function(){Ra(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Fs=s,n.target.dispatchEvent(s),Fs=null}else return t=Kr(n),t!==null&&Ys(t),e.blockedOn=n,!1;t.shift()}return!0}function za(e,t,n){bi(e)&&n.delete(t)}function Of(){Xs=!1,Jt!==null&&bi(Jt)&&(Jt=null),Gt!==null&&bi(Gt)&&(Gt=null),Qt!==null&&bi(Qt)&&(Qt=null),Ir.forEach(za),Ar.forEach(za)}function Nr(e,t){e.blockedOn===t&&(e.blockedOn=null,Xs||(Xs=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Of)))}function Lr(e){function t(l){return Nr(l,e)}if(0<Pi.length){Nr(Pi[0],e);for(var n=1;n<Pi.length;n++){var s=Pi[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Jt!==null&&Nr(Jt,e),Gt!==null&&Nr(Gt,e),Qt!==null&&Nr(Qt,e),Ir.forEach(t),Ar.forEach(t),n=0;n<Yt.length;n++)s=Yt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)Da(n),n.blockedOn===null&&Yt.shift()}var Mn=W.ReactCurrentBatchConfig,Oi=!0;function If(e,t,n,s){var l=ye,c=Mn.transition;Mn.transition=null;try{ye=1,Zs(e,t,n,s)}finally{ye=l,Mn.transition=c}}function Af(e,t,n,s){var l=ye,c=Mn.transition;Mn.transition=null;try{ye=4,Zs(e,t,n,s)}finally{ye=l,Mn.transition=c}}function Zs(e,t,n,s){if(Oi){var l=eo(e,t,n,s);if(l===null)yo(e,t,s,Ii,n),$a(e,s);else if(bf(l,e,t,n,s))s.stopPropagation();else if($a(e,s),t&4&&-1<Pf.indexOf(e)){for(;l!==null;){var c=Kr(l);if(c!==null&&Aa(c),c=eo(e,t,n,s),c===null&&yo(e,t,s,Ii,n),c===l)break;l=c}l!==null&&s.stopPropagation()}else yo(e,t,s,null,n)}}var Ii=null;function eo(e,t,n,s){if(Ii=null,e=Bs(s),e=_n(e),e!==null)if(t=wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ka(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ii=e,null}function Ua(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wf()){case Ks:return 1;case Pa:return 4;case xi:case _f:return 16;case ba:return 536870912;default:return 16}default:return 16}}var Xt=null,to=null,Ai=null;function Ma(){if(Ai)return Ai;var e,t=to,n=t.length,s,l="value"in Xt?Xt.value:Xt.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var h=n-e;for(s=1;s<=h&&t[n-s]===l[c-s];s++);return Ai=l.slice(e,1<s?1-s:void 0)}function Ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Fa(){return!1}function ut(e){function t(n,s,l,c,h){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ni:Fa,this.isPropagationStopped=Fa,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=ut(Fn),$r=C({},Fn,{view:0,detail:0}),Rf=ut($r),ro,io,Dr,Li=C({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dr&&(Dr&&e.type==="mousemove"?(ro=e.screenX-Dr.screenX,io=e.screenY-Dr.screenY):io=ro=0,Dr=e),ro)},movementY:function(e){return"movementY"in e?e.movementY:io}}),Ba=ut(Li),Nf=C({},Li,{dataTransfer:0}),Lf=ut(Nf),$f=C({},$r,{relatedTarget:0}),so=ut($f),Df=C({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),zf=ut(Df),Uf=C({},Fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mf=ut(Uf),Ff=C({},Fn,{data:0}),Wa=ut(Ff),Bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hf[e])?!!t[e]:!1}function oo(){return Vf}var qf=C({},$r,{key:function(e){if(e.key){var t=Bf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(e){return e.type==="keypress"?Ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kf=ut(qf),Jf=C({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ha=ut(Jf),Gf=C({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),Qf=ut(Gf),Yf=C({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xf=ut(Yf),Zf=C({},Li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eh=ut(Zf),th=[9,13,27,32],lo=p&&"CompositionEvent"in window,zr=null;p&&"documentMode"in document&&(zr=document.documentMode);var nh=p&&"TextEvent"in window&&!zr,Va=p&&(!lo||zr&&8<zr&&11>=zr),qa=" ",Ka=!1;function Ja(e,t){switch(e){case"keyup":return th.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function rh(e,t){switch(e){case"compositionend":return Ga(t);case"keypress":return t.which!==32?null:(Ka=!0,qa);case"textInput":return e=t.data,e===qa&&Ka?null:e;default:return null}}function ih(e,t){if(Bn)return e==="compositionend"||!lo&&Ja(e,t)?(e=Ma(),Ai=to=Xt=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Va&&t.locale!=="ko"?null:t.data;default:return null}}var sh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sh[e.type]:t==="textarea"}function Ya(e,t,n,s){va(s),t=Mi(t,"onChange"),0<t.length&&(n=new no("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ur=null,Mr=null;function oh(e){gu(e,0)}function $i(e){var t=Kn(e);if(lt(t))return e}function lh(e,t){if(e==="change")return t}var Xa=!1;if(p){var ao;if(p){var uo="oninput"in document;if(!uo){var Za=document.createElement("div");Za.setAttribute("oninput","return;"),uo=typeof Za.oninput=="function"}ao=uo}else ao=!1;Xa=ao&&(!document.documentMode||9<document.documentMode)}function eu(){Ur&&(Ur.detachEvent("onpropertychange",tu),Mr=Ur=null)}function tu(e){if(e.propertyName==="value"&&$i(Mr)){var t=[];Ya(t,Mr,e,Bs(e)),Sa(oh,t)}}function ah(e,t,n){e==="focusin"?(eu(),Ur=t,Mr=n,Ur.attachEvent("onpropertychange",tu)):e==="focusout"&&eu()}function uh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $i(Mr)}function ch(e,t){if(e==="click")return $i(t)}function dh(e,t){if(e==="input"||e==="change")return $i(t)}function fh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:fh;function Fr(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!g.call(t,l)||!St(e[l],t[l]))return!1}return!0}function nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ru(e,t){var n=nu(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nu(n)}}function iu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function su(){for(var e=window,t=Kt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kt(e.document)}return t}function co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hh(e){var t=su(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&iu(n.ownerDocument.documentElement,n)){if(s!==null&&co(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,c=Math.min(s.start,l);s=s.end===void 0?c:Math.min(s.end,l),!e.extend&&c>s&&(l=s,s=c,c=l),l=ru(n,c);var h=ru(n,s);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ph=p&&"documentMode"in document&&11>=document.documentMode,Wn=null,fo=null,Br=null,ho=!1;function ou(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ho||Wn==null||Wn!==Kt(s)||(s=Wn,"selectionStart"in s&&co(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Br&&Fr(Br,s)||(Br=s,s=Mi(fo,"onSelect"),0<s.length&&(t=new no("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Wn)))}function Di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hn={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionend:Di("Transition","TransitionEnd")},po={},lu={};p&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function zi(e){if(po[e])return po[e];if(!Hn[e])return e;var t=Hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lu)return po[e]=t[n];return e}var au=zi("animationend"),uu=zi("animationiteration"),cu=zi("animationstart"),du=zi("transitionend"),fu=new Map,hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){fu.set(e,t),d(t,[e])}for(var go=0;go<hu.length;go++){var mo=hu[go],gh=mo.toLowerCase(),mh=mo[0].toUpperCase()+mo.slice(1);Zt(gh,"on"+mh)}Zt(au,"onAnimationEnd"),Zt(uu,"onAnimationIteration"),Zt(cu,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(du,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function pu(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,gf(s,t,void 0,e),e.currentTarget=null}function gu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var h=s.length-1;0<=h;h--){var y=s[h],S=y.instance,P=y.currentTarget;if(y=y.listener,S!==c&&l.isPropagationStopped())break e;pu(l,y,P),c=S}else for(h=0;h<s.length;h++){if(y=s[h],S=y.instance,P=y.currentTarget,y=y.listener,S!==c&&l.isPropagationStopped())break e;pu(l,y,P),c=S}}}if(ki)throw e=qs,ki=!1,qs=null,e}function xe(e,t){var n=t[Eo];n===void 0&&(n=t[Eo]=new Set);var s=e+"__bubble";n.has(s)||(mu(t,e,2,!1),n.add(s))}function vo(e,t,n){var s=0;t&&(s|=4),mu(n,e,s,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Ui]){e[Ui]=!0,o.forEach(function(n){n!=="selectionchange"&&(vh.has(n)||vo(n,!1,e),vo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ui]||(t[Ui]=!0,vo("selectionchange",!1,t))}}function mu(e,t,n,s){switch(Ua(t)){case 1:var l=If;break;case 4:l=Af;break;default:l=Zs}n=l.bind(null,t,n,e),l=void 0,!Vs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function yo(e,t,n,s,l){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var y=s.stateNode.containerInfo;if(y===l||y.nodeType===8&&y.parentNode===l)break;if(h===4)for(h=s.return;h!==null;){var S=h.tag;if((S===3||S===4)&&(S=h.stateNode.containerInfo,S===l||S.nodeType===8&&S.parentNode===l))return;h=h.return}for(;y!==null;){if(h=_n(y),h===null)return;if(S=h.tag,S===5||S===6){s=c=h;continue e}y=y.parentNode}}s=s.return}Sa(function(){var P=c,$=Bs(n),D=[];e:{var N=fu.get(e);if(N!==void 0){var V=no,J=e;switch(e){case"keypress":if(Ri(n)===0)break e;case"keydown":case"keyup":V=Kf;break;case"focusin":J="focus",V=so;break;case"focusout":J="blur",V=so;break;case"beforeblur":case"afterblur":V=so;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Qf;break;case au:case uu:case cu:V=zf;break;case du:V=Xf;break;case"scroll":V=Rf;break;case"wheel":V=eh;break;case"copy":case"cut":case"paste":V=Mf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Ha}var G=(t&4)!==0,Ae=!G&&e==="scroll",j=G?N!==null?N+"Capture":null:N;G=[];for(var x=P,T;x!==null;){T=x;var z=T.stateNode;if(T.tag===5&&z!==null&&(T=z,j!==null&&(z=Cr(x,j),z!=null&&G.push(Vr(x,z,T)))),Ae)break;x=x.return}0<G.length&&(N=new V(N,J,null,n,$),D.push({event:N,listeners:G}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",N&&n!==Fs&&(J=n.relatedTarget||n.fromElement)&&(_n(J)||J[$t]))break e;if((V||N)&&(N=$.window===$?$:(N=$.ownerDocument)?N.defaultView||N.parentWindow:window,V?(J=n.relatedTarget||n.toElement,V=P,J=J?_n(J):null,J!==null&&(Ae=wn(J),J!==Ae||J.tag!==5&&J.tag!==6)&&(J=null)):(V=null,J=P),V!==J)){if(G=Ba,z="onMouseLeave",j="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(G=Ha,z="onPointerLeave",j="onPointerEnter",x="pointer"),Ae=V==null?N:Kn(V),T=J==null?N:Kn(J),N=new G(z,x+"leave",V,n,$),N.target=Ae,N.relatedTarget=T,z=null,_n($)===P&&(G=new G(j,x+"enter",J,n,$),G.target=T,G.relatedTarget=Ae,z=G),Ae=z,V&&J)t:{for(G=V,j=J,x=0,T=G;T;T=Vn(T))x++;for(T=0,z=j;z;z=Vn(z))T++;for(;0<x-T;)G=Vn(G),x--;for(;0<T-x;)j=Vn(j),T--;for(;x--;){if(G===j||j!==null&&G===j.alternate)break t;G=Vn(G),j=Vn(j)}G=null}else G=null;V!==null&&vu(D,N,V,G,!1),J!==null&&Ae!==null&&vu(D,Ae,J,G,!0)}}e:{if(N=P?Kn(P):window,V=N.nodeName&&N.nodeName.toLowerCase(),V==="select"||V==="input"&&N.type==="file")var Q=lh;else if(Qa(N))if(Xa)Q=dh;else{Q=uh;var ee=ah}else(V=N.nodeName)&&V.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(Q=ch);if(Q&&(Q=Q(e,P))){Ya(D,Q,n,$);break e}ee&&ee(e,N,P),e==="focusout"&&(ee=N._wrapperState)&&ee.controlled&&N.type==="number"&&wi(N,"number",N.value)}switch(ee=P?Kn(P):window,e){case"focusin":(Qa(ee)||ee.contentEditable==="true")&&(Wn=ee,fo=P,Br=null);break;case"focusout":Br=fo=Wn=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,ou(D,n,$);break;case"selectionchange":if(ph)break;case"keydown":case"keyup":ou(D,n,$)}var te;if(lo)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Bn?Ja(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(Va&&n.locale!=="ko"&&(Bn||se!=="onCompositionStart"?se==="onCompositionEnd"&&Bn&&(te=Ma()):(Xt=$,to="value"in Xt?Xt.value:Xt.textContent,Bn=!0)),ee=Mi(P,se),0<ee.length&&(se=new Wa(se,e,null,n,$),D.push({event:se,listeners:ee}),te?se.data=te:(te=Ga(n),te!==null&&(se.data=te)))),(te=nh?rh(e,n):ih(e,n))&&(P=Mi(P,"onBeforeInput"),0<P.length&&($=new Wa("onBeforeInput","beforeinput",null,n,$),D.push({event:$,listeners:P}),$.data=te))}gu(D,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mi(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=Cr(e,n),c!=null&&s.unshift(Vr(e,c,l)),c=Cr(e,t),c!=null&&s.push(Vr(e,c,l))),e=e.return}return s}function Vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vu(e,t,n,s,l){for(var c=t._reactName,h=[];n!==null&&n!==s;){var y=n,S=y.alternate,P=y.stateNode;if(S!==null&&S===s)break;y.tag===5&&P!==null&&(y=P,l?(S=Cr(n,c),S!=null&&h.unshift(Vr(n,S,y))):l||(S=Cr(n,c),S!=null&&h.push(Vr(n,S,y)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var yh=/\r\n?/g,wh=/\u0000|\uFFFD/g;function yu(e){return(typeof e=="string"?e:""+e).replace(yh,`
`).replace(wh,"")}function Fi(e,t,n){if(t=yu(t),yu(e)!==t&&n)throw Error(i(425))}function Bi(){}var wo=null,_o=null;function So(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ko=typeof setTimeout=="function"?setTimeout:void 0,_h=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,Sh=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(e){return wu.resolve(null).then(e).catch(kh)}:ko;function kh(e){setTimeout(function(){throw e})}function xo(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),Lr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);Lr(t)}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _u(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qn=Math.random().toString(36).slice(2),Ot="__reactFiber$"+qn,qr="__reactProps$"+qn,$t="__reactContainer$"+qn,Eo="__reactEvents$"+qn,xh="__reactListeners$"+qn,Eh="__reactHandles$"+qn;function _n(e){var t=e[Ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$t]||n[Ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_u(e);e!==null;){if(n=e[Ot])return n;e=_u(e)}return t}e=n,n=e.parentNode}return null}function Kr(e){return e=e[Ot]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Wi(e){return e[qr]||null}var jo=[],Jn=-1;function tn(e){return{current:e}}function Ee(e){0>Jn||(e.current=jo[Jn],jo[Jn]=null,Jn--)}function Se(e,t){Jn++,jo[Jn]=e.current,e.current=t}var nn={},Ke=tn(nn),et=tn(!1),Sn=nn;function Gn(e,t){var n=e.type.contextTypes;if(!n)return nn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=t[c];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function tt(e){return e=e.childContextTypes,e!=null}function Hi(){Ee(et),Ee(Ke)}function Su(e,t,n){if(Ke.current!==nn)throw Error(i(168));Se(Ke,t),Se(et,n)}function ku(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(i(108,ue(e)||"Unknown",l));return C({},n,s)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,Sn=Ke.current,Se(Ke,e),Se(et,et.current),!0}function xu(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=ku(e,t,Sn),s.__reactInternalMemoizedMergedChildContext=e,Ee(et),Ee(Ke),Se(Ke,e)):Ee(et),Se(et,n)}var Dt=null,qi=!1,Co=!1;function Eu(e){Dt===null?Dt=[e]:Dt.push(e)}function jh(e){qi=!0,Eu(e)}function rn(){if(!Co&&Dt!==null){Co=!0;var e=0,t=ye;try{var n=Dt;for(ye=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Dt=null,qi=!1}catch(l){throw Dt!==null&&(Dt=Dt.slice(e+1)),Ca(Ks,rn),l}finally{ye=t,Co=!1}}return null}var Qn=[],Yn=0,Ki=null,Ji=0,pt=[],gt=0,kn=null,zt=1,Ut="";function xn(e,t){Qn[Yn++]=Ji,Qn[Yn++]=Ki,Ki=e,Ji=t}function ju(e,t,n){pt[gt++]=zt,pt[gt++]=Ut,pt[gt++]=kn,kn=e;var s=zt;e=Ut;var l=32-_t(s)-1;s&=~(1<<l),n+=1;var c=32-_t(t)+l;if(30<c){var h=l-l%5;c=(s&(1<<h)-1).toString(32),s>>=h,l-=h,zt=1<<32-_t(t)+l|n<<l|s,Ut=c+e}else zt=1<<c|n<<l|s,Ut=e}function To(e){e.return!==null&&(xn(e,1),ju(e,1,0))}function Po(e){for(;e===Ki;)Ki=Qn[--Yn],Qn[Yn]=null,Ji=Qn[--Yn],Qn[Yn]=null;for(;e===kn;)kn=pt[--gt],pt[gt]=null,Ut=pt[--gt],pt[gt]=null,zt=pt[--gt],pt[gt]=null}var ct=null,dt=null,je=!1,kt=null;function Cu(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,dt=en(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kn!==null?{id:zt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,dt=null,!0):!1;default:return!1}}function bo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oo(e){if(je){var t=dt;if(t){var n=t;if(!Tu(e,t)){if(bo(e))throw Error(i(418));t=en(n.nextSibling);var s=ct;t&&Tu(e,t)?Cu(s,n):(e.flags=e.flags&-4097|2,je=!1,ct=e)}}else{if(bo(e))throw Error(i(418));e.flags=e.flags&-4097|2,je=!1,ct=e}}}function Pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Gi(e){if(e!==ct)return!1;if(!je)return Pu(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!So(e.type,e.memoizedProps)),t&&(t=dt)){if(bo(e))throw bu(),Error(i(418));for(;t;)Cu(e,t),t=en(t.nextSibling)}if(Pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=en(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ct?en(e.stateNode.nextSibling):null;return!0}function bu(){for(var e=dt;e;)e=en(e.nextSibling)}function Xn(){dt=ct=null,je=!1}function Io(e){kt===null?kt=[e]:kt.push(e)}var Ch=W.ReactCurrentBatchConfig;function Jr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var l=s,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(h){var y=l.refs;h===null?delete y[c]:y[c]=h},t._stringRef=c,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Qi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ou(e){var t=e._init;return t(e._payload)}function Iu(e){function t(j,x){if(e){var T=j.deletions;T===null?(j.deletions=[x],j.flags|=16):T.push(x)}}function n(j,x){if(!e)return null;for(;x!==null;)t(j,x),x=x.sibling;return null}function s(j,x){for(j=new Map;x!==null;)x.key!==null?j.set(x.key,x):j.set(x.index,x),x=x.sibling;return j}function l(j,x){return j=fn(j,x),j.index=0,j.sibling=null,j}function c(j,x,T){return j.index=T,e?(T=j.alternate,T!==null?(T=T.index,T<x?(j.flags|=2,x):T):(j.flags|=2,x)):(j.flags|=1048576,x)}function h(j){return e&&j.alternate===null&&(j.flags|=2),j}function y(j,x,T,z){return x===null||x.tag!==6?(x=kl(T,j.mode,z),x.return=j,x):(x=l(x,T),x.return=j,x)}function S(j,x,T,z){var Q=T.type;return Q===ie?$(j,x,T.props.children,z,T.key):x!==null&&(x.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===_e&&Ou(Q)===x.type)?(z=l(x,T.props),z.ref=Jr(j,x,T),z.return=j,z):(z=_s(T.type,T.key,T.props,null,j.mode,z),z.ref=Jr(j,x,T),z.return=j,z)}function P(j,x,T,z){return x===null||x.tag!==4||x.stateNode.containerInfo!==T.containerInfo||x.stateNode.implementation!==T.implementation?(x=xl(T,j.mode,z),x.return=j,x):(x=l(x,T.children||[]),x.return=j,x)}function $(j,x,T,z,Q){return x===null||x.tag!==7?(x=In(T,j.mode,z,Q),x.return=j,x):(x=l(x,T),x.return=j,x)}function D(j,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return x=kl(""+x,j.mode,T),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ae:return T=_s(x.type,x.key,x.props,null,j.mode,T),T.ref=Jr(j,null,x),T.return=j,T;case H:return x=xl(x,j.mode,T),x.return=j,x;case _e:var z=x._init;return D(j,z(x._payload),T)}if(Lt(x)||X(x))return x=In(x,j.mode,T,null),x.return=j,x;Qi(j,x)}return null}function N(j,x,T,z){var Q=x!==null?x.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return Q!==null?null:y(j,x,""+T,z);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ae:return T.key===Q?S(j,x,T,z):null;case H:return T.key===Q?P(j,x,T,z):null;case _e:return Q=T._init,N(j,x,Q(T._payload),z)}if(Lt(T)||X(T))return Q!==null?null:$(j,x,T,z,null);Qi(j,T)}return null}function V(j,x,T,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number")return j=j.get(T)||null,y(x,j,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ae:return j=j.get(z.key===null?T:z.key)||null,S(x,j,z,Q);case H:return j=j.get(z.key===null?T:z.key)||null,P(x,j,z,Q);case _e:var ee=z._init;return V(j,x,T,ee(z._payload),Q)}if(Lt(z)||X(z))return j=j.get(T)||null,$(x,j,z,Q,null);Qi(x,z)}return null}function J(j,x,T,z){for(var Q=null,ee=null,te=x,se=x=0,Be=null;te!==null&&se<T.length;se++){te.index>se?(Be=te,te=null):Be=te.sibling;var ge=N(j,te,T[se],z);if(ge===null){te===null&&(te=Be);break}e&&te&&ge.alternate===null&&t(j,te),x=c(ge,x,se),ee===null?Q=ge:ee.sibling=ge,ee=ge,te=Be}if(se===T.length)return n(j,te),je&&xn(j,se),Q;if(te===null){for(;se<T.length;se++)te=D(j,T[se],z),te!==null&&(x=c(te,x,se),ee===null?Q=te:ee.sibling=te,ee=te);return je&&xn(j,se),Q}for(te=s(j,te);se<T.length;se++)Be=V(te,j,se,T[se],z),Be!==null&&(e&&Be.alternate!==null&&te.delete(Be.key===null?se:Be.key),x=c(Be,x,se),ee===null?Q=Be:ee.sibling=Be,ee=Be);return e&&te.forEach(function(hn){return t(j,hn)}),je&&xn(j,se),Q}function G(j,x,T,z){var Q=X(T);if(typeof Q!="function")throw Error(i(150));if(T=Q.call(T),T==null)throw Error(i(151));for(var ee=Q=null,te=x,se=x=0,Be=null,ge=T.next();te!==null&&!ge.done;se++,ge=T.next()){te.index>se?(Be=te,te=null):Be=te.sibling;var hn=N(j,te,ge.value,z);if(hn===null){te===null&&(te=Be);break}e&&te&&hn.alternate===null&&t(j,te),x=c(hn,x,se),ee===null?Q=hn:ee.sibling=hn,ee=hn,te=Be}if(ge.done)return n(j,te),je&&xn(j,se),Q;if(te===null){for(;!ge.done;se++,ge=T.next())ge=D(j,ge.value,z),ge!==null&&(x=c(ge,x,se),ee===null?Q=ge:ee.sibling=ge,ee=ge);return je&&xn(j,se),Q}for(te=s(j,te);!ge.done;se++,ge=T.next())ge=V(te,j,se,ge.value,z),ge!==null&&(e&&ge.alternate!==null&&te.delete(ge.key===null?se:ge.key),x=c(ge,x,se),ee===null?Q=ge:ee.sibling=ge,ee=ge);return e&&te.forEach(function(sp){return t(j,sp)}),je&&xn(j,se),Q}function Ae(j,x,T,z){if(typeof T=="object"&&T!==null&&T.type===ie&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ae:e:{for(var Q=T.key,ee=x;ee!==null;){if(ee.key===Q){if(Q=T.type,Q===ie){if(ee.tag===7){n(j,ee.sibling),x=l(ee,T.props.children),x.return=j,j=x;break e}}else if(ee.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===_e&&Ou(Q)===ee.type){n(j,ee.sibling),x=l(ee,T.props),x.ref=Jr(j,ee,T),x.return=j,j=x;break e}n(j,ee);break}else t(j,ee);ee=ee.sibling}T.type===ie?(x=In(T.props.children,j.mode,z,T.key),x.return=j,j=x):(z=_s(T.type,T.key,T.props,null,j.mode,z),z.ref=Jr(j,x,T),z.return=j,j=z)}return h(j);case H:e:{for(ee=T.key;x!==null;){if(x.key===ee)if(x.tag===4&&x.stateNode.containerInfo===T.containerInfo&&x.stateNode.implementation===T.implementation){n(j,x.sibling),x=l(x,T.children||[]),x.return=j,j=x;break e}else{n(j,x);break}else t(j,x);x=x.sibling}x=xl(T,j.mode,z),x.return=j,j=x}return h(j);case _e:return ee=T._init,Ae(j,x,ee(T._payload),z)}if(Lt(T))return J(j,x,T,z);if(X(T))return G(j,x,T,z);Qi(j,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,x!==null&&x.tag===6?(n(j,x.sibling),x=l(x,T),x.return=j,j=x):(n(j,x),x=kl(T,j.mode,z),x.return=j,j=x),h(j)):n(j,x)}return Ae}var Zn=Iu(!0),Au=Iu(!1),Yi=tn(null),Xi=null,er=null,Ao=null;function Ro(){Ao=er=Xi=null}function No(e){var t=Yi.current;Ee(Yi),e._currentValue=t}function Lo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function tr(e,t){Xi=e,Ao=er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(nt=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},er===null){if(Xi===null)throw Error(i(308));er=e,Xi.dependencies={lanes:0,firstContext:e}}else er=er.next=e;return t}var En=null;function $o(e){En===null?En=[e]:En.push(e)}function Ru(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,$o(t)):(n.next=l.next,l.next=n),t.interleaved=n,Mt(e,s)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function on(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(he&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Mt(e,n)}return l=s.interleaved,l===null?(t.next=t,$o(s)):(t.next=l.next,l.next=t),s.interleaved=t,Mt(e,n)}function Zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Qs(e,n)}}function Lu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function es(e,t,n,s){var l=e.updateQueue;sn=!1;var c=l.firstBaseUpdate,h=l.lastBaseUpdate,y=l.shared.pending;if(y!==null){l.shared.pending=null;var S=y,P=S.next;S.next=null,h===null?c=P:h.next=P,h=S;var $=e.alternate;$!==null&&($=$.updateQueue,y=$.lastBaseUpdate,y!==h&&(y===null?$.firstBaseUpdate=P:y.next=P,$.lastBaseUpdate=S))}if(c!==null){var D=l.baseState;h=0,$=P=S=null,y=c;do{var N=y.lane,V=y.eventTime;if((s&N)===N){$!==null&&($=$.next={eventTime:V,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var J=e,G=y;switch(N=t,V=n,G.tag){case 1:if(J=G.payload,typeof J=="function"){D=J.call(V,D,N);break e}D=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=G.payload,N=typeof J=="function"?J.call(V,D,N):J,N==null)break e;D=C({},D,N);break e;case 2:sn=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,N=l.effects,N===null?l.effects=[y]:N.push(y))}else V={eventTime:V,lane:N,tag:y.tag,payload:y.payload,callback:y.callback,next:null},$===null?(P=$=V,S=D):$=$.next=V,h|=N;if(y=y.next,y===null){if(y=l.shared.pending,y===null)break;N=y,y=N.next,N.next=null,l.lastBaseUpdate=N,l.shared.pending=null}}while(!0);if($===null&&(S=D),l.baseState=S,l.firstBaseUpdate=P,l.lastBaseUpdate=$,t=l.shared.interleaved,t!==null){l=t;do h|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);Tn|=h,e.lanes=h,e.memoizedState=D}}function $u(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(i(191,l));l.call(s)}}}var Gr={},It=tn(Gr),Qr=tn(Gr),Yr=tn(Gr);function jn(e){if(e===Gr)throw Error(i(174));return e}function zo(e,t){switch(Se(Yr,t),Se(Qr,e),Se(It,Gr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zs(t,e)}Ee(It),Se(It,t)}function nr(){Ee(It),Ee(Qr),Ee(Yr)}function Du(e){jn(Yr.current);var t=jn(It.current),n=zs(t,e.type);t!==n&&(Se(Qr,e),Se(It,n))}function Uo(e){Qr.current===e&&(Ee(It),Ee(Qr))}var Te=tn(0);function ts(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=[];function Fo(){for(var e=0;e<Mo.length;e++)Mo[e]._workInProgressVersionPrimary=null;Mo.length=0}var ns=W.ReactCurrentDispatcher,Bo=W.ReactCurrentBatchConfig,Cn=0,Pe=null,Le=null,Me=null,rs=!1,Xr=!1,Zr=0,Th=0;function Je(){throw Error(i(321))}function Wo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function Ho(e,t,n,s,l,c){if(Cn=c,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ns.current=e===null||e.memoizedState===null?Ih:Ah,e=n(s,l),Xr){c=0;do{if(Xr=!1,Zr=0,25<=c)throw Error(i(301));c+=1,Me=Le=null,t.updateQueue=null,ns.current=Rh,e=n(s,l)}while(Xr)}if(ns.current=os,t=Le!==null&&Le.next!==null,Cn=0,Me=Le=Pe=null,rs=!1,t)throw Error(i(300));return e}function Vo(){var e=Zr!==0;return Zr=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Pe.memoizedState=Me=e:Me=Me.next=e,Me}function vt(){if(Le===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Me===null?Pe.memoizedState:Me.next;if(t!==null)Me=t,Le=e;else{if(e===null)throw Error(i(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Me===null?Pe.memoizedState=Me=e:Me=Me.next=e}return Me}function ei(e,t){return typeof t=="function"?t(e):t}function qo(e){var t=vt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=Le,l=s.baseQueue,c=n.pending;if(c!==null){if(l!==null){var h=l.next;l.next=c.next,c.next=h}s.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,s=s.baseState;var y=h=null,S=null,P=c;do{var $=P.lane;if((Cn&$)===$)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),s=P.hasEagerState?P.eagerState:e(s,P.action);else{var D={lane:$,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(y=S=D,h=s):S=S.next=D,Pe.lanes|=$,Tn|=$}P=P.next}while(P!==null&&P!==c);S===null?h=s:S.next=y,St(s,t.memoizedState)||(nt=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=S,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do c=l.lane,Pe.lanes|=c,Tn|=c,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ko(e){var t=vt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var h=l=l.next;do c=e(c,h.action),h=h.next;while(h!==l);St(c,t.memoizedState)||(nt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,s]}function zu(){}function Uu(e,t){var n=Pe,s=vt(),l=t(),c=!St(s.memoizedState,l);if(c&&(s.memoizedState=l,nt=!0),s=s.queue,Jo(Bu.bind(null,n,s,e),[e]),s.getSnapshot!==t||c||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,ti(9,Fu.bind(null,n,s,l,t),void 0,null),Fe===null)throw Error(i(349));(Cn&30)!==0||Mu(n,t,l)}return l}function Mu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fu(e,t,n,s){t.value=n,t.getSnapshot=s,Wu(t)&&Hu(e)}function Bu(e,t,n){return n(function(){Wu(t)&&Hu(e)})}function Wu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function Hu(e){var t=Mt(e,1);t!==null&&Ct(t,e,1,-1)}function Vu(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},t.queue=e,e=e.dispatch=Oh.bind(null,Pe,e),[t.memoizedState,e]}function ti(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function qu(){return vt().memoizedState}function is(e,t,n,s){var l=At();Pe.flags|=e,l.memoizedState=ti(1|t,n,void 0,s===void 0?null:s)}function ss(e,t,n,s){var l=vt();s=s===void 0?null:s;var c=void 0;if(Le!==null){var h=Le.memoizedState;if(c=h.destroy,s!==null&&Wo(s,h.deps)){l.memoizedState=ti(t,n,c,s);return}}Pe.flags|=e,l.memoizedState=ti(1|t,n,c,s)}function Ku(e,t){return is(8390656,8,e,t)}function Jo(e,t){return ss(2048,8,e,t)}function Ju(e,t){return ss(4,2,e,t)}function Gu(e,t){return ss(4,4,e,t)}function Qu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yu(e,t,n){return n=n!=null?n.concat([e]):null,ss(4,4,Qu.bind(null,t,e),n)}function Go(){}function Xu(e,t){var n=vt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Wo(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Zu(e,t){var n=vt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Wo(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function ec(e,t,n){return(Cn&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n):(St(n,t)||(n=Oa(),Pe.lanes|=n,Tn|=n,e.baseState=!0),t)}function Ph(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var s=Bo.transition;Bo.transition={};try{e(!1),t()}finally{ye=n,Bo.transition=s}}function tc(){return vt().memoizedState}function bh(e,t,n){var s=cn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},nc(e))rc(t,n);else if(n=Ru(e,t,n,s),n!==null){var l=Xe();Ct(n,e,s,l),ic(n,t,s)}}function Oh(e,t,n){var s=cn(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(nc(e))rc(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,y=c(h,n);if(l.hasEagerState=!0,l.eagerState=y,St(y,h)){var S=t.interleaved;S===null?(l.next=l,$o(t)):(l.next=S.next,S.next=l),t.interleaved=l;return}}catch{}finally{}n=Ru(e,t,l,s),n!==null&&(l=Xe(),Ct(n,e,s,l),ic(n,t,s))}}function nc(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function rc(e,t){Xr=rs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ic(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Qs(e,n)}}var os={readContext:mt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Ih={readContext:mt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Ku,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,is(4194308,4,Qu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return is(4194308,4,e,t)},useInsertionEffect:function(e,t){return is(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=At();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=bh.bind(null,Pe,e),[s.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:Vu,useDebugValue:Go,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=Vu(!1),t=e[0];return e=Ph.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Pe,l=At();if(je){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Fe===null)throw Error(i(349));(Cn&30)!==0||Mu(s,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,Ku(Bu.bind(null,s,c,e),[e]),s.flags|=2048,ti(9,Fu.bind(null,s,c,n,t),void 0,null),n},useId:function(){var e=At(),t=Fe.identifierPrefix;if(je){var n=Ut,s=zt;n=(s&~(1<<32-_t(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Th++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ah={readContext:mt,useCallback:Xu,useContext:mt,useEffect:Jo,useImperativeHandle:Yu,useInsertionEffect:Ju,useLayoutEffect:Gu,useMemo:Zu,useReducer:qo,useRef:qu,useState:function(){return qo(ei)},useDebugValue:Go,useDeferredValue:function(e){var t=vt();return ec(t,Le.memoizedState,e)},useTransition:function(){var e=qo(ei)[0],t=vt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Uu,useId:tc,unstable_isNewReconciler:!1},Rh={readContext:mt,useCallback:Xu,useContext:mt,useEffect:Jo,useImperativeHandle:Yu,useInsertionEffect:Ju,useLayoutEffect:Gu,useMemo:Zu,useReducer:Ko,useRef:qu,useState:function(){return Ko(ei)},useDebugValue:Go,useDeferredValue:function(e){var t=vt();return Le===null?t.memoizedState=e:ec(t,Le.memoizedState,e)},useTransition:function(){var e=Ko(ei)[0],t=vt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Uu,useId:tc,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=C({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:C({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ls={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Xe(),l=cn(e),c=Ft(s,l);c.payload=t,n!=null&&(c.callback=n),t=on(e,c,l),t!==null&&(Ct(t,e,l,s),Zi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Xe(),l=cn(e),c=Ft(s,l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=on(e,c,l),t!==null&&(Ct(t,e,l,s),Zi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),s=cn(e),l=Ft(n,s);l.tag=2,t!=null&&(l.callback=t),t=on(e,l,s),t!==null&&(Ct(t,e,s,n),Zi(t,e,s))}};function sc(e,t,n,s,l,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,h):t.prototype&&t.prototype.isPureReactComponent?!Fr(n,s)||!Fr(l,c):!0}function oc(e,t,n){var s=!1,l=nn,c=t.contextType;return typeof c=="object"&&c!==null?c=mt(c):(l=tt(t)?Sn:Ke.current,s=t.contextTypes,c=(s=s!=null)?Gn(e,l):nn),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ls,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function lc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ls.enqueueReplaceState(t,t.state,null)}function Yo(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Do(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=mt(c):(c=tt(t)?Sn:Ke.current,l.context=Gn(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Qo(e,t,c,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ls.enqueueReplaceState(l,l.state,null),es(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function rr(e,t){try{var n="",s=t;do n+=q(s),s=s.return;while(s);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function Xo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Nh=typeof WeakMap=="function"?WeakMap:Map;function ac(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){ps||(ps=!0,pl=s),Zo(e,t)},n}function uc(e,t,n){n=Ft(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){Zo(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){Zo(e,t),typeof s!="function"&&(an===null?an=new Set([this]):an.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function cc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Nh;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Jh.bind(null,e,t,n),t.then(e,e))}function dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fc(e,t,n,s,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,on(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Lh=W.ReactCurrentOwner,nt=!1;function Ye(e,t,n,s){t.child=e===null?Au(t,null,n,s):Zn(t,e.child,n,s)}function hc(e,t,n,s,l){n=n.render;var c=t.ref;return tr(t,l),s=Ho(e,t,n,s,c,l),n=Vo(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Bt(e,t,l)):(je&&n&&To(t),t.flags|=1,Ye(e,t,s,l),t.child)}function pc(e,t,n,s,l){if(e===null){var c=n.type;return typeof c=="function"&&!Sl(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,gc(e,t,c,s,l)):(e=_s(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&l)===0){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:Fr,n(h,s)&&e.ref===t.ref)return Bt(e,t,l)}return t.flags|=1,e=fn(c,s),e.ref=t.ref,e.return=t,t.child=e}function gc(e,t,n,s,l){if(e!==null){var c=e.memoizedProps;if(Fr(c,s)&&e.ref===t.ref)if(nt=!1,t.pendingProps=s=c,(e.lanes&l)!==0)(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Bt(e,t,l)}return el(e,t,n,s,l)}function mc(e,t,n){var s=t.pendingProps,l=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(sr,ft),ft|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(sr,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=c!==null?c.baseLanes:n,Se(sr,ft),ft|=s}else c!==null?(s=c.baseLanes|n,t.memoizedState=null):s=n,Se(sr,ft),ft|=s;return Ye(e,t,l,n),t.child}function vc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function el(e,t,n,s,l){var c=tt(n)?Sn:Ke.current;return c=Gn(t,c),tr(t,l),n=Ho(e,t,n,s,c,l),s=Vo(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Bt(e,t,l)):(je&&s&&To(t),t.flags|=1,Ye(e,t,n,l),t.child)}function yc(e,t,n,s,l){if(tt(n)){var c=!0;Vi(t)}else c=!1;if(tr(t,l),t.stateNode===null)us(e,t),oc(t,n,s),Yo(t,n,s,l),s=!0;else if(e===null){var h=t.stateNode,y=t.memoizedProps;h.props=y;var S=h.context,P=n.contextType;typeof P=="object"&&P!==null?P=mt(P):(P=tt(n)?Sn:Ke.current,P=Gn(t,P));var $=n.getDerivedStateFromProps,D=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function";D||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==s||S!==P)&&lc(t,h,s,P),sn=!1;var N=t.memoizedState;h.state=N,es(t,s,h,l),S=t.memoizedState,y!==s||N!==S||et.current||sn?(typeof $=="function"&&(Qo(t,n,$,s),S=t.memoizedState),(y=sn||sc(t,n,y,s,N,S,P))?(D||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=S),h.props=s,h.state=S,h.context=P,s=y):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Nu(e,t),y=t.memoizedProps,P=t.type===t.elementType?y:xt(t.type,y),h.props=P,D=t.pendingProps,N=h.context,S=n.contextType,typeof S=="object"&&S!==null?S=mt(S):(S=tt(n)?Sn:Ke.current,S=Gn(t,S));var V=n.getDerivedStateFromProps;($=typeof V=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==D||N!==S)&&lc(t,h,s,S),sn=!1,N=t.memoizedState,h.state=N,es(t,s,h,l);var J=t.memoizedState;y!==D||N!==J||et.current||sn?(typeof V=="function"&&(Qo(t,n,V,s),J=t.memoizedState),(P=sn||sc(t,n,P,s,N,J,S)||!1)?($||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,J,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,J,S)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=J),h.props=s,h.state=J,h.context=S,s=P):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),s=!1)}return tl(e,t,n,s,c,l)}function tl(e,t,n,s,l,c){vc(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return l&&xu(t,n,!1),Bt(e,t,c);s=t.stateNode,Lh.current=t;var y=h&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=Zn(t,e.child,null,c),t.child=Zn(t,null,y,c)):Ye(e,t,y,c),t.memoizedState=s.state,l&&xu(t,n,!0),t.child}function wc(e){var t=e.stateNode;t.pendingContext?Su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Su(e,t.context,!1),zo(e,t.containerInfo)}function _c(e,t,n,s,l){return Xn(),Io(l),t.flags|=256,Ye(e,t,n,s),t.child}var nl={dehydrated:null,treeContext:null,retryLane:0};function rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sc(e,t,n){var s=t.pendingProps,l=Te.current,c=!1,h=(t.flags&128)!==0,y;if((y=h)||(y=e!==null&&e.memoizedState===null?!1:(l&2)!==0),y?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Se(Te,l&1),e===null)return Oo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=s.children,e=s.fallback,c?(s=t.mode,c=t.child,h={mode:"hidden",children:h},(s&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=h):c=Ss(h,s,0,null),e=In(e,s,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=rl(n),t.memoizedState=nl,e):il(t,h));if(l=e.memoizedState,l!==null&&(y=l.dehydrated,y!==null))return $h(e,t,h,s,y,l,n);if(c){c=s.fallback,h=t.mode,l=e.child,y=l.sibling;var S={mode:"hidden",children:s.children};return(h&1)===0&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=S,t.deletions=null):(s=fn(l,S),s.subtreeFlags=l.subtreeFlags&14680064),y!==null?c=fn(y,c):(c=In(c,h,n,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,h=e.child.memoizedState,h=h===null?rl(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=e.childLanes&~n,t.memoizedState=nl,s}return c=e.child,e=c.sibling,s=fn(c,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function il(e,t){return t=Ss({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function as(e,t,n,s){return s!==null&&Io(s),Zn(t,e.child,null,n),e=il(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $h(e,t,n,s,l,c,h){if(n)return t.flags&256?(t.flags&=-257,s=Xo(Error(i(422))),as(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=s.fallback,l=t.mode,s=Ss({mode:"visible",children:s.children},l,0,null),c=In(c,l,h,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,(t.mode&1)!==0&&Zn(t,e.child,null,h),t.child.memoizedState=rl(h),t.memoizedState=nl,c);if((t.mode&1)===0)return as(e,t,h,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var y=s.dgst;return s=y,c=Error(i(419)),s=Xo(c,s,void 0),as(e,t,h,s)}if(y=(h&e.childLanes)!==0,nt||y){if(s=Fe,s!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|h))!==0?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,Mt(e,l),Ct(s,e,l,-1))}return _l(),s=Xo(Error(i(421))),as(e,t,h,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Gh.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,dt=en(l.nextSibling),ct=t,je=!0,kt=null,e!==null&&(pt[gt++]=zt,pt[gt++]=Ut,pt[gt++]=kn,zt=e.id,Ut=e.overflow,kn=t),t=il(t,s.children),t.flags|=4096,t)}function kc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Lo(e.return,t,n)}function sl(e,t,n,s,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=n,c.tailMode=l)}function xc(e,t,n){var s=t.pendingProps,l=s.revealOrder,c=s.tail;if(Ye(e,t,s.children,n),s=Te.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kc(e,n,t);else if(e.tag===19)kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Se(Te,s),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&ts(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),sl(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ts(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}sl(t,!0,n,null,c);break;case"together":sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function us(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dh(e,t,n){switch(t.tag){case 3:wc(t),Xn();break;case 5:Du(t);break;case 1:tt(t.type)&&Vi(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;Se(Yi,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Se(Te,Te.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Sc(e,t,n):(Se(Te,Te.current&1),e=Bt(e,t,n),e!==null?e.sibling:null);Se(Te,Te.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return xc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Se(Te,Te.current),s)break;return null;case 22:case 23:return t.lanes=0,mc(e,t,n)}return Bt(e,t,n)}var Ec,ol,jc,Cc;Ec=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ol=function(){},jc=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,jn(It.current);var c=null;switch(n){case"input":l=at(e,l),s=at(e,s),c=[];break;case"select":l=C({},l,{value:void 0}),s=C({},s,{value:void 0}),c=[];break;case"textarea":l=Ds(e,l),s=Ds(e,s),c=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Bi)}Us(n,s);var h;n=null;for(P in l)if(!s.hasOwnProperty(P)&&l.hasOwnProperty(P)&&l[P]!=null)if(P==="style"){var y=l[P];for(h in y)y.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(a.hasOwnProperty(P)?c||(c=[]):(c=c||[]).push(P,null));for(P in s){var S=s[P];if(y=l?.[P],s.hasOwnProperty(P)&&S!==y&&(S!=null||y!=null))if(P==="style")if(y){for(h in y)!y.hasOwnProperty(h)||S&&S.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in S)S.hasOwnProperty(h)&&y[h]!==S[h]&&(n||(n={}),n[h]=S[h])}else n||(c||(c=[]),c.push(P,n)),n=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,y=y?y.__html:void 0,S!=null&&y!==S&&(c=c||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(c=c||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(a.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&xe("scroll",e),c||y===S||(c=[])):(c=c||[]).push(P,S))}n&&(c=c||[]).push("style",n);var P=c;(t.updateQueue=P)&&(t.flags|=4)}},Cc=function(e,t,n,s){n!==s&&(t.flags|=4)};function ni(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function zh(e,t,n){var s=t.pendingProps;switch(Po(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return tt(t.type)&&Hi(),Ge(t),null;case 3:return s=t.stateNode,nr(),Ee(et),Ee(Ke),Fo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,kt!==null&&(vl(kt),kt=null))),ol(e,t),Ge(t),null;case 5:Uo(t);var l=jn(Yr.current);if(n=t.type,e!==null&&t.stateNode!=null)jc(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Ge(t),null}if(e=jn(It.current),Gi(t)){s=t.stateNode,n=t.type;var c=t.memoizedProps;switch(s[Ot]=t,s[qr]=c,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",s),xe("close",s);break;case"iframe":case"object":case"embed":xe("load",s);break;case"video":case"audio":for(l=0;l<Wr.length;l++)xe(Wr[l],s);break;case"source":xe("error",s);break;case"img":case"image":case"link":xe("error",s),xe("load",s);break;case"details":xe("toggle",s);break;case"input":Dn(s,c),xe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},xe("invalid",s);break;case"textarea":ua(s,c),xe("invalid",s)}Us(n,c),l=null;for(var h in c)if(c.hasOwnProperty(h)){var y=c[h];h==="children"?typeof y=="string"?s.textContent!==y&&(c.suppressHydrationWarning!==!0&&Fi(s.textContent,y,e),l=["children",y]):typeof y=="number"&&s.textContent!==""+y&&(c.suppressHydrationWarning!==!0&&Fi(s.textContent,y,e),l=["children",""+y]):a.hasOwnProperty(h)&&y!=null&&h==="onScroll"&&xe("scroll",s)}switch(n){case"input":ve(s),yi(s,c,!0);break;case"textarea":ve(s),da(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=Bi)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fa(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(n,{is:s.is}):(e=h.createElement(n),n==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,n),e[Ot]=t,e[qr]=s,Ec(e,t,!1,!1),t.stateNode=e;e:{switch(h=Ms(n,s),n){case"dialog":xe("cancel",e),xe("close",e),l=s;break;case"iframe":case"object":case"embed":xe("load",e),l=s;break;case"video":case"audio":for(l=0;l<Wr.length;l++)xe(Wr[l],e);l=s;break;case"source":xe("error",e),l=s;break;case"img":case"image":case"link":xe("error",e),xe("load",e),l=s;break;case"details":xe("toggle",e),l=s;break;case"input":Dn(e,s),l=at(e,s),xe("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=C({},s,{value:void 0}),xe("invalid",e);break;case"textarea":ua(e,s),l=Ds(e,s),xe("invalid",e);break;default:l=s}Us(n,l),y=l;for(c in y)if(y.hasOwnProperty(c)){var S=y[c];c==="style"?ga(e,S):c==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&ha(e,S)):c==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&Er(e,S):typeof S=="number"&&Er(e,""+S):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(a.hasOwnProperty(c)?S!=null&&c==="onScroll"&&xe("scroll",e):S!=null&&F(e,c,S,h))}switch(n){case"input":ve(e),yi(e,s,!1);break;case"textarea":ve(e),da(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ne(s.value));break;case"select":e.multiple=!!s.multiple,c=s.value,c!=null?ht(e,!!s.multiple,c,!1):s.defaultValue!=null&&ht(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Bi)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)Cc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(n=jn(Yr.current),jn(It.current),Gi(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ot]=t,(c=s.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:Fi(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fi(s.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ot]=t,t.stateNode=s}return Ge(t),null;case 13:if(Ee(Te),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)bu(),Xn(),t.flags|=98560,c=!1;else if(c=Gi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[Ot]=t}else Xn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),c=!1}else kt!==null&&(vl(kt),kt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Te.current&1)!==0?$e===0&&($e=3):_l())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return nr(),ol(e,t),e===null&&Hr(t.stateNode.containerInfo),Ge(t),null;case 10:return No(t.type._context),Ge(t),null;case 17:return tt(t.type)&&Hi(),Ge(t),null;case 19:if(Ee(Te),c=t.memoizedState,c===null)return Ge(t),null;if(s=(t.flags&128)!==0,h=c.rendering,h===null)if(s)ni(c,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=ts(e),h!==null){for(t.flags|=128,ni(c,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)c=n,e=s,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,e=h.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Te,Te.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ie()>or&&(t.flags|=128,s=!0,ni(c,!1),t.lanes=4194304)}else{if(!s)if(e=ts(h),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ni(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!je)return Ge(t),null}else 2*Ie()-c.renderingStartTime>or&&n!==1073741824&&(t.flags|=128,s=!0,ni(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(n=c.last,n!==null?n.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ie(),t.sibling=null,n=Te.current,Se(Te,s?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return wl(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(ft&1073741824)!==0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Uh(e,t){switch(Po(t),t.tag){case 1:return tt(t.type)&&Hi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nr(),Ee(et),Ee(Ke),Fo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Uo(t),null;case 13:if(Ee(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Te),null;case 4:return nr(),null;case 10:return No(t.type._context),null;case 22:case 23:return wl(),null;case 24:return null;default:return null}}var cs=!1,Qe=!1,Mh=typeof WeakSet=="function"?WeakSet:Set,K=null;function ir(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){be(e,t,s)}else n.current=null}function ll(e,t,n){try{n()}catch(s){be(e,t,s)}}var Tc=!1;function Fh(e,t){if(wo=Oi,e=su(),co(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,y=-1,S=-1,P=0,$=0,D=e,N=null;t:for(;;){for(var V;D!==n||l!==0&&D.nodeType!==3||(y=h+l),D!==c||s!==0&&D.nodeType!==3||(S=h+s),D.nodeType===3&&(h+=D.nodeValue.length),(V=D.firstChild)!==null;)N=D,D=V;for(;;){if(D===e)break t;if(N===n&&++P===l&&(y=h),N===c&&++$===s&&(S=h),(V=D.nextSibling)!==null)break;D=N,N=D.parentNode}D=V}n=y===-1||S===-1?null:{start:y,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(_o={focusedElem:e,selectionRange:n},Oi=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var J=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var G=J.memoizedProps,Ae=J.memoizedState,j=t.stateNode,x=j.getSnapshotBeforeUpdate(t.elementType===t.type?G:xt(t.type,G),Ae);j.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(z){be(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return J=Tc,Tc=!1,J}function ri(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&ll(t,n,c)}l=l.next}while(l!==s)}}function ds(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pc(e){var t=e.alternate;t!==null&&(e.alternate=null,Pc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[qr],delete t[Eo],delete t[xh],delete t[Eh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bc(e){return e.tag===5||e.tag===3||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ul(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bi));else if(s!==4&&(e=e.child,e!==null))for(ul(e,t,n),e=e.sibling;e!==null;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(cl(e,t,n),e=e.sibling;e!==null;)cl(e,t,n),e=e.sibling}var Ve=null,Et=!1;function ln(e,t,n){for(n=n.child;n!==null;)Ic(e,t,n),n=n.sibling}function Ic(e,t,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Ei,n)}catch{}switch(n.tag){case 5:Qe||ir(n,t);case 6:var s=Ve,l=Et;Ve=null,ln(e,t,n),Ve=s,Et=l,Ve!==null&&(Et?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Et?(e=Ve,n=n.stateNode,e.nodeType===8?xo(e.parentNode,n):e.nodeType===1&&xo(e,n),Lr(e)):xo(Ve,n.stateNode));break;case 4:s=Ve,l=Et,Ve=n.stateNode.containerInfo,Et=!0,ln(e,t,n),Ve=s,Et=l;break;case 0:case 11:case 14:case 15:if(!Qe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var c=l,h=c.destroy;c=c.tag,h!==void 0&&((c&2)!==0||(c&4)!==0)&&ll(n,t,h),l=l.next}while(l!==s)}ln(e,t,n);break;case 1:if(!Qe&&(ir(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(y){be(n,t,y)}ln(e,t,n);break;case 21:ln(e,t,n);break;case 22:n.mode&1?(Qe=(s=Qe)||n.memoizedState!==null,ln(e,t,n),Qe=s):ln(e,t,n);break;default:ln(e,t,n)}}function Ac(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mh),t.forEach(function(s){var l=Qh.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var c=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 5:Ve=y.stateNode,Et=!1;break e;case 3:Ve=y.stateNode.containerInfo,Et=!0;break e;case 4:Ve=y.stateNode.containerInfo,Et=!0;break e}y=y.return}if(Ve===null)throw Error(i(160));Ic(c,h,l),Ve=null,Et=!1;var S=l.alternate;S!==null&&(S.return=null),l.return=null}catch(P){be(l,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rc(t,e),t=t.sibling}function Rc(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Rt(e),s&4){try{ri(3,e,e.return),ds(3,e)}catch(G){be(e,e.return,G)}try{ri(5,e,e.return)}catch(G){be(e,e.return,G)}}break;case 1:jt(t,e),Rt(e),s&512&&n!==null&&ir(n,n.return);break;case 5:if(jt(t,e),Rt(e),s&512&&n!==null&&ir(n,n.return),e.flags&32){var l=e.stateNode;try{Er(l,"")}catch(G){be(e,e.return,G)}}if(s&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,h=n!==null?n.memoizedProps:c,y=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{y==="input"&&c.type==="radio"&&c.name!=null&&yn(l,c),Ms(y,h);var P=Ms(y,c);for(h=0;h<S.length;h+=2){var $=S[h],D=S[h+1];$==="style"?ga(l,D):$==="dangerouslySetInnerHTML"?ha(l,D):$==="children"?Er(l,D):F(l,$,D,P)}switch(y){case"input":xr(l,c);break;case"textarea":ca(l,c);break;case"select":var N=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var V=c.value;V!=null?ht(l,!!c.multiple,V,!1):N!==!!c.multiple&&(c.defaultValue!=null?ht(l,!!c.multiple,c.defaultValue,!0):ht(l,!!c.multiple,c.multiple?[]:"",!1))}l[qr]=c}catch(G){be(e,e.return,G)}}break;case 6:if(jt(t,e),Rt(e),s&4){if(e.stateNode===null)throw Error(i(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(G){be(e,e.return,G)}}break;case 3:if(jt(t,e),Rt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Lr(t.containerInfo)}catch(G){be(e,e.return,G)}break;case 4:jt(t,e),Rt(e);break;case 13:jt(t,e),Rt(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(hl=Ie())),s&4&&Ac(e);break;case 22:if($=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(P=Qe)||$,jt(t,e),Qe=P):jt(t,e),Rt(e),s&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!$&&(e.mode&1)!==0)for(K=e,$=e.child;$!==null;){for(D=K=$;K!==null;){switch(N=K,V=N.child,N.tag){case 0:case 11:case 14:case 15:ri(4,N,N.return);break;case 1:ir(N,N.return);var J=N.stateNode;if(typeof J.componentWillUnmount=="function"){s=N,n=N.return;try{t=s,J.props=t.memoizedProps,J.state=t.memoizedState,J.componentWillUnmount()}catch(G){be(s,n,G)}}break;case 5:ir(N,N.return);break;case 22:if(N.memoizedState!==null){$c(D);continue}}V!==null?(V.return=N,K=V):$c(D)}$=$.sibling}e:for($=null,D=e;;){if(D.tag===5){if($===null){$=D;try{l=D.stateNode,P?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(y=D.stateNode,S=D.memoizedProps.style,h=S!=null&&S.hasOwnProperty("display")?S.display:null,y.style.display=pa("display",h))}catch(G){be(e,e.return,G)}}}else if(D.tag===6){if($===null)try{D.stateNode.nodeValue=P?"":D.memoizedProps}catch(G){be(e,e.return,G)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;$===D&&($=null),D=D.return}$===D&&($=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:jt(t,e),Rt(e),s&4&&Ac(e);break;case 21:break;default:jt(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bc(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Er(l,""),s.flags&=-33);var c=Oc(e);cl(e,c,l);break;case 3:case 4:var h=s.stateNode.containerInfo,y=Oc(e);ul(e,y,h);break;default:throw Error(i(161))}}catch(S){be(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bh(e,t,n){K=e,Nc(e)}function Nc(e,t,n){for(var s=(e.mode&1)!==0;K!==null;){var l=K,c=l.child;if(l.tag===22&&s){var h=l.memoizedState!==null||cs;if(!h){var y=l.alternate,S=y!==null&&y.memoizedState!==null||Qe;y=cs;var P=Qe;if(cs=h,(Qe=S)&&!P)for(K=l;K!==null;)h=K,S=h.child,h.tag===22&&h.memoizedState!==null?Dc(l):S!==null?(S.return=h,K=S):Dc(l);for(;c!==null;)K=c,Nc(c),c=c.sibling;K=l,cs=y,Qe=P}Lc(e)}else(l.subtreeFlags&8772)!==0&&c!==null?(c.return=l,K=c):Lc(e)}}function Lc(e){for(;K!==null;){var t=K;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Qe||ds(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Qe)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&$u(t,c,s);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$u(t,h,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var $=P.memoizedState;if($!==null){var D=$.dehydrated;D!==null&&Lr(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Qe||t.flags&512&&al(t)}catch(N){be(t,t.return,N)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function $c(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function Dc(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ds(4,t)}catch(S){be(t,n,S)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(S){be(t,l,S)}}var c=t.return;try{al(t)}catch(S){be(t,c,S)}break;case 5:var h=t.return;try{al(t)}catch(S){be(t,h,S)}}}catch(S){be(t,t.return,S)}if(t===e){K=null;break}var y=t.sibling;if(y!==null){y.return=t.return,K=y;break}K=t.return}}var Wh=Math.ceil,fs=W.ReactCurrentDispatcher,dl=W.ReactCurrentOwner,yt=W.ReactCurrentBatchConfig,he=0,Fe=null,Re=null,qe=0,ft=0,sr=tn(0),$e=0,ii=null,Tn=0,hs=0,fl=0,si=null,rt=null,hl=0,or=1/0,Wt=null,ps=!1,pl=null,an=null,gs=!1,un=null,ms=0,oi=0,gl=null,vs=-1,ys=0;function Xe(){return(he&6)!==0?Ie():vs!==-1?vs:vs=Ie()}function cn(e){return(e.mode&1)===0?1:(he&2)!==0&&qe!==0?qe&-qe:Ch.transition!==null?(ys===0&&(ys=Oa()),ys):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Ua(e.type)),e)}function Ct(e,t,n,s){if(50<oi)throw oi=0,gl=null,Error(i(185));Or(e,n,s),((he&2)===0||e!==Fe)&&(e===Fe&&((he&2)===0&&(hs|=n),$e===4&&dn(e,qe)),it(e,s),n===1&&he===0&&(t.mode&1)===0&&(or=Ie()+500,qi&&rn()))}function it(e,t){var n=e.callbackNode;Cf(e,t);var s=Ti(e,e===Fe?qe:0);if(s===0)n!==null&&Ta(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Ta(n),t===1)e.tag===0?jh(Uc.bind(null,e)):Eu(Uc.bind(null,e)),Sh(function(){(he&6)===0&&rn()}),n=null;else{switch(Ia(s)){case 1:n=Ks;break;case 4:n=Pa;break;case 16:n=xi;break;case 536870912:n=ba;break;default:n=xi}n=Kc(n,zc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zc(e,t){if(vs=-1,ys=0,(he&6)!==0)throw Error(i(327));var n=e.callbackNode;if(lr()&&e.callbackNode!==n)return null;var s=Ti(e,e===Fe?qe:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=ws(e,s);else{t=s;var l=he;he|=2;var c=Fc();(Fe!==e||qe!==t)&&(Wt=null,or=Ie()+500,bn(e,t));do try{qh();break}catch(y){Mc(e,y)}while(!0);Ro(),fs.current=c,he=l,Re!==null?t=0:(Fe=null,qe=0,t=$e)}if(t!==0){if(t===2&&(l=Js(e),l!==0&&(s=l,t=ml(e,l))),t===1)throw n=ii,bn(e,0),dn(e,s),it(e,Ie()),n;if(t===6)dn(e,s);else{if(l=e.current.alternate,(s&30)===0&&!Hh(l)&&(t=ws(e,s),t===2&&(c=Js(e),c!==0&&(s=c,t=ml(e,c))),t===1))throw n=ii,bn(e,0),dn(e,s),it(e,Ie()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:On(e,rt,Wt);break;case 3:if(dn(e,s),(s&130023424)===s&&(t=hl+500-Ie(),10<t)){if(Ti(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Xe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ko(On.bind(null,e,rt,Wt),t);break}On(e,rt,Wt);break;case 4:if(dn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var h=31-_t(s);c=1<<h,h=t[h],h>l&&(l=h),s&=~c}if(s=l,s=Ie()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Wh(s/1960))-s,10<s){e.timeoutHandle=ko(On.bind(null,e,rt,Wt),s);break}On(e,rt,Wt);break;case 5:On(e,rt,Wt);break;default:throw Error(i(329))}}}return it(e,Ie()),e.callbackNode===n?zc.bind(null,e):null}function ml(e,t){var n=si;return e.current.memoizedState.isDehydrated&&(bn(e,t).flags|=256),e=ws(e,t),e!==2&&(t=rt,rt=n,t!==null&&vl(t)),e}function vl(e){rt===null?rt=e:rt.push.apply(rt,e)}function Hh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],c=l.getSnapshot;l=l.value;try{if(!St(c(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~fl,t&=~hs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),s=1<<n;e[n]=-1,t&=~s}}function Uc(e){if((he&6)!==0)throw Error(i(327));lr();var t=Ti(e,0);if((t&1)===0)return it(e,Ie()),null;var n=ws(e,t);if(e.tag!==0&&n===2){var s=Js(e);s!==0&&(t=s,n=ml(e,s))}if(n===1)throw n=ii,bn(e,0),dn(e,t),it(e,Ie()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,rt,Wt),it(e,Ie()),null}function yl(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(or=Ie()+500,qi&&rn())}}function Pn(e){un!==null&&un.tag===0&&(he&6)===0&&lr();var t=he;he|=1;var n=yt.transition,s=ye;try{if(yt.transition=null,ye=1,e)return e()}finally{ye=s,yt.transition=n,he=t,(he&6)===0&&rn()}}function wl(){ft=sr.current,Ee(sr)}function bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_h(n)),Re!==null)for(n=Re.return;n!==null;){var s=n;switch(Po(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Hi();break;case 3:nr(),Ee(et),Ee(Ke),Fo();break;case 5:Uo(s);break;case 4:nr();break;case 13:Ee(Te);break;case 19:Ee(Te);break;case 10:No(s.type._context);break;case 22:case 23:wl()}n=n.return}if(Fe=e,Re=e=fn(e.current,null),qe=ft=t,$e=0,ii=null,fl=hs=Tn=0,rt=si=null,En!==null){for(t=0;t<En.length;t++)if(n=En[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,c=n.pending;if(c!==null){var h=c.next;c.next=l,s.next=h}n.pending=s}En=null}return e}function Mc(e,t){do{var n=Re;try{if(Ro(),ns.current=os,rs){for(var s=Pe.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}rs=!1}if(Cn=0,Me=Le=Pe=null,Xr=!1,Zr=0,dl.current=null,n===null||n.return===null){$e=1,ii=t,Re=null;break}e:{var c=e,h=n.return,y=n,S=t;if(t=qe,y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,$=y,D=$.tag;if(($.mode&1)===0&&(D===0||D===11||D===15)){var N=$.alternate;N?($.updateQueue=N.updateQueue,$.memoizedState=N.memoizedState,$.lanes=N.lanes):($.updateQueue=null,$.memoizedState=null)}var V=dc(h);if(V!==null){V.flags&=-257,fc(V,h,y,c,t),V.mode&1&&cc(c,P,t),t=V,S=P;var J=t.updateQueue;if(J===null){var G=new Set;G.add(S),t.updateQueue=G}else J.add(S);break e}else{if((t&1)===0){cc(c,P,t),_l();break e}S=Error(i(426))}}else if(je&&y.mode&1){var Ae=dc(h);if(Ae!==null){(Ae.flags&65536)===0&&(Ae.flags|=256),fc(Ae,h,y,c,t),Io(rr(S,y));break e}}c=S=rr(S,y),$e!==4&&($e=2),si===null?si=[c]:si.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var j=ac(c,S,t);Lu(c,j);break e;case 1:y=S;var x=c.type,T=c.stateNode;if((c.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(an===null||!an.has(T)))){c.flags|=65536,t&=-t,c.lanes|=t;var z=uc(c,y,t);Lu(c,z);break e}}c=c.return}while(c!==null)}Wc(n)}catch(Q){t=Q,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function Fc(){var e=fs.current;return fs.current=os,e===null?os:e}function _l(){($e===0||$e===3||$e===2)&&($e=4),Fe===null||(Tn&268435455)===0&&(hs&268435455)===0||dn(Fe,qe)}function ws(e,t){var n=he;he|=2;var s=Fc();(Fe!==e||qe!==t)&&(Wt=null,bn(e,t));do try{Vh();break}catch(l){Mc(e,l)}while(!0);if(Ro(),he=n,fs.current=s,Re!==null)throw Error(i(261));return Fe=null,qe=0,$e}function Vh(){for(;Re!==null;)Bc(Re)}function qh(){for(;Re!==null&&!vf();)Bc(Re)}function Bc(e){var t=qc(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Wc(e):Re=t,dl.current=null}function Wc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=zh(n,t,ft),n!==null){Re=n;return}}else{if(n=Uh(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Re=null;return}}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);$e===0&&($e=5)}function On(e,t,n){var s=ye,l=yt.transition;try{yt.transition=null,ye=1,Kh(e,t,n,s)}finally{yt.transition=l,ye=s}return null}function Kh(e,t,n,s){do lr();while(un!==null);if((he&6)!==0)throw Error(i(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(Tf(e,c),e===Fe&&(Re=Fe=null,qe=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||gs||(gs=!0,Kc(xi,function(){return lr(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=yt.transition,yt.transition=null;var h=ye;ye=1;var y=he;he|=4,dl.current=null,Fh(e,n),Rc(n,e),hh(_o),Oi=!!wo,_o=wo=null,e.current=n,Bh(n),yf(),he=y,ye=h,yt.transition=c}else e.current=n;if(gs&&(gs=!1,un=e,ms=l),c=e.pendingLanes,c===0&&(an=null),Sf(n.stateNode),it(e,Ie()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(ps)throw ps=!1,e=pl,pl=null,e;return(ms&1)!==0&&e.tag!==0&&lr(),c=e.pendingLanes,(c&1)!==0?e===gl?oi++:(oi=0,gl=e):oi=0,rn(),null}function lr(){if(un!==null){var e=Ia(ms),t=yt.transition,n=ye;try{if(yt.transition=null,ye=16>e?16:e,un===null)var s=!1;else{if(e=un,un=null,ms=0,(he&6)!==0)throw Error(i(331));var l=he;for(he|=4,K=e.current;K!==null;){var c=K,h=c.child;if((K.flags&16)!==0){var y=c.deletions;if(y!==null){for(var S=0;S<y.length;S++){var P=y[S];for(K=P;K!==null;){var $=K;switch($.tag){case 0:case 11:case 15:ri(8,$,c)}var D=$.child;if(D!==null)D.return=$,K=D;else for(;K!==null;){$=K;var N=$.sibling,V=$.return;if(Pc($),$===P){K=null;break}if(N!==null){N.return=V,K=N;break}K=V}}}var J=c.alternate;if(J!==null){var G=J.child;if(G!==null){J.child=null;do{var Ae=G.sibling;G.sibling=null,G=Ae}while(G!==null)}}K=c}}if((c.subtreeFlags&2064)!==0&&h!==null)h.return=c,K=h;else e:for(;K!==null;){if(c=K,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:ri(9,c,c.return)}var j=c.sibling;if(j!==null){j.return=c.return,K=j;break e}K=c.return}}var x=e.current;for(K=x;K!==null;){h=K;var T=h.child;if((h.subtreeFlags&2064)!==0&&T!==null)T.return=h,K=T;else e:for(h=x;K!==null;){if(y=K,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:ds(9,y)}}catch(Q){be(y,y.return,Q)}if(y===h){K=null;break e}var z=y.sibling;if(z!==null){z.return=y.return,K=z;break e}K=y.return}}if(he=l,rn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Ei,e)}catch{}s=!0}return s}finally{ye=n,yt.transition=t}}return!1}function Hc(e,t,n){t=rr(n,t),t=ac(e,t,1),e=on(e,t,1),t=Xe(),e!==null&&(Or(e,1,t),it(e,t))}function be(e,t,n){if(e.tag===3)Hc(e,e,n);else for(;t!==null;){if(t.tag===3){Hc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(an===null||!an.has(s))){e=rr(n,e),e=uc(t,e,1),t=on(t,e,1),e=Xe(),t!==null&&(Or(t,1,e),it(t,e));break}}t=t.return}}function Jh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(qe&n)===n&&($e===4||$e===3&&(qe&130023424)===qe&&500>Ie()-hl?bn(e,0):fl|=n),it(e,t)}function Vc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ci,Ci<<=1,(Ci&130023424)===0&&(Ci=4194304)));var n=Xe();e=Mt(e,t),e!==null&&(Or(e,t,n),it(e,n))}function Gh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vc(e,n)}function Qh(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Vc(e,n)}var qc;qc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)nt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return nt=!1,Dh(e,t,n);nt=(e.flags&131072)!==0}else nt=!1,je&&(t.flags&1048576)!==0&&ju(t,Ji,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;us(e,t),e=t.pendingProps;var l=Gn(t,Ke.current);tr(t,n),l=Ho(null,t,s,e,l,n);var c=Vo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(s)?(c=!0,Vi(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Do(t),l.updater=ls,t.stateNode=l,l._reactInternals=t,Yo(t,s,e,n),t=tl(null,t,s,!0,c,n)):(t.tag=0,je&&c&&To(t),Ye(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(us(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Xh(s),e=xt(s,e),l){case 0:t=el(null,t,s,e,n);break e;case 1:t=yc(null,t,s,e,n);break e;case 11:t=hc(null,t,s,e,n);break e;case 14:t=pc(null,t,s,xt(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:xt(s,l),el(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:xt(s,l),yc(e,t,s,l,n);case 3:e:{if(wc(t),e===null)throw Error(i(387));s=t.pendingProps,c=t.memoizedState,l=c.element,Nu(e,t),es(t,s,null,n);var h=t.memoizedState;if(s=h.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=rr(Error(i(423)),t),t=_c(e,t,s,n,l);break e}else if(s!==l){l=rr(Error(i(424)),t),t=_c(e,t,s,n,l);break e}else for(dt=en(t.stateNode.containerInfo.firstChild),ct=t,je=!0,kt=null,n=Au(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),s===l){t=Bt(e,t,n);break e}Ye(e,t,s,n)}t=t.child}return t;case 5:return Du(t),e===null&&Oo(t),s=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,h=l.children,So(s,l)?h=null:c!==null&&So(s,c)&&(t.flags|=32),vc(e,t),Ye(e,t,h,n),t.child;case 6:return e===null&&Oo(t),null;case 13:return Sc(e,t,n);case 4:return zo(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Zn(t,null,s,n):Ye(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:xt(s,l),hc(e,t,s,l,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,c=t.memoizedProps,h=l.value,Se(Yi,s._currentValue),s._currentValue=h,c!==null)if(St(c.value,h)){if(c.children===l.children&&!et.current){t=Bt(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var y=c.dependencies;if(y!==null){h=c.child;for(var S=y.firstContext;S!==null;){if(S.context===s){if(c.tag===1){S=Ft(-1,n&-n),S.tag=2;var P=c.updateQueue;if(P!==null){P=P.shared;var $=P.pending;$===null?S.next=S:(S.next=$.next,$.next=S),P.pending=S}}c.lanes|=n,S=c.alternate,S!==null&&(S.lanes|=n),Lo(c.return,n,t),y.lanes|=n;break}S=S.next}}else if(c.tag===10)h=c.type===t.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(i(341));h.lanes|=n,y=h.alternate,y!==null&&(y.lanes|=n),Lo(h,n,t),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}Ye(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,tr(t,n),l=mt(l),s=s(l),t.flags|=1,Ye(e,t,s,n),t.child;case 14:return s=t.type,l=xt(s,t.pendingProps),l=xt(s.type,l),pc(e,t,s,l,n);case 15:return gc(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:xt(s,l),us(e,t),t.tag=1,tt(s)?(e=!0,Vi(t)):e=!1,tr(t,n),oc(t,s,l),Yo(t,s,l,n),tl(null,t,s,!0,e,n);case 19:return xc(e,t,n);case 22:return mc(e,t,n)}throw Error(i(156,t.tag))};function Kc(e,t){return Ca(e,t)}function Yh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,s){return new Yh(e,t,n,s)}function Sl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xh(e){if(typeof e=="function")return Sl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===me)return 11;if(e===Ce)return 14}return 2}function fn(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _s(e,t,n,s,l,c){var h=2;if(s=e,typeof e=="function")Sl(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ie:return In(n.children,l,c,t);case fe:h=8,l|=8;break;case Oe:return e=wt(12,n,t,l|2),e.elementType=Oe,e.lanes=c,e;case Ue:return e=wt(13,n,t,l),e.elementType=Ue,e.lanes=c,e;case Ne:return e=wt(19,n,t,l),e.elementType=Ne,e.lanes=c,e;case pe:return Ss(n,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case we:h=10;break e;case ot:h=9;break e;case me:h=11;break e;case Ce:h=14;break e;case _e:h=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=wt(h,n,t,l),t.elementType=e,t.type=s,t.lanes=c,t}function In(e,t,n,s){return e=wt(7,e,s,t),e.lanes=n,e}function Ss(e,t,n,s){return e=wt(22,e,s,t),e.elementType=pe,e.lanes=n,e.stateNode={isHidden:!1},e}function kl(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function xl(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zh(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gs(0),this.expirationTimes=Gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function El(e,t,n,s,l,c,h,y,S){return e=new Zh(e,t,n,y,S),t===1?(t=1,c===!0&&(t|=8)):t=0,c=wt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(c),e}function ep(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Jc(e){if(!e)return nn;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(tt(n))return ku(e,n,t)}return t}function Gc(e,t,n,s,l,c,h,y,S){return e=El(n,s,!0,e,l,c,h,y,S),e.context=Jc(null),n=e.current,s=Xe(),l=cn(n),c=Ft(s,l),c.callback=t??null,on(n,c,l),e.current.lanes=l,Or(e,l,s),it(e,s),e}function ks(e,t,n,s){var l=t.current,c=Xe(),h=cn(l);return n=Jc(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(c,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=on(l,t,h),e!==null&&(Ct(e,l,h,c),Zi(e,l,h)),h}function xs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jl(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}function tp(){return null}var Yc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cl(e){this._internalRoot=e}Es.prototype.render=Cl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));ks(e,t,null,null)},Es.prototype.unmount=Cl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pn(function(){ks(null,e,null,null)}),t[$t]=null}};function Es(e){this._internalRoot=e}Es.prototype.unstable_scheduleHydration=function(e){if(e){var t=Na();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&Da(e)}};function Tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function js(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xc(){}function np(e,t,n,s,l){if(l){if(typeof s=="function"){var c=s;s=function(){var P=xs(h);c.call(P)}}var h=Gc(t,s,e,0,null,!1,!1,"",Xc);return e._reactRootContainer=h,e[$t]=h.current,Hr(e.nodeType===8?e.parentNode:e),Pn(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var y=s;s=function(){var P=xs(S);y.call(P)}}var S=El(e,0,!1,null,null,!1,!1,"",Xc);return e._reactRootContainer=S,e[$t]=S.current,Hr(e.nodeType===8?e.parentNode:e),Pn(function(){ks(t,S,n,s)}),S}function Cs(e,t,n,s,l){var c=n._reactRootContainer;if(c){var h=c;if(typeof l=="function"){var y=l;l=function(){var S=xs(h);y.call(S)}}ks(t,h,e,l)}else h=np(n,t,e,l,s);return xs(h)}Aa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=br(t.pendingLanes);n!==0&&(Qs(t,n|1),it(t,Ie()),(he&6)===0&&(or=Ie()+500,rn()))}break;case 13:Pn(function(){var s=Mt(e,1);if(s!==null){var l=Xe();Ct(s,e,1,l)}}),jl(e,1)}},Ys=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Xe();Ct(t,e,134217728,n)}jl(e,134217728)}},Ra=function(e){if(e.tag===13){var t=cn(e),n=Mt(e,t);if(n!==null){var s=Xe();Ct(n,e,t,s)}jl(e,t)}},Na=function(){return ye},La=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}},Ws=function(e,t,n){switch(t){case"input":if(xr(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Wi(s);if(!l)throw Error(i(90));lt(s),xr(s,l)}}}break;case"textarea":ca(e,n);break;case"select":t=n.value,t!=null&&ht(e,!!n.multiple,t,!1)}},wa=yl,_a=Pn;var rp={usingClientEntryPoint:!1,Events:[Kr,Kn,Wi,va,ya,yl]},li={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ip={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ea(e),e===null?null:e.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||tp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{Ei=Ts.inject(ip),bt=Ts}catch{}}return st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rp,st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tl(t))throw Error(i(200));return ep(e,t,null,n)},st.createRoot=function(e,t){if(!Tl(e))throw Error(i(299));var n=!1,s="",l=Yc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=El(e,1,!1,null,null,n,!1,s,l),e[$t]=t.current,Hr(e.nodeType===8?e.parentNode:e),new Cl(t)},st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Ea(t),e=e===null?null:e.stateNode,e},st.flushSync=function(e){return Pn(e)},st.hydrate=function(e,t,n){if(!js(t))throw Error(i(200));return Cs(null,e,t,!0,n)},st.hydrateRoot=function(e,t,n){if(!Tl(e))throw Error(i(405));var s=n!=null&&n.hydratedSources||null,l=!1,c="",h=Yc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=Gc(t,null,e,1,n??null,l,!1,c,h),e[$t]=t.current,Hr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Es(t)},st.render=function(e,t,n){if(!js(t))throw Error(i(200));return Cs(null,e,t,!1,n)},st.unmountComponentAtNode=function(e){if(!js(e))throw Error(i(40));return e._reactRootContainer?(Pn(function(){Cs(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1},st.unstable_batchedUpdates=yl,st.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!js(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Cs(e,t,n,!1,s)},st.version="18.3.1-next-f1338f8080-20240426",st}var od;function hp(){if(od)return Ol.exports;od=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),Ol.exports=fp(),Ol.exports}var ld;function pp(){if(ld)return Ps;ld=1;var u=hp();return Ps.createRoot=u.createRoot,Ps.hydrateRoot=u.hydrateRoot,Ps}var gp=pp();function ui(u,r=20){const i=(u||"").toLowerCase();return i.includes("banana")?mp({size:r}):i.includes("almond")||i.includes("nut")?vp({size:r}):i.includes("salmon")||i.includes("fish")?yp({size:r}):i.includes("quinoa")||i.includes("grain")||i.includes("rice")?wp({size:r}):i.includes("smoothie")||i.includes("berry")?_p({size:r}):i.includes("apple")||i.includes("pear")?Sp({size:r}):i.includes("avocado")?kp({size:r}):i.includes("lemon")||i.includes("lime")?xp({size:r}):Ep({size:r})}function qt({children:u,size:r}){return w.jsx("svg",{width:r,height:r,viewBox:"0 0 24 24","aria-hidden":"true",style:{display:"inline-block",verticalAlign:"middle"},children:u})}function mp({size:u=20}){return w.jsxs(qt,{size:u,children:[w.jsx("path",{d:"M2 12c4-6 10-6 18-4",fill:"none",stroke:"#FFD66B",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M3 13c2 2 5 3 8 3 3 0 6-1 9-3",fill:"#FFE7A6",stroke:"#F5C041",strokeWidth:"0.3"})]})}function vp({size:u=20}){return w.jsx(qt,{size:u,children:w.jsx("ellipse",{cx:"12",cy:"12",rx:"8",ry:"5",fill:"#F5D3B3",stroke:"#D6A985",strokeWidth:"0.6"})})}function yp({size:u=20}){return w.jsxs(qt,{size:u,children:[w.jsx("path",{d:"M2 12s4-6 10-6 10 6 10 6-4 6-10 6S2 12 2 12z",fill:"#F4A1A1"}),w.jsx("circle",{cx:"8",cy:"10",r:"1",fill:"#fff"})]})}function wp({size:u=20}){return w.jsx(qt,{size:u,children:w.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"3",fill:"#F2E6B6",stroke:"#D6C089"})})}function _p({size:u=20}){return w.jsxs(qt,{size:u,children:[w.jsx("circle",{cx:"9",cy:"12",r:"3",fill:"#FF6B81"}),w.jsx("circle",{cx:"14",cy:"11",r:"2.5",fill:"#7CC6FF"})]})}function Sp({size:u=20}){return w.jsxs(qt,{size:u,children:[w.jsx("path",{d:"M12 5c2 0 3 1 4 2 1 1 1 3 0 5s-3 3-4 3-3-1-4-3-1-4 0-5c1-1 2-2 4-2z",fill:"#FF6B6B"}),w.jsx("path",{d:"M13 4c0 .8-.8 1.6-1 2",stroke:"#2C6B2C",strokeWidth:"0.6",fill:"none"})]})}function kp({size:u=20}){return w.jsxs(qt,{size:u,children:[w.jsx("path",{d:"M12 4c3 0 6 4 6 8s-3 8-6 8-6-4-6-8 3-8 6-8z",fill:"#7BD389"}),w.jsx("circle",{cx:"12",cy:"14",r:"2",fill:"#5B3E1B"})]})}function xp({size:u=20}){return w.jsx(qt,{size:u,children:w.jsx("ellipse",{cx:"12",cy:"12",rx:"6",ry:"4",fill:"#FFD166",stroke:"#E2B600"})})}function Ep({size:u=20}){return w.jsx(qt,{size:u,children:w.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#FFD66B"})})}const jp={},ad=u=>{let r;const i=new Set,o=(v,k)=>{const E=typeof v=="function"?v(r):v;if(!Object.is(E,r)){const O=r;r=k??(typeof E!="object"||E===null)?E:Object.assign({},r,E),i.forEach(I=>I(r,O))}},a=()=>r,g={setState:o,getState:a,getInitialState:()=>m,subscribe:v=>(i.add(v),()=>i.delete(v)),destroy:()=>{(jp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=r=u(o,a,g);return g},Cp=u=>u?ad(u):ad;var Rl={exports:{}},Nl={},Ll={exports:{}},$l={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud;function Tp(){if(ud)return $l;ud=1;var u=mi();function r(k,E){return k===E&&(k!==0||1/k===1/E)||k!==k&&E!==E}var i=typeof Object.is=="function"?Object.is:r,o=u.useState,a=u.useEffect,d=u.useLayoutEffect,f=u.useDebugValue;function p(k,E){var O=E(),I=o({inst:{value:O,getSnapshot:E}}),A=I[0].inst,R=I[1];return d(function(){A.value=O,A.getSnapshot=E,g(A)&&R({inst:A})},[k,O,E]),a(function(){return g(A)&&R({inst:A}),k(function(){g(A)&&R({inst:A})})},[k]),f(O),O}function g(k){var E=k.getSnapshot;k=k.value;try{var O=E();return!i(k,O)}catch{return!0}}function m(k,E){return E()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:p;return $l.useSyncExternalStore=u.useSyncExternalStore!==void 0?u.useSyncExternalStore:v,$l}var cd;function Pp(){return cd||(cd=1,Ll.exports=Tp()),Ll.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd;function bp(){if(dd)return Nl;dd=1;var u=mi(),r=Pp();function i(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var o=typeof Object.is=="function"?Object.is:i,a=r.useSyncExternalStore,d=u.useRef,f=u.useEffect,p=u.useMemo,g=u.useDebugValue;return Nl.useSyncExternalStoreWithSelector=function(m,v,k,E,O){var I=d(null);if(I.current===null){var A={hasValue:!1,value:null};I.current=A}else A=I.current;I=p(function(){function Z(H){if(!Y){if(Y=!0,F=H,H=E(H),O!==void 0&&A.hasValue){var ie=A.value;if(O(ie,H))return W=ie}return W=H}if(ie=W,o(F,H))return ie;var fe=E(H);return O!==void 0&&O(ie,fe)?(F=H,ie):(F=H,W=fe)}var Y=!1,F,W,ae=k===void 0?null:k;return[function(){return Z(v())},ae===null?void 0:function(){return Z(ae())}]},[v,k,E,O]);var R=a(m,I[0],I[1]);return f(function(){A.hasValue=!0,A.value=R},[R]),g(R),R},Nl}var fd;function Op(){return fd||(fd=1,Rl.exports=bp()),Rl.exports}var Ip=Op();const Ap=na(Ip),ra={},{useDebugValue:Rp}=Wd,{useSyncExternalStoreWithSelector:Np}=Ap;let hd=!1;const Lp=u=>u;function $p(u,r=Lp,i){(ra?"production":void 0)!=="production"&&i&&!hd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),hd=!0);const o=Np(u.subscribe,u.getState,u.getServerState||u.getInitialState,r,i);return Rp(o),o}const pd=u=>{(ra?"production":void 0)!=="production"&&typeof u!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof u=="function"?Cp(u):u,i=(o,a)=>$p(r,o,a);return Object.assign(i,r),i},Dp=u=>u?pd(u):pd;var zp=u=>((ra?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),Dp(u));const gd=zp(u=>({profile:{conditions:[],allergies:[],custom:[]},setProfile:r=>u({profile:r})})),Hd="nutrinformation_profile";function Up(u){try{localStorage.setItem(Hd,JSON.stringify(u))}catch{}}function Mp(){try{const u=localStorage.getItem(Hd);return u?JSON.parse(u):null}catch{return null}}const Fp="modulepreload",Bp=function(u,r){return new URL(u,r).href},md={},Sr=function(r,i,o){let a=Promise.resolve();if(i&&i.length>0){let m=function(v){return Promise.all(v.map(k=>Promise.resolve(k).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};const f=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");a=m(i.map(v=>{if(v=Bp(v,o),v in md)return;md[v]=!0;const k=v.endsWith(".css"),E=k?'[rel="stylesheet"]':"";if(o)for(let I=f.length-1;I>=0;I--){const A=f[I];if(A.href===v&&(!k||A.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${E}`))return;const O=document.createElement("link");if(O.rel=k?"stylesheet":Fp,k||(O.as="script"),O.crossOrigin="",O.href=v,g&&O.setAttribute("nonce",g),document.head.appendChild(O),k)return new Promise((I,A)=>{O.addEventListener("load",I),O.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${v}`)))})}))}function d(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return a.then(f=>{for(const p of f||[])p.status==="rejected"&&d(p.reason);return r().catch(d)})};async function vd(u,r,i){const o=localStorage.getItem("provider")||"openai";if(o==="usda"){const{classifyWithUSDA:O}=await Sr(async()=>{const{classifyWithUSDA:I}=await import("./usda-Divwdd6Y.js");return{classifyWithUSDA:I}},[],import.meta.url);return O(u)}const a=[{role:"system",content:i||"You are a nutrition assistant."},{role:"user",content:`Profile: ${JSON.stringify(r)}
Question: ${u}`}];if(o==="azure"){const O=Number(localStorage.getItem("max_tokens"))||300,I=localStorage.getItem("azure_endpoint"),A=localStorage.getItem("azure_key"),R=localStorage.getItem("azure_deployment"),Z=localStorage.getItem("azure_chat_api_version")||"2023-10-01-preview",Y=localStorage.getItem("azure_responses_api_version")||"2025-04-01-preview";if(!I||!A)throw new Error("Azure OpenAI endpoint or key not set. Please set them in Settings.");if(I.includes("/responses")){const me=I.replace(/[?&]$/,""),Ne=/[?&]api-version=/.test(me)?me:me+(me.includes("?")?"&":"?")+"api-version="+encodeURIComponent(Y);console.log("[openai] Azure Responses request ->",Ne);const Ce=(localStorage.getItem("azure_deployment")||localStorage.getItem("openai_model")||"").trim();if(!Ce)throw new Error('Azure Responses requires a model (deployment) name. Please set "Deployment / Model name" in Settings (e.g., your Azure deployment "gpt-5-mini").');const _e=await fetch(Ne,{method:"POST",headers:{"Content-Type":"application/json","api-key":A},body:JSON.stringify({model:Ce,input:`${JSON.stringify(r)}
Question: ${u}`,max_output_tokens:O})}),pe=await _e.text();if(!_e.ok)throw console.error("[openai] Azure Responses error",_e.status,pe),new Error(JSON.stringify({status:_e.status,body:pe,hint:"Check that your Responses endpoint is correct, the api-version is supported, and the resource exists in the specified region."}));let U;try{U=JSON.parse(pe)}catch{U=pe}return U?.output?.[0]?.content||JSON.stringify(U)}const F=R&&R.trim()||(localStorage.getItem("openai_model")||"").trim();if(!F)throw new Error("Azure deployment not set. Please set it in Settings (or select a Model which will be used as the deployment name).");let W;try{W=new URL(I).origin}catch{W=I.replace(/\/$/,""),W=W.replace(/\/?openai\/?$/i,"")}const ae=W.replace(/\/$/,"")+`/openai/deployments/${encodeURIComponent(F)}/chat/completions?api-version=${encodeURIComponent(Z)}`;console.log("[openai] Azure chat request ->",ae);const H=await fetch(ae,{method:"POST",headers:{"Content-Type":"application/json","api-key":A},body:JSON.stringify({messages:a,max_completion_tokens:O})}),ie=await H.text();if(!H.ok)throw console.error("[openai] Azure chat error",H.status,ie),new Error(JSON.stringify({status:H.status,body:ie,hint:"Check deployment name, endpoint host, api-key, and api-version. 404 usually means the deployment or path is incorrect."}));let fe;try{fe=JSON.parse(ie)}catch{fe=ie}const Oe=fe?.choices?.[0];let we=Oe?.message?.content||"";const ot=Oe?.finish_reason;return(!we||we==="")&&ot==="length"&&(we=(we||"")+`

[Response truncated by model (finish_reason=length). Consider increasing max tokens or shortening prompt. You can also click "Continue" to ask the assistant to finish the response.]`),we||JSON.stringify(fe)}if(o==="hf"){const O=localStorage.getItem("hf_api_key"),I=localStorage.getItem("hf_model");if(!O||!I)throw new Error("Hugging Face API key or model not set. Please set them in Settings.");const A=`https://api-inference.huggingface.co/models/${encodeURIComponent(I)}`;try{const R=await fetch(A,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify({inputs:u,parameters:{max_new_tokens:Number(localStorage.getItem("max_tokens")||150)}})}),Z=await R.text();if(!R.ok)try{const Y=JSON.parse(Z);throw new Error(JSON.stringify(Y))}catch{throw new Error(Z)}try{const Y=JSON.parse(Z);return Array.isArray(Y)&&Y[0]?.generated_text?Y[0].generated_text:Y?.generated_text?Y.generated_text:Y?.text?Y.text:JSON.stringify(Y)}catch{return Z}}catch(R){throw R}}const d=localStorage.getItem("openai_api_key");if(!d){if(localStorage.getItem("demo_mode")==="true")return"Demo mode: OpenAI/Azure key not set. This is a demo response. Paste your key in Settings for live results.";throw new Error("API key not set. Please set your OpenAI or Azure key in Settings to use the assistant.")}const f=Number(localStorage.getItem("max_tokens"))||300,p=localStorage.getItem("openai_model")||"gpt-4o-mini",g=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({model:p,messages:a,max_tokens:f})});if(!g.ok){const O=await g.text();try{const A=JSON.parse(O)?.error;if(A&&A.code==="insufficient_quota"){try{const R=await fetch("/api/hf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:u})});if(R.ok){const Z=await R.json();return Z.text||JSON.stringify(Z)}}catch{}if(localStorage.getItem("demo_mode")==="true")return"Demo mode: the configured OpenAI account has exceeded its quota. This is a demo response. To use the live assistant, check your OpenAI billing or paste your own API key in Settings.";throw new Error("OpenAI quota exceeded (insufficient_quota). Please check your OpenAI plan/billing or paste a personal API key in Settings to continue.")}}catch{}throw new Error(O)}const m=await g.json(),v=m?.choices?.[0];let k=v?.message?.content||"";const E=v?.finish_reason;return(!k||k==="")&&E==="length"&&(k=(k||"")+`

[Response truncated by model (finish_reason=length). Consider increasing max tokens or shortening prompt. You can also click "Continue" to ask the assistant to finish the response.]`),k||JSON.stringify(m)}function Wp(){const[u,r]=re.useState(localStorage.getItem("openai_api_key")||""),[i,o]=re.useState(localStorage.getItem("provider")||"azure"),[a,d]=re.useState(localStorage.getItem("azure_endpoint")||""),[f,p]=re.useState(localStorage.getItem("azure_key")||""),[g,m]=re.useState(localStorage.getItem("azure_deployment")||""),[v,k]=re.useState(localStorage.getItem("azure_chat_api_version")||"2023-10-01-preview"),[E,O]=re.useState(localStorage.getItem("azure_responses_api_version")||"2025-04-01-preview"),[I,A]=re.useState(Number(localStorage.getItem("max_tokens"))||32768),[R,Z]=re.useState(localStorage.getItem("auto_continue")==="true"),[Y,F]=re.useState(Number(localStorage.getItem("auto_continue_count"))||2),[W,ae]=re.useState(localStorage.getItem("openai_model")||"gpt-5-mini"),[H,ie]=re.useState(localStorage.getItem("usda_api_key")||""),[fe,Oe]=re.useState(null),[we,ot]=re.useState(localStorage.getItem("hf_api_key")||""),[me,Ue]=re.useState(localStorage.getItem("hf_model")||""),[Ne,Ce]=re.useState(null),[_e,pe]=re.useState(localStorage.getItem("enable_startup_suggestions")!=="false"),[U,X]=re.useState(()=>{try{return JSON.parse(localStorage.getItem("startup_quick_topics")||"null")||["almond milk","salmon","banana smoothie","quinoa salad"]}catch{return["almond milk","salmon","banana smoothie","quinoa salad"]}}),[C,_]=re.useState("");re.useEffect(()=>{console.log("Settings component mounted, current key length:",(u||"").length)},[]),re.useEffect(()=>{try{localStorage.setItem("provider",i),localStorage.setItem("max_tokens",String(I)),localStorage.setItem("openai_model",W),localStorage.setItem("auto_continue",R?"true":"false"),localStorage.setItem("auto_continue_count",String(Y)),localStorage.setItem("enable_startup_suggestions",_e?"true":"false"),localStorage.setItem("startup_quick_topics",JSON.stringify(U)),i==="openai"?u.trim()&&localStorage.setItem("openai_api_key",u.trim()):i==="azure"&&(a.trim()&&localStorage.setItem("azure_endpoint",a.trim()),f.trim()&&localStorage.setItem("azure_key",f.trim()),g.trim()&&localStorage.setItem("azure_deployment",g.trim()),v.trim()&&localStorage.setItem("azure_chat_api_version",v.trim()),E.trim()&&localStorage.setItem("azure_responses_api_version",E.trim()),!g.trim()&&W.trim()&&localStorage.setItem("azure_deployment",W.trim())),H.trim()&&localStorage.setItem("usda_api_key",H.trim()),we.trim()&&localStorage.setItem("hf_api_key",we.trim()),me.trim()&&localStorage.setItem("hf_model",me.trim())}catch{}},[i,I,W,R,Y,_e,U,u,a,f,g,v,E,H,we,me]);function b(){i==="openai"?localStorage.setItem("openai_api_key",u.trim()):i==="azure"&&(localStorage.setItem("azure_endpoint",a.trim()),localStorage.setItem("azure_key",f.trim()),localStorage.setItem("azure_deployment",g.trim()),localStorage.setItem("azure_chat_api_version",v.trim()),localStorage.setItem("azure_responses_api_version",E.trim()),!g.trim()&&W.trim()&&localStorage.setItem("azure_deployment",W.trim())),H.trim()&&localStorage.setItem("usda_api_key",H.trim()),we.trim()&&localStorage.setItem("hf_api_key",we.trim()),me.trim()&&localStorage.setItem("hf_model",me.trim()),localStorage.setItem("provider",i),localStorage.setItem("max_tokens",String(I)),localStorage.setItem("openai_model",W),localStorage.setItem("auto_continue",R?"true":"false"),localStorage.setItem("auto_continue_count",String(Y)),localStorage.setItem("enable_startup_suggestions",_e?"true":"false"),localStorage.setItem("startup_quick_topics",JSON.stringify(U)),alert("Saved settings locally.")}async function M(){Oe(null);try{const L=await fetch(`https://api.nal.usda.gov/fdc/v1/foods/search?api_key=${encodeURIComponent(H)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({generalSearchInput:"apple",pageSize:1})});if(!L.ok){Oe(!1);return}const ue=await L.json();ue&&ue.foods&&ue.foods.length>0?Oe(!0):Oe(!1)}catch{Oe(!1)}}async function B(){Ce(null);try{if(!we||!me){Ce(!1);return}const L=`https://api-inference.huggingface.co/models/${encodeURIComponent(me)}`;if(!(await fetch(L,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${we}`},body:JSON.stringify({inputs:"Hello",parameters:{max_new_tokens:1}})})).ok){Ce(!1);return}Ce(!0)}catch{Ce(!1)}}function q(){localStorage.removeItem("openai_api_key"),r(""),alert("Cleared API key")}return w.jsxs("div",{className:"settings",style:{background:"linear-gradient(180deg,#fff,#fffefc)",padding:12,borderRadius:10},children:[w.jsx("div",{className:"debug-banner",style:{background:"linear-gradient(90deg,var(--accent-2),var(--accent-4))",padding:8,borderRadius:6,marginBottom:8,color:"#111"},children:"Settings"}),w.jsxs("div",{style:{marginBottom:8},children:[w.jsx("label",{style:{display:"block",fontWeight:600},children:"Provider"}),w.jsxs("select",{value:i,onChange:L=>o(L.target.value),"aria-label":"Select AI provider",children:[w.jsx("option",{value:"openai",children:"OpenAI (api.openai.com)"}),w.jsx("option",{value:"azure",children:"Azure OpenAI"})]})]}),w.jsx("h3",{children:"Settings"}),i==="openai"?w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"OpenAI API Key"}),w.jsx("input",{value:u,onChange:L=>r(L.target.value),placeholder:"sk-..."})]}):w.jsxs("div",{children:[w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Azure OpenAI Endpoint"}),w.jsx("input",{value:a,onChange:L=>d(L.target.value),placeholder:"https://your-resource.openai.azure.com/..."})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Azure Chat API Version"}),w.jsx("input",{value:v,onChange:L=>k(L.target.value),placeholder:"2023-10-01-preview"})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Azure Responses API Version"}),w.jsx("input",{value:E,onChange:L=>O(L.target.value),placeholder:"2025-04-01-preview"})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Azure API Key"}),w.jsx("input",{value:f,onChange:L=>p(L.target.value),placeholder:"Azure key"})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Deployment / Model name"}),w.jsx("input",{value:g,onChange:L=>m(L.target.value),placeholder:"deployment-name or model"})]}),w.jsxs("div",{className:"muted",children:["If your endpoint is a Responses API URL (contains ",w.jsx("code",{children:"/responses"}),"), paste the base URL (with or without ",w.jsx("code",{children:"?api-version=..."}),") and still set ",w.jsx("b",{children:"Deployment / Model name"})," to your Azure deployment (e.g., ",w.jsx("code",{children:"gpt-5-mini"}),"). For Chat Completions, use the base endpoint (e.g. ",w.jsx("code",{children:"https://<resource-name>.openai.azure.com"}),") and set the same deployment name."]})]}),w.jsxs("div",{style:{marginTop:12},children:[w.jsx("h4",{children:"USDA (FoodData Central)  Optional"}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"USDA API Key"}),w.jsx("input",{value:H,onChange:L=>{ie(L.target.value),Oe(null)},placeholder:"USDA API key"})]}),w.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[w.jsx("button",{onClick:M,children:"Validate USDA key"}),fe===!0?w.jsx("span",{style:{color:"green"},children:"Valid"}):fe===!1?w.jsx("span",{style:{color:"crimson"},children:"Invalid"}):null]}),w.jsx("div",{className:"muted",children:"This is not required for the AI assistant. Only fill this if you want to use USDA data lookups for nutrition details."})]}),w.jsxs("div",{style:{marginTop:12},children:[w.jsx("h4",{children:"Hugging Face Inference"}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"HF API Key"}),w.jsx("input",{value:we,onChange:L=>{ot(L.target.value),Ce(null)},placeholder:"HF API key (starts with hf_...)"})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"HF Model"}),w.jsx("input",{value:me,onChange:L=>{Ue(L.target.value),Ce(null)},placeholder:"model name (e.g. google/flan-t5-large)"})]}),w.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[w.jsx("button",{onClick:B,children:"Validate HF key & model"}),Ne===!0?w.jsx("span",{style:{color:"green"},children:"Valid"}):Ne===!1?w.jsx("span",{style:{color:"crimson"},children:"Invalid"}):null]})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Max completion tokens"}),w.jsx("input",{type:"number",value:I,onChange:L=>A(Number(L.target.value)),min:50,max:13e4}),w.jsx("div",{className:"muted",children:"Max completion tokens to request (Azure uses max_completion_tokens). Your account supports up to 130,000 tokens/minute; set per-request token limit here."})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Model (OpenAI / Azure deployment)"}),w.jsx("input",{list:"model-suggestions",value:W,onChange:L=>ae(L.target.value),placeholder:"e.g., gpt-5-mini"}),w.jsxs("datalist",{id:"model-suggestions",children:[w.jsx("option",{value:"gpt-5-mini"}),w.jsx("option",{value:"gpt-5-mini-3"}),w.jsx("option",{value:"gpt-4o-mini"}),w.jsx("option",{value:"gpt-4o"})]}),w.jsxs("div",{className:"muted",children:["Type the exact model or Azure ",w.jsx("b",{children:"deployment"})," name. For Azure, this value can double as the deployment name if the dedicated field is left blank."]})]}),w.jsxs("div",{className:"field",children:[w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",checked:_e,onChange:L=>pe(L.target.checked)})," Enable startup suggestions"]}),w.jsxs("div",{style:{marginTop:8},children:[w.jsx("label",{children:"Quick topics (click Add to append)"}),w.jsxs("div",{style:{display:"flex",gap:8,marginTop:6},children:[w.jsx("input",{value:C,onChange:L=>_(L.target.value),placeholder:"e.g., chia pudding"}),w.jsx("button",{onClick:()=>{C.trim()&&(X(L=>[...L,C.trim()]),_(""))},children:"Add"})]}),w.jsx("div",{style:{marginTop:8,display:"flex",flexWrap:"wrap",gap:8},children:U.map((L,ue)=>w.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6,background:"#fffef8",padding:"6px 8px",borderRadius:999},children:[w.jsx("span",{style:{fontSize:12},children:L}),w.jsx("button",{onClick:()=>X(ne=>ne.filter(le=>le!==L)),style:{background:"transparent",border:0,cursor:"pointer"},children:""})]},ue))})]})]}),w.jsxs("div",{className:"field",children:[w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",checked:R,onChange:L=>Z(L.target.checked)})," Auto-continue when response is truncated"]}),w.jsxs("div",{style:{marginTop:8},children:[w.jsx("label",{children:"Auto-continue max times"}),w.jsx("input",{type:"number",value:Y,onChange:L=>F(Number(L.target.value)),min:1,max:10})]})]}),w.jsxs("div",{style:{display:"flex",gap:8},children:[w.jsx("button",{onClick:b,children:"Save settings"}),w.jsx("button",{onClick:q,style:{background:"#eee"},children:"Clear"}),w.jsx("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("nutri:closeSettings"))},style:{background:"transparent",border:"1px solid rgba(0,0,0,0.06)"},children:"Back to home"})]}),w.jsx("p",{className:"muted",children:"The key is stored locally in your browser only. Do not paste sensitive keys into public machines."})]})}const yd=[{id:"plank",name:"Plank Hold",description:"Engage core by maintaining a straight line from head to heels.",tips:"Avoid letting hips sag. Breathe steadily.",duration:"3045 sec x 3 sets",svg:`<svg width="90" height="60" viewBox="0 0 90 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="5" y="40" width="80" height="8" rx="4" fill="#ffe9b3" />
      <circle cx="20" cy="30" r="6" fill="#ffb347" />
      <rect x="18" y="28" width="50" height="8" rx="4" fill="#ffce66" />
      <rect x="50" y="34" width="22" height="6" rx="3" fill="#ffc24d" />
    </svg>`},{id:"bodyweight-squat",name:"Bodyweight Squat",description:"Lower hips back and down, keeping knees tracking over toes.",tips:"Chest up, weight in mid-foot / heels.",duration:"12 reps x 3 sets",svg:`<svg width="90" height="60" viewBox="0 0 90 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="45" cy="18" r="6" fill="#7bd389" />
      <rect x="42" y="24" width="6" height="14" rx="3" fill="#92e09b" />
      <rect x="36" y="38" width="18" height="8" rx="4" fill="#6bcf80" />
      <rect x="34" y="46" width="10" height="6" rx="3" fill="#5fb872" />
      <rect x="46" y="46" width="10" height="6" rx="3" fill="#5fb872" />
    </svg>`},{id:"pushup-incline",name:"Incline Push-Up",description:"Hands elevated on sturdy surface; lower chest toward platform.",tips:"Keep core braced; elbows ~45 angle.",duration:"10 reps x 3 sets",svg:`<svg width="90" height="60" viewBox="0 0 90 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="10" y="40" width="50" height="8" rx="4" fill="#9fd3ff" />
      <rect x="50" y="30" width="25" height="10" rx="5" fill="#7cc6ff" />
      <circle cx="24" cy="36" r="6" fill="#4da9ff" />
      <rect x="24" y="34" width="36" height="6" rx="3" fill="#66b9ff" />
    </svg>`},{id:"glute-bridge",name:"Glute Bridge",description:"Drive hips upward by squeezing glutes, forming a straight line shoulders to knees.",tips:"Do not hyperextend lower back.",duration:"12 reps x 3 sets",svg:`<svg width="90" height="60" viewBox="0 0 90 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="5" y="42" width="80" height="8" rx="4" fill="#ffe1d6" />
      <rect x="20" y="34" width="35" height="8" rx="4" fill="#ffb19d" />
      <circle cx="56" cy="38" r="6" fill="#ff977c" />
      <rect x="40" y="30" width="14" height="6" rx="3" fill="#ffcab9" />
    </svg>`},{id:"bird-dog",name:"Bird Dog",description:"From quadruped, extend opposite arm and leg; keep hips level and core engaged.",tips:"Reach long rather than high.",duration:"8 reps/side x 23 sets",svg:`<svg width="90" height="60" viewBox="0 0 90 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="10" y="40" width="70" height="8" rx="4" fill="#e3d7ff" />
      <rect x="18" y="34" width="30" height="8" rx="4" fill="#bfa8ff" />
      <circle cx="50" cy="38" r="6" fill="#9d85ff" />
      <rect x="28" y="30" width="14" height="6" rx="3" fill="#d2c4ff" />
      <rect x="34" y="26" width="18" height="4" rx="2" fill="#c5b4ff" />
    </svg>`}];function Hp(u=new Date){const r=u.getFullYear()*372+u.getMonth()*31+u.getDate();return yd[r%yd.length]}function wd(){const[u,r]=re.useState(""),i=re.useRef(null),[o,a]=re.useState([]),[d,f]=re.useState(!1),[p,g]=re.useState(!1),m=gd(C=>C.profile),v=gd(C=>C.setProfile),k="Response truncated by model (finish_reason=length)",E=re.useRef(null),[O,I]=re.useState(null),[A,R]=re.useState(null),[Z,Y]=re.useState(null),[F,W]=re.useState(null),[ae,H]=re.useState(null),ie=re.useRef(null);function fe(){for(let C=o.length-1;C>=0;--C)if(o[C].from==="assistant")return o[C];return null}function Oe(){const C=fe();return!!(C&&typeof C.text=="string"&&C.text.includes(k))}function we(C){if(!C)return null;const _=String(C),b=_.match(/\b(Beneficial|Avoid|Neutral)\b/i);if(b&&b[1]){const q=b[1].toLowerCase();if(q==="beneficial")return"beneficial";if(q==="avoid")return"avoid";if(q==="neutral")return"neutral"}const M=_.split(new RegExp("(?<=[.!?])\\s+")).slice(0,2);for(const q of M){const L=q.toLowerCase();if(/\b(avoid|do not|don't|not recommended|should not)\b/.test(L))return"avoid";if(/\b(beneficial|benefit|good for|recommended|healthy|suggests it is good)\b/.test(L))return"beneficial";if(/\bneutral\b/.test(L))return"neutral"}const B=_.toLowerCase();return/\b(avoid|do not|don't|not recommended|should not)\b/.test(B)?"avoid":/\b(beneficial|benefit|good for|recommended|healthy)\b/.test(B)?"beneficial":B.includes("neutral")?"neutral":null}async function ot(C){const _=fe();if(!_)return"";let b=(_.text||"").replace(k,"").trim(),M="";for(let B=0;B<C;B++){const q=b?`Continue the following assistant response without repeating the truncation hint. Previous assistant text:

${b}

Continue:`:"Please continue the previous answer.";try{const L=await vd(q,m,"You are a nutrition assistant. Continue the previous response.");if(!L||(M+=(M?`

`:"")+L,!L.includes(k)))break;b=b+`

`+L}catch(L){console.error("Continuation error",L);break}}return M}re.useEffect(()=>{const C=Mp();C&&v(C)},[v]);async function me(){try{const _=await fetch("https://en.wikipedia.org/api/rest_v1/page/summary/Healthy_diet");if(!_.ok)throw new Error("Wikipedia fetch failed");const b=await _.json();I(b)}catch(C){console.warn("Failed to load wiki summary",C),I({title:"Healthy diet",extract:"Learn about balanced nutrition on Wikipedia.",content_urls:{desktop:{page:"https://en.wikipedia.org/wiki/Healthy_diet"}}})}}async function Ue(){try{try{const b=localStorage.getItem("server_base")||"",M=(b?b.replace(/\/$/,""):"")+"/daily-tip",B=await fetch(M);if(B.ok){const q=await B.json();if(q&&q.tip){R(q.tip);return}}}catch{}const C=["Include a variety of colorful vegetables to ensure diverse micronutrients.","Choose whole grains over refined grains for better fiber and satiety.","Aim for a palm-sized portion of protein at each meal to support muscle maintenance."],_=new Date().getDate()%C.length;R(C[_])}catch(C){console.warn(C)}}async function Ne(){try{const C=[],_=B=>new Promise((q,L)=>setTimeout(()=>L(new Error("timeout")),B));async function b(B,q=3500){const L=new AbortController;return C.push(L),Promise.race([fetch(B,{signal:L.signal}),_(q)])}let M=null;try{const B=await b("https://zenquotes.io/api/today");if(B.ok){const q=await B.json();Array.isArray(q)&&q[0]?.q&&(M=`${q[0].q}  ${q[0].a}`)}}catch{}if(!M)try{const B=await b("https://api.quotable.io/random?tags=health|inspirational");if(B.ok){const q=await B.json();q?.content&&(M=`${q.content}  ${q.author}`)}}catch{}if(!M){const B=["Small, consistent choices compound into lifelong health.","Hydration, movement, and sleep: the quiet trio behind vibrant energy.","Nourish your body today so it can carry you tomorrow.","Progress over perfectionone wholesome meal nudges the arc forward."],q=new Date().getDate()%B.length;M=B[q]}Y(M),C.forEach(B=>B.abort())}catch{Y("Healthy habits build powerful results over time.")}}function Ce(){try{const C=Hp(new Date);W(C)}catch{W(null)}}re.useEffect(()=>{const C=()=>g(!1);return window.addEventListener("nutri:closeSettings",C),()=>window.removeEventListener("nutri:closeSettings",C)},[]),re.useEffect(()=>{me(),Ue(),Ne(),Ce()},[]),re.useEffect(()=>{Up(m)},[m]),re.useEffect(()=>{try{const C=ie.current;if(!C)return;requestAnimationFrame(()=>{C.scrollTo({top:C.scrollHeight,behavior:"smooth"})})}catch(C){console.error("Auto-scroll failed",C)}},[o,d]),re.useEffect(()=>{try{a(C=>{let _=!1;const b=C.map(M=>{if(M.from!=="assistant")return M;const B=we(M.text);return M.classification!==B?(_=!0,{...M,classification:B}):M});return _?b:C})}catch(C){console.error("Reclassify messages failed",C)}},[o.length]);async function _e(C){f(!0);const _={from:"user",text:C};a(ne=>[...ne,_]);const M=Array.from(new Set([...m?.allergies||[],...m?.custom||[]])).map(ne=>(ne||"").toLowerCase()).filter(Boolean),B=(C||"").toLowerCase(),q=M.filter(ne=>ne&&B.includes(ne)),L=[];L.push(`You are a nutrition assistant. Use this user's health profile: ${JSON.stringify(m)}.`),L.push("Treat any items listed in profile.custom as allergies/sensitivities (equivalent to allergies). If a food or recipe contains any item from allergies or custom, classify as Avoid and include a clear safety warning. Prefer safety and suggest suitable alternatives when relevant."),q.length&&L.push(`Alert: The user prompt mentions these allergy/sensitivity terms from the profile: ${q.join(", ")}. Be strict: classify as Avoid and explain the risk. Offer safe alternatives.`),L.push("After analysis, classify the item as one of: Beneficial, Neutral, or Avoid, and provide a concise explanation.");const ue=L.join(" ");a(ne=>[...ne,{from:"assistant",text:"Analyzing..."}]);try{const ne=await vd(C,m,ue),le=we(ne);a(He=>[...He.slice(0,-1),{from:"assistant",text:ne,classification:le}])}catch(ne){a(le=>[...le.slice(0,-1),{from:"assistant",text:"Error: "+String(ne)}])}finally{f(!1)}}async function pe(){if(d)return;const C=localStorage.getItem("auto_continue")==="true",_=Number(localStorage.getItem("auto_continue_count")||(C?"2":"1"));f(!0);const b={from:"user",text:"Please continue the previous answer."};a(M=>[...M,b]),a(M=>[...M,{from:"assistant",text:"Analyzing..."}]);try{const M=await ot(_);if(M){const B=we(M);a(q=>[...q.slice(0,-1),{from:"assistant",text:M,classification:B}])}else a(B=>[...B.slice(0,-1),{from:"assistant",text:"No additional content returned."}])}catch(M){a(B=>[...B.slice(0,-1),{from:"assistant",text:"Error: "+String(M)}])}finally{f(!1),E.current=null}}async function U(C=3,_){const b="https://www.thegoodtrade.com/features/clean-eating-recipes/";try{const B=await(await fetch(b,{method:"GET",mode:"cors"})).text(),L=new DOMParser().parseFromString(B,"text/html"),ue=Array.from(L.querySelectorAll("article a[href], a[href]")).map(ve=>({href:ve.getAttribute("href")||"",text:(ve.textContent||"").trim()})).filter(ve=>ve.href&&ve.href.includes("thegoodtrade.com")),ne=new Set,le=[];for(const ve of ue){let lt=ve.href;if(lt.startsWith("/")&&(lt="https://www.thegoodtrade.com"+lt),!ne.has(lt)&&(ne.add(lt),le.push({title:ve.text||lt,href:lt}),le.length>=C))break}if(le.length>=C)return le;const He=ue.filter(ve=>/recipe|recipes|dish|food|meal/i.test(ve.href)||/recipe/i.test(ve.text)).map(ve=>({title:ve.text||ve.href,href:ve.href.startsWith("/")?"https://www.thegoodtrade.com"+ve.href:ve.href}));for(const ve of He){if(le.length>=C)break;ne.has(ve.href)||(ne.add(ve.href),le.push(ve))}try{const ve=[..._?.allergies||[],..._?.custom||[]].map(at=>(at||"").toLowerCase()),lt=(_?.custom||[]).map(at=>at.toLowerCase()).concat((_?.conditions||[]).map(at=>at.toLowerCase()));let Kt=le.filter(at=>{const Dn=(at.title||"").toLowerCase();for(const yn of ve)if(yn&&Dn.includes(yn))return!1;return!0});return Kt.sort((at,Dn)=>{const yn=(at.title||"").toLowerCase(),xr=(Dn.title||"").toLowerCase(),yi=lt.reduce((Lt,ht)=>Lt+(ht&&yn.includes(ht)?1:0),0);return lt.reduce((Lt,ht)=>Lt+(ht&&xr.includes(ht)?1:0),0)-yi}),Kt.slice(0,Math.max(C,Kt.length))}catch{return le.slice(0,Math.max(C,le.length))}}catch(M){throw console.warn("Recipe fetch failed (likely CORS):",M),M}}async function X(){f(!0),a(_=>[..._,{from:"user",text:"Show me recipes"}]),a(_=>[..._,{from:"assistant",text:"Fetching recipe suggestions..."}]);try{let _=[];try{_=await U(3,m)}catch(b){console.warn("Recipe fetch failed; using curated fallback",b),_=[{title:"Healthy Weeknight Dinners (Allrecipes collection)",href:"https://www.allrecipes.com/recipes/84/healthy-recipes/"},{title:"BBC Good Food - Healthy recipes",href:"https://www.bbcgoodfood.com/recipes/collection/healthy"},{title:"Cookie and Kate - Healthy recipes",href:"https://cookieandkate.com/best-healthy-recipes/"}]}a(b=>[...b.slice(0,-1),{from:"assistant",recipes:_}])}catch{a(b=>[...b.slice(0,-1),{from:"assistant",text:"Unable to fetch recipes right now. Try opening the Recipes page."}])}finally{f(!1)}}return re.useEffect(()=>{try{if(!Oe())return;const _=fe()?.text.replace(k,"").trim()||"";if(!(localStorage.getItem("auto_continue")==="true")||d||E.current===_)return;E.current=_,pe()}catch(C){console.error("Auto-continue side effect error",C)}},[o]),w.jsxs("div",{className:"app",children:[w.jsxs("header",{children:[w.jsx("h1",{children:"NutriCoach AI"}),w.jsx("div",{style:{marginLeft:"auto"},children:w.jsx("button",{onClick:()=>g(C=>!C),"aria-pressed":p,children:"Settings"})})]}),w.jsxs("div",{className:"hero-split",children:[w.jsxs("div",{className:"hero-left",children:[w.jsx("div",{className:"logo",children:"NutriCoach"}),w.jsxs("h2",{className:"hero-title",children:["Eat fresh",w.jsx("br",{}),"stay healthy"]}),w.jsx("p",{className:"hero-sub muted",children:"Personalized nutrition guidance  quick, evidence-minded"}),w.jsx("div",{style:{marginTop:18},children:w.jsx("button",{className:"hero-cta",onClick:()=>{me(),i.current?.focus(),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},children:"Get started"})}),w.jsxs("div",{className:"hero-card",style:{marginTop:22},children:[w.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.9)"},children:"Quick, personalized tips and food classification based on your profile. Find recipes and alternatives tailored to you."}),w.jsx("div",{style:{marginTop:12},children:w.jsx("button",{className:"hero-card-btn",onClick:()=>{X()},children:"Recipe"})})]})]}),w.jsxs("div",{className:"hero-right",children:[w.jsx("div",{className:"hero-image","aria-hidden":"true"}),w.jsx("div",{className:"hero-info","aria-live":"polite",children:O?w.jsxs("div",{children:[w.jsx("h3",{style:{marginTop:0},children:O.title}),w.jsx("p",{className:"muted",children:O.extract}),w.jsx("p",{children:w.jsx("a",{href:O.content_urls?.desktop?.page||"https://en.wikipedia.org/wiki/Healthy_diet",target:"_blank",rel:"noreferrer",children:"Read more on Wikipedia"})}),w.jsxs("div",{style:{marginTop:12,display:"flex",gap:10,alignItems:"center"},"aria-hidden":!0,children:[w.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[w.jsx("div",{style:{width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.06)",borderRadius:12},children:ui("apple",36)}),w.jsx("div",{style:{width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.06)",borderRadius:12},children:ui("avocado",36)}),w.jsx("div",{style:{width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.06)",borderRadius:12},children:ui("banana",36)})]}),w.jsx("div",{style:{color:"rgba(255,255,255,0.8)"},className:"muted",children:"Healthy living visuals"})]}),w.jsxs("div",{style:{marginTop:16},children:[w.jsx("h4",{style:{margin:"0 0 6px",fontSize:14,letterSpacing:.5,textTransform:"uppercase",color:"rgba(0,0,0,0.65)"},children:"Daily health quote"}),w.jsx("blockquote",{style:{margin:0,padding:"12px 14px",background:"rgba(255,255,255,0.10)",borderLeft:"4px solid rgba(255,255,255,0.55)",borderRadius:8,fontSize:14,lineHeight:1.4,color:"rgba(0,0,0,0.8)",fontStyle:"italic"},children:w.jsx("span",{style:{display:"block",opacity:Z?1:.6},children:Z||"Loading inspiring thought..."})})]}),w.jsxs("div",{style:{marginTop:18},children:[w.jsx("h4",{style:{margin:"0 0 6px",fontSize:14,letterSpacing:.5,textTransform:"uppercase",color:"rgba(0,0,0,0.65)"},children:"Exercise of the day"}),F?w.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",background:"rgba(255,255,255,0.14)",padding:"10px 12px",borderRadius:10},children:[w.jsx("div",{style:{width:90,height:60,flex:"0 0 auto",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.25)",borderRadius:8},dangerouslySetInnerHTML:{__html:F.svg}}),w.jsxs("div",{style:{flex:1,minWidth:0},children:[w.jsx("div",{style:{fontWeight:600,fontSize:14},children:F.name}),w.jsx("div",{style:{fontSize:12,lineHeight:1.3,opacity:.85},children:F.description}),w.jsx("div",{style:{fontSize:11,marginTop:4,opacity:.75},children:F.tips}),w.jsx("div",{style:{fontSize:11,marginTop:4,fontWeight:600},children:F.duration})]})]}):w.jsx("div",{style:{fontSize:12,opacity:.6},children:"Loading exercise..."})]})]}):w.jsxs("div",{className:"hero-info-placeholder",children:[w.jsx("h3",{style:{marginTop:0},children:"Healthy eating tips"}),w.jsx("p",{className:"muted",children:"Click Get started to load short, useful guidance about healthy diets."})]})})]})]}),w.jsxs("main",{children:[w.jsxs("section",{className:"profile",children:[w.jsx("h2",{children:"Health profile"}),w.jsx(Vp,{profile:m,setProfile:v})]}),w.jsxs("section",{className:"chat",children:[w.jsx("div",{className:"chat-window",role:"log","aria-live":"polite",ref:ie,children:o.length===0?w.jsxs("div",{className:"startup-panel",children:[w.jsx("h3",{children:"Welcome to NutriCoach AI"}),w.jsx("p",{className:"muted",children:"Get started with quick suggestions or view curated healthy recipes."}),A?w.jsxs("div",{className:"daily-tip",style:{marginTop:8},children:[w.jsx("strong",{children:"Daily tip:"})," ",A]}):null,w.jsx("div",{className:"chips",style:{marginTop:12},children:(localStorage.getItem("enable_startup_suggestions")!=="false"?JSON.parse(localStorage.getItem("startup_quick_topics")||"null")||["almond milk","salmon","banana smoothie","quinoa salad"]:[]).map(C=>w.jsxs("button",{className:`chip ${ae===C?"active":""}`,onClick:()=>{r(C),H(C),setTimeout(()=>H(null),800),_e(C)},children:[w.jsx("span",{style:{width:20,height:20,marginRight:8,display:"inline-flex",alignItems:"center"},children:ui(C,20)}),C]},C))}),w.jsx("div",{style:{marginTop:12},children:w.jsx("button",{className:"hero-card-btn",onClick:()=>{X()},children:"Show recipes"})})]}):o.map((C,_)=>w.jsx("div",{className:`message ${C.from}`,children:w.jsxs("div",{className:"bubble",children:[C.classification==="beneficial"?w.jsx("span",{className:"classification good",children:"Beneficial"}):null,C.classification==="avoid"?w.jsx("span",{className:"classification avoid",children:"Avoid"}):null,C.recipes?w.jsxs("div",{children:[w.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Recipe suggestions"}),w.jsx("ol",{children:C.recipes.map((b,M)=>w.jsxs("li",{style:{display:"flex",alignItems:"center",gap:8},children:[w.jsx("span",{style:{width:36,height:36,display:"inline-flex",alignItems:"center",justifyContent:"center",background:"#fff8",borderRadius:8},children:ui(b.title||"fruit",28)}),w.jsx("a",{href:b.href,target:"_blank",rel:"noreferrer",children:b.title||b.href})]},M))})]}):w.jsx("div",{children:C.text})]})},_))}),w.jsx("div",{className:"disclaimer",children:"Copilot is here to give the best advice, but always consult with a doctor."}),w.jsxs("div",{className:"input-row",children:[w.jsx("input",{"aria-label":"Ask about a food or type a food item",ref:i,value:u,onChange:C=>r(C.target.value),onKeyDown:C=>{C.key==="Enter"&&u.trim()&&(_e(u.trim()),r(""))},placeholder:"e.g., almond milk"}),w.jsx("button",{disabled:d,onClick:()=>{u.trim()&&(_e(u.trim()),r(""))},children:d?"Working...":"Analyze"}),Oe()?w.jsx("button",{onClick:pe,disabled:d,style:{marginLeft:8},children:"Continue"}):null]})]})]}),w.jsx("footer",{children:w.jsx("small",{children:"All data stored locally. Enter your OpenAI API key in settings."})}),p?w.jsx("div",{className:"modal",children:w.jsx("div",{className:"modal-content",children:w.jsx(qp,{children:w.jsx(Wp,{})})})}):null]})}function Vp({profile:u,setProfile:r}){const[i,o]=re.useState(u||{conditions:[],allergies:[],custom:[]}),[a,d]=re.useState("");re.useEffect(()=>o(u),[u]);function f(m){const v=i.conditions.includes(m),k={...i,conditions:v?i.conditions.filter(E=>E!==m):[...i.conditions,m]};o(k),r(k)}function p(){if(a.trim()){const m={...i,custom:[...i.custom,a.trim()]};o(m),r(m),d("")}}function g(m){const v={...i,custom:i.custom.filter((k,E)=>E!==m)};o(v),r(v)}return w.jsxs("div",{children:[w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Common conditions"}),w.jsx("div",{className:"chips",children:["diabetes","hypertension","kidney disease","lactose intolerance"].map(m=>w.jsx("button",{className:i.conditions.includes(m)?"chip active":"chip",onClick:()=>f(m),children:m},m))})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Allergies (comma separated)"}),w.jsx("input",{value:i.allergies.join(", "),onChange:m=>{const v=m.target.value.split(",").map(E=>E.trim()).filter(Boolean),k={...i,allergies:v};o(k),r(k)}})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Custom health issues"}),w.jsx("div",{className:"custom-list",children:i.custom.map((m,v)=>w.jsxs("div",{className:"custom-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[w.jsx("span",{children:m}),w.jsx("button",{onClick:()=>g(v),style:{background:"transparent",border:"1px solid rgba(0,0,0,0.08)",borderRadius:8,cursor:"pointer",padding:"4px 8px"},children:"Remove"})]},v))}),w.jsxs("div",{className:"custom-add",children:[w.jsx("input",{placeholder:"Type a custom issue",value:a,onChange:m=>d(m.target.value)}),w.jsx("button",{onClick:p,children:"Add"})]})]})]})}function qp({children:u}){try{return w.jsx(w.Fragment,{children:u})}catch(r){return w.jsxs("div",{role:"alert",style:{padding:12,color:"red"},children:["Settings failed to render: ",String(r)]})}}const Kp=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>Sr(async()=>{const{default:o}=await Promise.resolve().then(()=>kr);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)};class ia extends Error{constructor(r,i="FunctionsError",o){super(r),this.name=i,this.context=o}}class Jp extends ia{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class _d extends ia{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Sd extends ia{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Vl;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(Vl||(Vl={}));var Gp=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};class Qp{constructor(r,{headers:i={},customFetch:o,region:a=Vl.Any}={}){this.url=r,this.headers=i,this.region=a,this.fetch=Kp(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,i={}){var o;return Gp(this,void 0,void 0,function*(){try{const{headers:a,method:d,body:f}=i;let p={},{region:g}=i;g||(g=this.region);const m=new URL(`${this.url}/${r}`);g&&g!=="any"&&(p["x-region"]=g,m.searchParams.set("forceFunctionRegion",g));let v;f&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=f):typeof f=="string"?(p["Content-Type"]="text/plain",v=f):typeof FormData<"u"&&f instanceof FormData?v=f:(p["Content-Type"]="application/json",v=JSON.stringify(f)));const k=yield this.fetch(m.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:v}).catch(A=>{throw new Jp(A)}),E=k.headers.get("x-relay-error");if(E&&E==="true")throw new _d(k);if(!k.ok)throw new Sd(k);let O=((o=k.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),I;return O==="application/json"?I=yield k.json():O==="application/octet-stream"?I=yield k.blob():O==="text/event-stream"?I=k:O==="multipart/form-data"?I=yield k.formData():I=yield k.text(),{data:I,error:null,response:k}}catch(a){return{data:null,error:a,response:a instanceof Sd||a instanceof _d?a.context:void 0}}})}}var We={},ar={},ur={},cr={},dr={},fr={},Yp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_r=Yp();const Xp=_r.fetch,Vd=_r.fetch.bind(_r),qd=_r.Headers,Zp=_r.Request,eg=_r.Response,kr=Object.freeze(Object.defineProperty({__proto__:null,Headers:qd,Request:Zp,Response:eg,default:Vd,fetch:Xp},Symbol.toStringTag,{value:"Module"})),tg=op(kr);var bs={},kd;function Kd(){if(kd)return bs;kd=1,Object.defineProperty(bs,"__esModule",{value:!0});class u extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return bs.default=u,bs}var xd;function Jd(){if(xd)return fr;xd=1;var u=fr&&fr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(fr,"__esModule",{value:!0});const r=u(tg),i=u(Kd());class o{constructor(d){var f,p;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(f=d.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=d.signal,this.isMaybeSingle=(p=d.isMaybeSingle)!==null&&p!==void 0?p:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=new Headers(this.headers),this.headers.set(d,f),this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,k,E,O;let I=null,A=null,R=null,Z=m.status,Y=m.statusText;if(m.ok){if(this.method!=="HEAD"){const H=await m.text();H===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?A=H:A=JSON.parse(H))}const W=(k=this.headers.get("Prefer"))===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),ae=(E=m.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");W&&ae&&ae.length>1&&(R=parseInt(ae[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(I={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,R=null,Z=406,Y="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const W=await m.text();try{I=JSON.parse(W),Array.isArray(I)&&m.status===404&&(A=[],I=null,Z=200,Y="OK")}catch{m.status===404&&W===""?(Z=204,Y="No Content"):I={message:W}}if(I&&this.isMaybeSingle&&(!((O=I?.details)===null||O===void 0)&&O.includes("0 rows"))&&(I=null,Z=200,Y="OK"),I&&this.shouldThrowOnError)throw new i.default(I)}return{error:I,data:A,count:R,status:Z,statusText:Y}});return this.shouldThrowOnError||(g=g.catch(m=>{var v,k,E;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(k=m?.stack)!==null&&k!==void 0?k:""}`,hint:"",code:`${(E=m?.code)!==null&&E!==void 0?E:""}`},data:null,count:null,status:0,statusText:""}})),g.then(d,f)}returns(){return this}overrideTypes(){return this}}return fr.default=o,fr}var Ed;function Gd(){if(Ed)return dr;Ed=1;var u=dr&&dr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(dr,"__esModule",{value:!0});const r=u(Jd());class i extends r.default{select(a){let d=!1;const f=(a??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:d=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const m=g?`${g}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${a}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this}range(a,d,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,m=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(m,`${d-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:d=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:m="text"}={}){var v;const k=[a?"analyze":null,d?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),E=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${E}"; options=${k};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return dr.default=i,dr}var jd;function sa(){if(jd)return cr;jd=1;var u=cr&&cr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(cr,"__esModule",{value:!0});const r=u(Gd());class i extends r.default{eq(a,d){return this.url.searchParams.append(a,`eq.${d}`),this}neq(a,d){return this.url.searchParams.append(a,`neq.${d}`),this}gt(a,d){return this.url.searchParams.append(a,`gt.${d}`),this}gte(a,d){return this.url.searchParams.append(a,`gte.${d}`),this}lt(a,d){return this.url.searchParams.append(a,`lt.${d}`),this}lte(a,d){return this.url.searchParams.append(a,`lte.${d}`),this}like(a,d){return this.url.searchParams.append(a,`like.${d}`),this}likeAllOf(a,d){return this.url.searchParams.append(a,`like(all).{${d.join(",")}}`),this}likeAnyOf(a,d){return this.url.searchParams.append(a,`like(any).{${d.join(",")}}`),this}ilike(a,d){return this.url.searchParams.append(a,`ilike.${d}`),this}ilikeAllOf(a,d){return this.url.searchParams.append(a,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(a,d){return this.url.searchParams.append(a,`ilike(any).{${d.join(",")}}`),this}is(a,d){return this.url.searchParams.append(a,`is.${d}`),this}in(a,d){const f=Array.from(new Set(d)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cs.{${d.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(d)}`),this}containedBy(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cd.{${d.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(d)}`),this}rangeGt(a,d){return this.url.searchParams.append(a,`sr.${d}`),this}rangeGte(a,d){return this.url.searchParams.append(a,`nxl.${d}`),this}rangeLt(a,d){return this.url.searchParams.append(a,`sl.${d}`),this}rangeLte(a,d){return this.url.searchParams.append(a,`nxr.${d}`),this}rangeAdjacent(a,d){return this.url.searchParams.append(a,`adj.${d}`),this}overlaps(a,d){return typeof d=="string"?this.url.searchParams.append(a,`ov.${d}`):this.url.searchParams.append(a,`ov.{${d.join(",")}}`),this}textSearch(a,d,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const m=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${g}fts${m}.${d}`),this}match(a){return Object.entries(a).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(a,d,f){return this.url.searchParams.append(a,`not.${d}.${f}`),this}or(a,{foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,d,f){return this.url.searchParams.append(a,`${d}.${f}`),this}}return cr.default=i,cr}var Cd;function Qd(){if(Cd)return ur;Cd=1;var u=ur&&ur.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ur,"__esModule",{value:!0});const r=u(sa());class i{constructor(a,{headers:d={},schema:f,fetch:p}){this.url=a,this.headers=new Headers(d),this.schema=f,this.fetch=p}select(a,{head:d=!1,count:f}={}){const p=d?"HEAD":"GET";let g=!1;const m=(a??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",m),f&&this.headers.append("Prefer",`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:d,defaultToNull:f=!0}={}){var p;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((v,k)=>v.concat(Object.keys(k)),[]);if(m.length>0){const v=[...new Set(m)].map(k=>`"${k}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(a,{onConflict:d,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const k=a.reduce((E,O)=>E.concat(Object.keys(O)),[]);if(k.length>0){const E=[...new Set(k)].map(O=>`"${O}"`);this.url.searchParams.set("columns",E.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(a,{count:d}={}){var f;const p="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:a}={}){var d;const f="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return ur.default=i,ur}var Td;function ng(){if(Td)return ar;Td=1;var u=ar&&ar.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ar,"__esModule",{value:!0});const r=u(Qd()),i=u(sa());class o{constructor(d,{headers:f={},schema:p,fetch:g}={}){this.url=d,this.headers=new Headers(f),this.schemaName=p,this.fetch=g}from(d){const f=new URL(`${this.url}/${d}`);return new r.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:p=!1,get:g=!1,count:m}={}){var v;let k;const E=new URL(`${this.url}/rpc/${d}`);let O;p||g?(k=p?"HEAD":"GET",Object.entries(f).filter(([A,R])=>R!==void 0).map(([A,R])=>[A,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([A,R])=>{E.searchParams.append(A,R)})):(k="POST",O=f);const I=new Headers(this.headers);return m&&I.set("Prefer",`count=${m}`),new i.default({method:k,url:E,headers:I,schema:this.schemaName,body:O,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return ar.default=o,ar}var Pd;function rg(){if(Pd)return We;Pd=1;var u=We&&We.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(We,"__esModule",{value:!0}),We.PostgrestError=We.PostgrestBuilder=We.PostgrestTransformBuilder=We.PostgrestFilterBuilder=We.PostgrestQueryBuilder=We.PostgrestClient=void 0;const r=u(ng());We.PostgrestClient=r.default;const i=u(Qd());We.PostgrestQueryBuilder=i.default;const o=u(sa());We.PostgrestFilterBuilder=o.default;const a=u(Gd());We.PostgrestTransformBuilder=a.default;const d=u(Jd());We.PostgrestBuilder=d.default;const f=u(Kd());return We.PostgrestError=f.default,We.default={PostgrestClient:r.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:d.default,PostgrestError:f.default},We}var ig=rg();const sg=na(ig),{PostgrestClient:og,PostgrestQueryBuilder:Ym,PostgrestFilterBuilder:Xm,PostgrestTransformBuilder:Zm,PostgrestBuilder:ev,PostgrestError:tv}=sg;class lg{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const o=i.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let i=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(i+=`

Suggested solution: ${r.workaround}`),new Error(i)}static createWebSocket(r,i){const o=this.getWebSocketConstructor();return new o(r,i)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const ag="2.15.5",ug=`realtime-js/${ag}`,cg="1.0.0",ql=1e4,dg=1e3,fg=100;var fi;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(fi||(fi={}));var De;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(De||(De={}));var Pt;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Pt||(Pt={}));var Kl;(function(u){u.websocket="websocket"})(Kl||(Kl={}));var Ln;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Ln||(Ln={}));class hg{constructor(){this.HEADER_LENGTH=1}decode(r,i){return r.constructor===ArrayBuffer?i(this._binaryDecode(r)):i(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const i=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,i,o)}_decodeBroadcast(r,i,o){const a=i.getUint8(1),d=i.getUint8(2);let f=this.HEADER_LENGTH+2;const p=o.decode(r.slice(f,f+a));f=f+a;const g=o.decode(r.slice(f,f+d));f=f+d;const m=JSON.parse(o.decode(r.slice(f,r.byteLength)));return{ref:null,topic:p,event:g,payload:m}}}class Yd{constructor(r,i){this.callback=r,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(ke||(ke={}));const bd=(u,r,i={})=>{var o;const a=(o=i.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((d,f)=>(d[f]=pg(f,u,r,a),d),{})},pg=(u,r,i,o)=>{const a=r.find(p=>p.name===u),d=a?.type,f=i[u];return d&&!o.includes(d)?Xd(d,f):Jl(f)},Xd=(u,r)=>{if(u.charAt(0)==="_"){const i=u.slice(1,u.length);return yg(r,i)}switch(u){case ke.bool:return gg(r);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return mg(r);case ke.json:case ke.jsonb:return vg(r);case ke.timestamp:return wg(r);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Jl(r);default:return Jl(r)}},Jl=u=>u,gg=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},mg=u=>{if(typeof u=="string"){const r=parseFloat(u);if(!Number.isNaN(r))return r}return u},vg=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(r){return console.log(`JSON parse error: ${r}`),u}return u},yg=(u,r)=>{if(typeof u!="string")return u;const i=u.length-1,o=u[i];if(u[0]==="{"&&o==="}"){let d;const f=u.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(p=>Xd(r,p))}return u},wg=u=>typeof u=="string"?u.replace(" ","T"):u,Zd=u=>{let r=u;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class Dl{constructor(r,i,o={},a=ql){this.channel=r,this.event=i,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,i){var o;return this._hasReceived(r)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:i}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(i))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Od;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(Od||(Od={}));class hi{constructor(r,i){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hi.syncState(this.state,a,d,f),this.pendingDiffs.forEach(g=>{this.state=hi.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},a=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=hi.syncDiff(this.state,a,d,f),p())}),this.onJoin((a,d,f)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:d,newPresences:f})}),this.onLeave((a,d,f)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,i,o,a){const d=this.cloneDeep(r),f=this.transformState(i),p={},g={};return this.map(d,(m,v)=>{f[m]||(g[m]=v)}),this.map(f,(m,v)=>{const k=d[m];if(k){const E=v.map(R=>R.presence_ref),O=k.map(R=>R.presence_ref),I=v.filter(R=>O.indexOf(R.presence_ref)<0),A=k.filter(R=>E.indexOf(R.presence_ref)<0);I.length>0&&(p[m]=I),A.length>0&&(g[m]=A)}else p[m]=v}),this.syncDiff(d,{joins:p,leaves:g},o,a)}static syncDiff(r,i,o,a){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(d,(p,g)=>{var m;const v=(m=r[p])!==null&&m!==void 0?m:[];if(r[p]=this.cloneDeep(g),v.length>0){const k=r[p].map(O=>O.presence_ref),E=v.filter(O=>k.indexOf(O.presence_ref)<0);r[p].unshift(...E)}o(p,v,g)}),this.map(f,(p,g)=>{let m=r[p];if(!m)return;const v=g.map(k=>k.presence_ref);m=m.filter(k=>v.indexOf(k.presence_ref)<0),r[p]=m,a(p,m,g),m.length===0&&delete r[p]}),r}static map(r,i){return Object.getOwnPropertyNames(r).map(o=>i(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((i,o)=>{const a=r[o];return"metas"in a?i[o]=a.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[o]=a,i},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Id;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(Id||(Id={}));var pi;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(pi||(pi={}));var Vt;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(Vt||(Vt={}));class oa{constructor(r,i={config:{}},o){this.topic=r,this.params=i,this.socket=o,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Dl(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new Yd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(a,d)=>{this._trigger(this._replyEventName(d),a)}),this.presence=new hi(this),this.broadcastEndpointURL=Zd(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,i=this.timeout){var o,a,d;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,m=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(O=>O.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[pi.PRESENCE]&&this.bindings[pi.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,k={},E={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(k.access_token=this.socket.accessTokenValue),this._onError(O=>r?.(Vt.CHANNEL_ERROR,O)),this._onClose(()=>r?.(Vt.CLOSED)),this.updateJoinPayload(Object.assign({config:E},k)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:O})=>{var I;if(this.socket.setAuth(),O===void 0){r?.(Vt.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,R=(I=A?.length)!==null&&I!==void 0?I:0,Z=[];for(let Y=0;Y<R;Y++){const F=A[Y],{filter:{event:W,schema:ae,table:H,filter:ie}}=F,fe=O&&O[Y];if(fe&&fe.event===W&&fe.schema===ae&&fe.table===H&&fe.filter===ie)Z.push(Object.assign(Object.assign({},F),{id:fe.id}));else{this.unsubscribe(),this.state=De.errored,r?.(Vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Z,r&&r(Vt.SUBSCRIBED);return}}).receive("error",O=>{this.state=De.errored,r?.(Vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{r?.(Vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,i={}){return await this.send({type:"presence",event:"track",payload:r},i.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,i,o){return this.state===De.joined&&r===pi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,i,o)}async send(r,i={}){var o,a;if(!this._canPush()&&r.type==="broadcast"){const{event:d,payload:f}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,p,g;const m=this._push(r.type,r,i.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),m.receive("ok",()=>d("ok")),m.receive("error",()=>d("error")),m.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=De.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Dl(this,Pt.leave,{},r),o.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(r,i,o){const a=new AbortController,d=setTimeout(()=>a.abort(),o),f=await this.socket.fetch(r,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(d),f}_push(r,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Dl(this,r,i,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>fg){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(r,i,o){return i}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,i,o){var a,d;const f=r.toLocaleLowerCase(),{close:p,error:g,leave:m,join:v}=Pt;if(o&&[p,g,m,v].indexOf(f)>=0&&o!==this._joinRef())return;let E=this._onMessage(f,i,o);if(i&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(O=>{var I,A,R;return((I=O.filter)===null||I===void 0?void 0:I.event)==="*"||((R=(A=O.filter)===null||A===void 0?void 0:A.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===f}).map(O=>O.callback(E,o)):(d=this.bindings[f])===null||d===void 0||d.filter(O=>{var I,A,R,Z,Y,F;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in O){const W=O.id,ae=(I=O.filter)===null||I===void 0?void 0:I.event;return W&&((A=i.ids)===null||A===void 0?void 0:A.includes(W))&&(ae==="*"||ae?.toLocaleLowerCase()===((R=i.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const W=(Y=(Z=O?.filter)===null||Z===void 0?void 0:Z.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return W==="*"||W===((F=i?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===f}).map(O=>{if(typeof E=="object"&&"ids"in E){const I=E.data,{schema:A,table:R,commit_timestamp:Z,type:Y,errors:F}=I;E=Object.assign(Object.assign({},{schema:A,table:R,commit_timestamp:Z,eventType:Y,new:{},old:{},errors:F}),this._getPayloadRecords(I))}O.callback(E,o)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,i,o){const a=r.toLocaleLowerCase(),d={type:a,filter:i,callback:o};return this.bindings[a]?this.bindings[a].push(d):this.bindings[a]=[d],this}_off(r,i){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var d;return!(((d=a.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&oa.isEqual(a.filter,i))})),this}static isEqual(r,i){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const o in r)if(r[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Pt.close,{},r)}_onError(r){this._on(Pt.error,{},i=>r(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const i={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(i.new=bd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(i.old=bd(r.columns,r.old_record)),i}}const zl=()=>{},Os={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_g=[1e3,2e3,5e3,1e4],Sg=1e4,kg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xg{constructor(r,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ql,this.transport=null,this.heartbeatIntervalMs=Os.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zl,this.ref=0,this.reconnectTimer=null,this.logger=zl,this.conn=null,this.sendBuffer=[],this.serializer=new hg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let d;return a?d=a:typeof fetch>"u"?d=(...f)=>Sr(async()=>{const{default:p}=await Promise.resolve().then(()=>kr);return{default:p}},void 0,import.meta.url).then(({default:p})=>p(...f)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((o=i?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${r}/${Kl.websocket}`,this.httpEndpoint=Zd(r),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const i=r.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cg}))}disconnect(r,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},r?this.conn.close(r,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const i=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const r=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,i,o){this.logger(r,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case fi.connecting:return Ln.Connecting;case fi.open:return Ln.Open;case fi.closing:return Ln.Closing;default:return Ln.Closed}}isConnected(){return this.connectionState()===Ln.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,i={config:{}}){const o=`realtime:${r}`,a=this.getChannels().find(d=>d.topic===o);if(a)return a;{const d=new oa(`realtime:${r}`,i,this);return this.channels.push(d),d}}push(r){const{topic:i,event:o,payload:a,ref:d}=r,f=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${i} ${o} (${d})`,a),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(dg,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Os.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let i=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${r}"`),i.unsubscribe())}_remove(r){this.channels=this.channels.filter(i=>i.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:d,ref:f}=i,p=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${o} ${a} ${p}`.trim(),d),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(r){var i;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var i;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Pt.error))}_appendParams(r,i){if(Object.keys(i).length===0)return r;const o=r.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${r}${o}${a}`}_workerObjectUrl(r){let i;if(r)i=r;else{const o=new Blob([kg],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(r,i=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(r=null){let i;r?i=r:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const a={access_token:i,version:ug};i&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Pt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${r}`,i)})}_triggerStateCallbacks(r,i){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(i)}catch(a){this.log("error",`error in ${r} callback`,a)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Yd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Os.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var i,o,a,d,f,p,g,m,v;if(this.transport=(i=r?.transport)!==null&&i!==void 0?i:null,this.timeout=(o=r?.timeout)!==null&&o!==void 0?o:ql,this.heartbeatIntervalMs=(a=r?.heartbeatIntervalMs)!==null&&a!==void 0?a:Os.HEARTBEAT_INTERVAL,this.worker=(d=r?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=r?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:zl,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r?.reconnectAfterMs)!==null&&g!==void 0?g:(k=>_g[k-1]||Sg),this.encode=(m=r?.encode)!==null&&m!==void 0?m:((k,E)=>E(JSON.stringify(k))),this.decode=(v=r?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class la extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function ze(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class Eg extends la{constructor(r,i,o){super(r),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gl extends la{constructor(r,i){super(r),this.name="StorageUnknownError",this.originalError=i}}var jg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const ef=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>Sr(async()=>{const{default:o}=await Promise.resolve().then(()=>kr);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},Cg=()=>jg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sr(()=>Promise.resolve().then(()=>kr),void 0,import.meta.url)).Response:Response}),Ql=u=>{if(Array.isArray(u))return u.map(i=>Ql(i));if(typeof u=="function"||u!==Object(u))return u;const r={};return Object.entries(u).forEach(([i,o])=>{const a=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[a]=Ql(o)}),r},Tg=u=>{if(typeof u!="object"||u===null)return!1;const r=Object.getPrototypeOf(u);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)};var $n=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Ul=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Pg=(u,r,i)=>$n(void 0,void 0,void 0,function*(){const o=yield Cg();u instanceof o&&!i?.noResolveJson?u.json().then(a=>{const d=u.status||500,f=a?.statusCode||d+"";r(new Eg(Ul(a),d,f))}).catch(a=>{r(new Gl(Ul(a),a))}):r(new Gl(Ul(u),u))}),bg=(u,r,i,o)=>{const a={method:u,headers:r?.headers||{}};return u==="GET"||!o?a:(Tg(o)?(a.headers=Object.assign({"Content-Type":"application/json"},r?.headers),a.body=JSON.stringify(o)):a.body=o,r?.duplex&&(a.duplex=r.duplex),Object.assign(Object.assign({},a),i))};function vi(u,r,i,o,a,d){return $n(this,void 0,void 0,function*(){return new Promise((f,p)=>{u(i,bg(r,o,a,d)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Pg(g,p,o))})})}function Ns(u,r,i,o){return $n(this,void 0,void 0,function*(){return vi(u,"GET",r,i,o)})}function Nt(u,r,i,o,a){return $n(this,void 0,void 0,function*(){return vi(u,"POST",r,o,a,i)})}function Yl(u,r,i,o,a){return $n(this,void 0,void 0,function*(){return vi(u,"PUT",r,o,a,i)})}function Og(u,r,i,o){return $n(this,void 0,void 0,function*(){return vi(u,"HEAD",r,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function tf(u,r,i,o,a){return $n(this,void 0,void 0,function*(){return vi(u,"DELETE",r,o,a,i)})}var Ze=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Ig={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ad={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ag{constructor(r,i={},o,a){this.shouldThrowOnError=!1,this.url=r,this.headers=i,this.bucketId=o,this.fetch=ef(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,i,o,a){return Ze(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Ad),a);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g))):(d=o,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a?.headers&&(p=Object.assign(Object.assign({},p),a.headers));const m=this._removeEmptyFolders(i),v=this._getFinalPath(m),k=yield(r=="PUT"?Yl:Nt)(this.fetch,`${this.url}/object/${v}`,d,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:k.Id,fullPath:k.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ze(d))return{data:null,error:d};throw d}})}upload(r,i,o){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,i,o)})}uploadToSignedUrl(r,i,o,a){return Ze(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",i);try{let g;const m=Object.assign({upsert:Ad.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",m.cacheControl)):(g=o,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const k=yield Yl(this.fetch,p.toString(),g,{headers:v});return{data:{path:d,fullPath:k.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(ze(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,i){return Ze(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const a=Object.assign({},this.headers);i?.upsert&&(a["x-upsert"]="true");const d=yield Nt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),f=new URL(this.url+d.url),p=f.searchParams.get("token");if(!p)throw new la("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}update(r,i,o){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,i,o)})}move(r,i,o){return Ze(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}copy(r,i,o){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}createSignedUrl(r,i,o){return Ze(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r),d=yield Nt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o?.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}createSignedUrls(r,i,o){return Ze(this,void 0,void 0,function*(){try{const a=yield Nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:r},{headers:this.headers}),d=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}download(r,i){return Ze(this,void 0,void 0,function*(){const a=typeof i?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(i?.transform||{}),f=d?`?${d}`:"";try{const p=this._getFinalPath(r);return{data:yield(yield Ns(this.fetch,`${this.url}/${a}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(ze(p))return{data:null,error:p};throw p}})}info(r){return Ze(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{const o=yield Ns(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Ql(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}exists(r){return Ze(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{return yield Og(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o)&&o instanceof Gl){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,i){const o=this._getFinalPath(r),a=[],d=i?.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&a.push(d);const p=typeof i?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(i?.transform||{});g!==""&&a.push(g);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${m}`)}}}remove(r){return Ze(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}list(r,i,o){return Ze(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Ig),i),{prefix:r||""});return{data:yield Nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}listV2(r,i){return Ze(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield Nt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const i=[];return r.width&&i.push(`width=${r.width}`),r.height&&i.push(`height=${r.height}`),r.resize&&i.push(`resize=${r.resize}`),r.format&&i.push(`format=${r.format}`),r.quality&&i.push(`quality=${r.quality}`),i.join("&")}}const Rg="2.12.1",Ng={"X-Client-Info":`storage-js/${Rg}`};var hr=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};class Lg{constructor(r,i={},o,a){this.shouldThrowOnError=!1;const d=new URL(r);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},Ng),i),this.fetch=ef(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return hr(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}getBucket(r){return hr(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}createBucket(r,i={public:!1}){return hr(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}updateBucket(r,i){return hr(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}emptyBucket(r){return hr(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}deleteBucket(r){return hr(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}}class $g extends Lg{constructor(r,i={},o,a){super(r,i,o,a)}from(r){return new Ag(this.url,this.headers,r,this.fetch)}}const Dg="2.57.4";let di="";typeof Deno<"u"?di="deno":typeof document<"u"?di="web":typeof navigator<"u"&&navigator.product==="ReactNative"?di="react-native":di="node";const zg={"X-Client-Info":`supabase-js-${di}/${Dg}`},Ug={headers:zg},Mg={schema:"public"},Fg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bg={};var Wg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Hg=u=>{let r;return u?r=u:typeof fetch>"u"?r=Vd:r=fetch,(...i)=>r(...i)},Vg=()=>typeof Headers>"u"?qd:Headers,qg=(u,r,i)=>{const o=Hg(i),a=Vg();return(d,f)=>Wg(void 0,void 0,void 0,function*(){var p;const g=(p=yield r())!==null&&p!==void 0?p:u;let m=new a(f?.headers);return m.has("apikey")||m.set("apikey",u),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),o(d,Object.assign(Object.assign({},f),{headers:m}))})};var Kg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};function Jg(u){return u.endsWith("/")?u:u+"/"}function Gg(u,r){var i,o;const{db:a,auth:d,realtime:f,global:p}=u,{db:g,auth:m,realtime:v,global:k}=r,E={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},m),d),realtime:Object.assign(Object.assign({},v),f),storage:{},global:Object.assign(Object.assign(Object.assign({},k),p),{headers:Object.assign(Object.assign({},(i=k?.headers)!==null&&i!==void 0?i:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Kg(this,void 0,void 0,function*(){return""})};return u.accessToken?E.accessToken=u.accessToken:delete E.accessToken,E}function Qg(u){const r=u?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jg(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const nf="2.71.1",yr=30*1e3,Xl=3,Ml=Xl*yr,Yg="http://localhost:9999",Xg="supabase.auth.token",Zg={"X-Client-Info":`gotrue-js/${nf}`},Zl="X-Supabase-Api-Version",rf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},em=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tm=600*1e3;class aa extends Error{constructor(r,i,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function oe(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class nm extends aa{constructor(r,i,o){super(r,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function rm(u){return oe(u)&&u.name==="AuthApiError"}class sf extends aa{constructor(r,i){super(r),this.name="AuthUnknownError",this.originalError=i}}class vn extends aa{constructor(r,i,o,a){super(r,o,a),this.name=i,this.status=o}}class gn extends vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function im(u){return oe(u)&&u.name==="AuthSessionMissingError"}class Is extends vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends vn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Rs extends vn{constructor(r,i=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sm(u){return oe(u)&&u.name==="AuthImplicitGrantRedirectError"}class Rd extends vn{constructor(r,i=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ea extends vn{constructor(r,i){super(r,"AuthRetryableFetchError",i,void 0)}}function Fl(u){return oe(u)&&u.name==="AuthRetryableFetchError"}class Nd extends vn{constructor(r,i,o){super(r,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class ta extends vn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ld=` 	
\r=`.split(""),om=(()=>{const u=new Array(128);for(let r=0;r<u.length;r+=1)u[r]=-1;for(let r=0;r<Ld.length;r+=1)u[Ld[r].charCodeAt(0)]=-2;for(let r=0;r<Ls.length;r+=1)u[Ls[r].charCodeAt(0)]=r;return u})();function $d(u,r,i){if(u!==null)for(r.queue=r.queue<<8|u,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(Ls[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(Ls[o]),r.queuedBits-=6}}function of(u,r,i){const o=om[u];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)i(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function Dd(u){const r=[],i=f=>{r.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},d=f=>{um(f,o,i)};for(let f=0;f<u.length;f+=1)of(u.charCodeAt(f),a,d);return r.join("")}function lm(u,r){if(u<=127){r(u);return}else if(u<=2047){r(192|u>>6),r(128|u&63);return}else if(u<=65535){r(224|u>>12),r(128|u>>6&63),r(128|u&63);return}else if(u<=1114111){r(240|u>>18),r(128|u>>12&63),r(128|u>>6&63),r(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function am(u,r){for(let i=0;i<u.length;i+=1){let o=u.charCodeAt(i);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(u.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}lm(o,r)}}function um(u,r,i){if(r.utf8seq===0){if(u<=127){i(u);return}for(let o=1;o<6;o+=1)if((u>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=u&31;else if(r.utf8seq===3)r.codepoint=u&15;else if(r.utf8seq===4)r.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|u&63,r.utf8seq-=1,r.utf8seq===0&&i(r.codepoint)}}function cm(u){const r=[],i={queue:0,queuedBits:0},o=a=>{r.push(a)};for(let a=0;a<u.length;a+=1)of(u.charCodeAt(a),i,o);return new Uint8Array(r)}function dm(u){const r=[];return am(u,i=>r.push(i)),new Uint8Array(r)}function fm(u){const r=[],i={queue:0,queuedBits:0},o=a=>{r.push(a)};return u.forEach(a=>$d(a,i,o)),$d(null,i,o),r.join("")}function hm(u){return Math.round(Date.now()/1e3)+u}function pm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const r=Math.random()*16|0;return(u=="x"?r:r&3|8).toString(16)})}const Tt=()=>typeof window<"u"&&typeof document<"u",An={tested:!1,writable:!1},lf=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(An.tested)return An.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),An.tested=!0,An.writable=!0}catch{An.tested=!0,An.writable=!1}return An.writable};function gm(u){const r={},i=new URL(u);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,d)=>{r[d]=a})}catch{}return i.searchParams.forEach((o,a)=>{r[a]=o}),r}const af=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>Sr(async()=>{const{default:o}=await Promise.resolve().then(()=>kr);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},mm=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",wr=async(u,r,i)=>{await u.setItem(r,JSON.stringify(i))},Rn=async(u,r)=>{const i=await u.getItem(r);if(!i)return null;try{return JSON.parse(i)}catch{return i}},pn=async(u,r)=>{await u.removeItem(r)};class $s{constructor(){this.promise=new $s.promiseConstructor((r,i)=>{this.resolve=r,this.reject=i})}}$s.promiseConstructor=Promise;function Bl(u){const r=u.split(".");if(r.length!==3)throw new ta("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!em.test(r[o]))throw new ta("JWT not in base64url format");return{header:JSON.parse(Dd(r[0])),payload:JSON.parse(Dd(r[1])),signature:cm(r[2]),raw:{header:r[0],payload:r[1]}}}async function vm(u){return await new Promise(r=>{setTimeout(()=>r(null),u)})}function ym(u,r){return new Promise((o,a)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await u(d);if(!r(d,null,f)){o(f);return}}catch(f){if(!r(d,f)){a(f);return}}})()})}function wm(u){return("0"+u.toString(16)).substr(-2)}function _m(){const r=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let a="";for(let d=0;d<56;d++)a+=i.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(r),Array.from(r,wm).join("")}async function Sm(u){const i=new TextEncoder().encode(u),o=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(o);return Array.from(a).map(d=>String.fromCharCode(d)).join("")}async function km(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const i=await Sm(u);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pr(u,r,i=!1){const o=_m();let a=o;i&&(a+="/PASSWORD_RECOVERY"),await wr(u,`${r}-code-verifier`,a);const d=await km(o);return[d,o===d?"plain":"s256"]}const xm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Em(u){const r=u.headers.get(Zl);if(!r||!r.match(xm))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function jm(u){if(!u)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(u<=r)throw new Error("JWT has expired")}function Cm(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Tm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gr(u){if(!Tm.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wl(){const u={};return new Proxy(u,{get:(r,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zd(u){return JSON.parse(JSON.stringify(u))}var Pm=function(u,r){var i={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(i[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(i[o[a]]=u[o[a]]);return i};const Nn=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),bm=[502,503,504];async function Ud(u){var r;if(!mm(u))throw new ea(Nn(u),0);if(bm.includes(u.status))throw new ea(Nn(u),u.status);let i;try{i=await u.json()}catch(d){throw new sf(Nn(d),d)}let o;const a=Em(u);if(a&&a.getTime()>=rf["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new Nd(Nn(i),u.status,((r=i.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new gn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Nd(Nn(i),u.status,i.weak_password.reasons);throw new nm(Nn(i),u.status||500,o)}const Om=(u,r,i,o)=>{const a={method:u,headers:r?.headers||{}};return u==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),i))};async function de(u,r,i,o){var a;const d=Object.assign({},o?.headers);d[Zl]||(d[Zl]=rf["2024-01-01"].name),o?.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const f=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Im(u,r,i+p,{headers:d,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function Im(u,r,i,o,a,d){const f=Om(r,o,a,d);let p;try{p=await u(i,Object.assign({},f))}catch(g){throw console.error(g),new ea(Nn(g),0)}if(p.ok||await Ud(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await Ud(g)}}function Ht(u){var r;let i=null;Lm(u)&&(i=Object.assign({},u),u.expires_at||(i.expires_at=hm(u.expires_in)));const o=(r=u.user)!==null&&r!==void 0?r:u;return{data:{session:i,user:o},error:null}}function Md(u){const r=Ht(u);return!r.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(r.data.weak_password=u.weak_password),r}function mn(u){var r;return{data:{user:(r=u.user)!==null&&r!==void 0?r:u},error:null}}function Am(u){return{data:u,error:null}}function Rm(u){const{action_link:r,email_otp:i,hashed_token:o,redirect_to:a,verification_type:d}=u,f=Pm(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:i,hashed_token:o,redirect_to:a,verification_type:d},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function Nm(u){return u}function Lm(u){return u.access_token&&u.refresh_token&&u.expires_in}const Hl=["global","local","others"];var $m=function(u,r){var i={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(i[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(i[o[a]]=u[o[a]]);return i};class Dm{constructor({url:r="",headers:i={},fetch:o}){this.url=r,this.headers=i,this.fetch=af(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,i=Hl[0]){if(Hl.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hl.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(oe(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,i={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:mn})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:i}=r,o=$m(r,["options"]),a=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Rm,redirectTo:i?.redirectTo})}catch(i){if(oe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(r){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:mn})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async listUsers(r){var i,o,a,d,f,p,g;try{const m={nextPage:null,lastPage:0,total:0},v=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=r?.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(d=(a=r?.perPage)===null||a===void 0?void 0:a.toString())!==null&&d!==void 0?d:""},xform:Nm});if(v.error)throw v.error;const k=await v.json(),E=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return O.length>0&&(O.forEach(I=>{const A=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(I.split(";")[1].split("=")[1]);m[`${R}Page`]=A}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},k),m),error:null}}catch(m){if(oe(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){gr(r);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:mn})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async updateUserById(r,i){gr(r);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:i,headers:this.headers,xform:mn})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,i=!1){gr(r);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:i},xform:mn})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){gr(r.userId);try{const{data:i,error:o}=await de(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:o}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _deleteFactor(r){gr(r.userId),gr(r.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}}function Fd(u={}){return{getItem:r=>u[r]||null,setItem:(r,i)=>{u[r]=i},removeItem:r=>{delete u[r]}}}function zm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mr={debug:!!(globalThis&&lf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Um extends uf{}async function Mm(u,r,i){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,a.name);try{return await i()}finally{mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,a.name)}}else{if(r===0)throw mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new Um(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(mr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}zm();const Fm={url:Yg,storageKey:Xg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bd(u,r,i){return await i()}const vr={};class gi{constructor(r){var i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gi.nextInstanceID,gi.nextInstanceID+=1,this.instanceID>0&&Tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Fm),r);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Dm({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=af(a.fetch),this.lock=a.lock||Bd,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Tt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Mm:this.lock=Bd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:lf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fd(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Fd(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var r,i;return(i=(r=vr[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(r){vr[this.storageKey]=Object.assign(Object.assign({},vr[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,i;return(i=(r=vr[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){vr[this.storageKey]=Object.assign(Object.assign({},vr[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nf}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const i=gm(window.location.href);let o="none";if(this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce"),Tt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:d}=await this._getSessionFromURL(i,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),sm(d)){const g=(r=d.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:p}=a;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return oe(i)?{error:i}:{error:new sf("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var i,o,a;try{const d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=r?.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=r?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ht}),{data:f,error:p}=d;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(d){if(oe(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(r){var i,o,a;try{let d;if("email"in r){const{email:v,password:k,options:E}=r;let O=null,I=null;this.flowType==="pkce"&&([O,I]=await pr(this.storage,this.storageKey)),d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:v,password:k,data:(i=E?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:O,code_challenge_method:I},xform:Ht})}else if("phone"in r){const{phone:v,password:k,options:E}=r;d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:k,data:(o=E?.data)!==null&&o!==void 0?o:{},channel:(a=E?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:Ht})}else throw new As("You must provide either an email or phone number and a password");const{data:f,error:p}=d;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(d){if(oe(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(r){try{let i;if("email"in r){const{email:d,password:f,options:p}=r;i=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Md})}else if("phone"in r){const{phone:d,password:f,options:p}=r;i=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Md})}else throw new As("You must provide either an email or phone number and a password");const{data:o,error:a}=i;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Is}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(r){var i,o,a,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(i=r.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=r.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:i}=r;if(i==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(r){var i,o,a,d,f,p,g,m,v,k,E,O;let I,A;if("message"in r)I=r.message,A=r.signature;else{const{chain:R,wallet:Z,statement:Y,options:F}=r;let W;if(Tt())if(typeof Z=="object")W=Z;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))W=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Z!="object"||!F?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=Z}const ae=new URL((i=F?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in W&&W.signIn){const H=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},F?.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),Y?{statement:Y}:null));let ie;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")ie=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)ie=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ie&&"signature"in ie&&(typeof ie.signedMessage=="string"||ie.signedMessage instanceof Uint8Array)&&ie.signature instanceof Uint8Array)I=typeof ie.signedMessage=="string"?ie.signedMessage:new TextDecoder().decode(ie.signedMessage),A=ie.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");I=[`${ae.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(a=(o=F?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((d=F?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${F.signInWithSolana.notBefore}`]:[],...!((f=F?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${F.signInWithSolana.expirationTime}`]:[],...!((p=F?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${F.signInWithSolana.chainId}`]:[],...!((g=F?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${F.signInWithSolana.nonce}`]:[],...!((m=F?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${F.signInWithSolana.requestId}`]:[],...!((k=(v=F?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||k===void 0)&&k.length?["Resources",...F.signInWithSolana.resources.map(ie=>`- ${ie}`)]:[]].join(`
`);const H=await W.signMessage(new TextEncoder().encode(I),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=H}}try{const{data:R,error:Z}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:I,signature:fm(A)},!((E=r.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(O=r.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Ht});if(Z)throw Z;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new Is}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:Z})}catch(R){if(oe(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(r){const i=await Rn(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(i??"").split("/");try{const{data:d,error:f}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Ht});if(await pn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new Is}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:a??null}),error:f})}catch(d){if(oe(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(r){try{const{options:i,provider:o,token:a,access_token:d,nonce:f}=r,p=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Ht}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Is}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(r){var i,o,a,d,f;try{if("email"in r){const{email:p,options:g}=r;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await pr(this.storage,this.storageKey));const{error:k}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:k}}if("phone"in r){const{phone:p,options:g}=r,{data:m,error:v}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(a=g?.data)!==null&&a!==void 0?a:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new As("You must provide either an email or phone number.")}catch(p){if(oe(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var i,o;try{let a,d;"options"in r&&(a=(i=r.options)===null||i===void 0?void 0:i.redirectTo,d=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:p}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:a,xform:Ht});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,m=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(a){if(oe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(r){var i,o,a;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await pr(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(i=r.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=r?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:Am})}catch(d){if(oe(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)throw o;if(!i)throw new gn;const{error:a}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const i=`${this.url}/resend`;if("email"in r){const{email:o,type:a,options:d}=r,{error:f}=await de(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in r){const{phone:o,type:a,options:d}=r,{data:f,error:p}=await de(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new As("You must provide either an email or phone number and a type")}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(r,i){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await r(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const i=await Rn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?r=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<Ml:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const f=await Rn(this.userStorage,this.storageKey+"-user");f?.user?r.user=f.user:r.user=Wl()}if(this.storage.isServer&&r.user){let f=this.suppressGetSessionWarning;r=new Proxy(r,{get:(g,m,v)=>(!f&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,v))})}return{data:{session:r},error:null}}const{session:a,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{session:null},error:d}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:mn}):await this._useSession(async i=>{var o,a,d;const{data:f,error:p}=i;if(p)throw p;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gn}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(a=f.session)===null||a===void 0?void 0:a.access_token)!==null&&d!==void 0?d:void 0,xform:mn})})}catch(i){if(oe(i))return im(i)&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(r,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,i))}async _updateUser(r,i={}){try{return await this._useSession(async o=>{const{data:a,error:d}=o;if(d)throw d;if(!a.session)throw new gn;const f=a.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await pr(this.storage,this.storageKey));const{data:m,error:v}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:mn});if(v)throw v;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new gn;const i=Date.now()/1e3;let o=i,a=!0,d=null;const{payload:f}=Bl(r.access_token);if(f.exp&&(o=f.exp,a=o<=i),a){const{session:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)throw g;d={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(i){if(oe(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async i=>{var o;if(!r){const{data:f,error:p}=i;if(p)throw p;r=(o=f.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new gn;const{session:a,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{user:null,session:null},error:d}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(r,i){try{if(!Tt())throw new Rs("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Rs(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Rd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rs("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Rd("No code detected.");const{data:Y,error:F}=await this._exchangeCodeForSession(r.code);if(F)throw F;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:d,refresh_token:f,expires_in:p,expires_at:g,token_type:m}=r;if(!d||!p||!f||!m)throw new Rs("No session defined in URL");const v=Math.round(Date.now()/1e3),k=parseInt(p);let E=v+k;g&&(E=parseInt(g));const O=E-v;O*1e3<=yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${k}s`);const I=E-k;v-I>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",I,E,v):v-I<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",I,E,v);const{data:A,error:R}=await this._getUser(d);if(R)throw R;const Z={provider_token:o,provider_refresh_token:a,access_token:d,expires_in:k,expires_at:E,refresh_token:f,token_type:m,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Z,redirectType:r.type},error:null}}catch(o){if(oe(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const i=await Rn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&i)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:a,error:d}=i;if(d)return{error:d};const f=(o=a.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:p}=await this.admin.signOut(f,r);if(p&&!(rm(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const i=pm(),o={id:i,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async i=>{var o,a;try{const{data:{session:d},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,i={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await pr(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(oe(d))return{data:null,error:d};throw d}}async getUserIdentities(){var r;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=i.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async linkIdentity(r){var i;try{const{data:o,error:a}=await this._useSession(async d=>{var f,p,g,m,v;const{data:k,error:E}=d;if(E)throw E;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",O,{headers:this.headers,jwt:(v=(m=k.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return Tt()&&!(!((i=r.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:r.provider,url:o?.url},error:null}}catch(o){if(oe(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async i=>{var o,a;const{data:d,error:f}=i;if(f)throw f;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(a=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _refreshAccessToken(r){const i=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await ym(async a=>(a>0&&await vm(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Ht})),(a,d)=>{const f=200*Math.pow(2,a);return d&&Fl(d)&&Date.now()+f-o<yr})}catch(o){if(this._debug(i,"error",o),oe(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(i,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",i,"url",o),Tt()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Rn(this.storage,this.storageKey);if(a&&this.userStorage){let f=await Rn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:a.user},await wr(this.userStorage,this.storageKey+"-user",f)),a.user=(r=f?.user)!==null&&r!==void 0?r:Wl()}else if(a&&!a.user&&!a.user){const f=await Rn(this.storage,this.storageKey+"-user");f&&f?.user?(a.user=f.user,await pn(this.storage,this.storageKey+"-user"),await wr(this.storage,this.storageKey,a)):a.user=Wl()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const d=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Ml;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${Ml}s`),d){if(this.autoRefreshToken&&a.refresh_token){const{error:f}=await this._callRefreshToken(a.refresh_token);f&&(console.error(f),Fl(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(a.access_token);!p&&f?.user?(a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var i,o;if(!r)throw new gn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new $s;const{data:d,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!d.session)throw new gn;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={session:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(a,"error",d),oe(d)){const f={session:null,error:d};return Fl(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(r,i,o=!0){const a=`#_notifyAllSubscribers(${r})`;this._debug(a,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,i)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(a,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const i=Object.assign({},r),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await wr(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const d=zd(a);await wr(this.storage,this.storageKey,d)}else{const a=zd(i);await wr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await pn(this.storage,this.storageKey),await pn(this.storage,this.storageKey+"-code-verifier"),await pn(this.storage,this.storageKey+"-user"),this.userStorage&&await pn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),yr);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-r)/yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${yr}ms, refresh threshold is ${Xl} ticks`),a<=Xl&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof uf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const i=`#_onVisibilityChanged(${r})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,i,o){const a=[`provider=${encodeURIComponent(i)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,f]=await pr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});a.push(p.toString())}if(o?.queryParams){const d=new URLSearchParams(o.queryParams);a.push(d.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${a.join("&")}`}async _unenroll(r){try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;return d?{data:null,error:d}:await de(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _enroll(r){try{return await this._useSession(async i=>{var o,a;const{data:d,error:f}=i;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:g,error:m}=await de(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((a=g?.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;if(d)return{data:null,error:d};const{data:f,error:p}=await de(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(i){if(oe(i))return{data:null,error:i};throw i}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;return d?{data:null,error:d}:await de(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(oe(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(r){const{data:i,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:i.id,code:r.code})}async _listFactors(){const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o=r?.factors||[],a=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),d=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:a,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var i,o;const{data:{session:a},error:d}=r;if(d)return{data:null,error:d};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Bl(a.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(k=>k.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const v=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(r,i={keys:[]}){let o=i.keys.find(p=>p.kid===r);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+tm>a)return o;const{data:d,error:f}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=a,o=d.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,i={}){try{let o=r;if(!o){const{data:O,error:I}=await this.getSession();if(I||!O.session)return{data:null,error:I};o=O.session.access_token}const{header:a,payload:d,signature:f,raw:{header:p,payload:g}}=Bl(o);i?.allowExpired||jm(d.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!m){const{error:O}=await this.getUser(o);if(O)throw O;return{data:{claims:d,header:a,signature:f},error:null}}const v=Cm(a.alg),k=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,k,f,dm(`${p}.${g}`)))throw new ta("Invalid JWT signature");return{data:{claims:d,header:a,signature:f},error:null}}catch(o){if(oe(o))return{data:null,error:o};throw o}}}gi.nextInstanceID=0;const Bm=gi;class Wm extends Bm{constructor(r){super(r)}}var Hm=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{m(o.next(v))}catch(k){f(k)}}function g(v){try{m(o.throw(v))}catch(k){f(k)}}function m(v){v.done?d(v.value):a(v.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};class Vm{constructor(r,i,o){var a,d,f;this.supabaseUrl=r,this.supabaseKey=i;const p=Qg(r);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,m={db:Mg,realtime:Bg,auth:Object.assign(Object.assign({},Fg),{storageKey:g}),global:Ug},v=Gg(o??{},m);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(d=v.global.headers)!==null&&d!==void 0?d:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(k,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=v.auth)!==null&&f!==void 0?f:{},this.headers,v.global.fetch),this.fetch=qg(i,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new og(new URL("rest/v1",p).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new $g(this.storageUrl.href,this.headers,this.fetch,o?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Qp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,i={},o={}){return this.rest.rpc(r,i,o)}channel(r,i={config:{}}){return this.realtime.channel(r,i)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,i;return Hm(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:a,userStorage:d,storageKey:f,flowType:p,lock:g,debug:m},v,k){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wm({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),v),storageKey:f,autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:a,userStorage:d,flowType:p,lock:g,debug:m,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new xg(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o?.access_token)})}_handleTokenChanged(r,i,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qm=(u,r,i)=>new Vm(u,r,i);function Km(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const r=u.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Km()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jm="https://qsgbnlqthphckokmtygi.supabase.co",Gm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFzZ2JubHF0aHBoY2tva210eWdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1ODg1MzgsImV4cCI6MjA3NDE2NDUzOH0.sxre3gUxN4EJ1AhVPXnQOONcehFfE1MCz8f5vawpqs0",ci=qm(Jm,Gm);function Qm({children:u}){const[r,i]=re.useState(null),[o,a]=re.useState(!0),[d,f]=re.useState(null);re.useEffect(()=>{let m=!0;async function v(){try{const E=window.location.hash||"";if(E.startsWith("#")){const O=new URLSearchParams(E.slice(1)),I=O.get("access_token"),A=O.get("refresh_token");if(I&&A){try{await ci.auth.setSession({access_token:I,refresh_token:A})}catch(R){console.warn("Failed to set session from redirect tokens",R)}try{history.replaceState(null,document.title,window.location.pathname+window.location.search)}catch{}}}}catch(E){console.warn("OAuth redirect handling failed",E)}try{const{data:E}=await ci.auth.getSession();if(!m)return;i(E?.session??null)}catch(E){console.warn("Supabase session load failed",E)}finally{a(!1)}}v();const{data:k}=ci.auth.onAuthStateChange((E,O)=>{i(O)});return()=>{m=!1;try{k.subscription?.unsubscribe()}catch{}}},[]);async function p(){try{f(null);const m=await ci.auth.signInWithOAuth({provider:"github",options:{redirectTo:window.location.origin}});m?.error&&f(m.error.message||"Sign in failed")}catch(m){f(String(m?.message||m))}}async function g(){await ci.auth.signOut(),i(null)}return o?w.jsx("div",{children:"Loading..."}):r?w.jsxs("div",{children:[w.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,alignItems:"center"},children:[w.jsxs("div",{style:{fontSize:12,opacity:.8},children:["Signed in as ",r.user?.email]}),w.jsx("button",{onClick:g,style:{padding:"6px 10px",borderRadius:8},children:"Sign out"})]}),u]}):w.jsxs("div",{style:{padding:20},children:[w.jsx("h3",{children:"Sign in with GitHub to continue"}),w.jsx("p",{children:"If you use GitHub Copilot, sign in with the same GitHub account."}),w.jsx("button",{onClick:p,style:{padding:"10px 14px",borderRadius:8},children:"Sign in with GitHub"}),d?w.jsxs("div",{style:{marginTop:12,color:"crimson"},children:[w.jsx("strong",{children:"Sign-in error:"})," ",d,w.jsx("div",{style:{marginTop:8,fontSize:13},children:'If you see "Unsupported provider: provider is not enabled", open your Supabase dashboard  Authentication  Providers and enable GitHub (ensure client ID/secret are set and redirect URL is configured).'})]}):null]})}gp.createRoot(document.getElementById("root")).render(w.jsxs(Wd.StrictMode,{children:[(localStorage.getItem("provider")||localStorage.setItem("provider","azure"),null),(()=>{const u=localStorage.getItem("skip_auth")==="true",r=typeof window<"u"&&window.location.hostname.endsWith("github.io");return u||r?w.jsx(wd,{}):w.jsx(Qm,{children:w.jsx(wd,{})})})()]}));
