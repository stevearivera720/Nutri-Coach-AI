(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=i(a);fetch(a.href,d)}})();function ea(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function sp(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var r=u.default;if(typeof r=="function"){var i=function o(){var a=!1;try{a=this instanceof o}catch{}return a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var a=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return u[o]}})}),i}var Cl={exports:{}},si={},Tl={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc;function op(){if(Zc)return fe;Zc=1;var u=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),k=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=k&&x[k]||x["@@iterator"],typeof x=="function"?x:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,b={};function R(x,I,ie){this.props=x,this.context=I,this.refs=b,this.updater=ie||P}R.prototype.isReactComponent={},R.prototype.setState=function(x,I){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,I,"setState")},R.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function te(){}te.prototype=R.prototype;function Z(x,I,ie){this.props=x,this.context=I,this.refs=b,this.updater=ie||P}var F=Z.prototype=new te;F.constructor=Z,O(F,R.prototype),F.isPureReactComponent=!0;var q=Array.isArray,ue=Object.prototype.hasOwnProperty,V={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function ve(x,I,ie){var ce,X={},z=null,he=null;if(I!=null)for(ce in I.ref!==void 0&&(he=I.ref),I.key!==void 0&&(z=""+I.key),I)ue.call(I,ce)&&!oe.hasOwnProperty(ce)&&(X[ce]=I[ce]);var de=arguments.length-2;if(de===1)X.children=ie;else if(1<de){for(var ye=Array(de),Me=0;Me<de;Me++)ye[Me]=arguments[Me+2];X.children=ye}if(x&&x.defaultProps)for(ce in de=x.defaultProps,de)X[ce]===void 0&&(X[ce]=de[ce]);return{$$typeof:u,type:x,key:z,ref:he,props:X,_owner:V.current}}function je(x,I){return{$$typeof:u,type:x.type,key:I,ref:x.ref,props:x.props,_owner:x._owner}}function Oe(x){return typeof x=="object"&&x!==null&&x.$$typeof===u}function ze(x){var I={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ie){return I[ie]})}var Ne=/\/+/g;function be(x,I){return typeof x=="object"&&x!==null&&x.key!=null?ze(""+x.key):I.toString(36)}function $(x,I,ie,ce,X){var z=typeof x;(z==="undefined"||z==="boolean")&&(x=null);var he=!1;if(x===null)he=!0;else switch(z){case"string":case"number":he=!0;break;case"object":switch(x.$$typeof){case u:case r:he=!0}}if(he)return he=x,X=X(he),x=ce===""?"."+be(he,0):ce,q(X)?(ie="",x!=null&&(ie=x.replace(Ne,"$&/")+"/"),$(X,I,ie,"",function(Me){return Me})):X!=null&&(Oe(X)&&(X=je(X,ie+(!X.key||he&&he.key===X.key?"":(""+X.key).replace(Ne,"$&/")+"/")+x)),I.push(X)),1;if(he=0,ce=ce===""?".":ce+":",q(x))for(var de=0;de<x.length;de++){z=x[de];var ye=ce+be(z,de);he+=$(z,I,ie,ye,X)}else if(ye=C(x),typeof ye=="function")for(x=ye.call(x),de=0;!(z=x.next()).done;)z=z.value,ye=ce+be(z,de++),he+=$(z,I,ie,ye,X);else if(z==="object")throw I=String(x),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return he}function Q(x,I,ie){if(x==null)return x;var ce=[],X=0;return $(x,ce,"","",function(z){return I.call(ie,z,X++)}),ce}function ee(x){if(x._status===-1){var I=x._result;I=I(),I.then(function(ie){(x._status===0||x._status===-1)&&(x._status=1,x._result=ie)},function(ie){(x._status===0||x._status===-1)&&(x._status=2,x._result=ie)}),x._status===-1&&(x._status=0,x._result=I)}if(x._status===1)return x._result.default;throw x._result}var W={current:null},L={transition:null},H={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:L,ReactCurrentOwner:V};function M(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:Q,forEach:function(x,I,ie){Q(x,function(){I.apply(this,arguments)},ie)},count:function(x){var I=0;return Q(x,function(){I++}),I},toArray:function(x){return Q(x,function(I){return I})||[]},only:function(x){if(!Oe(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},fe.Component=R,fe.Fragment=i,fe.Profiler=a,fe.PureComponent=Z,fe.StrictMode=o,fe.Suspense=g,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,fe.act=M,fe.cloneElement=function(x,I,ie){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var ce=O({},x.props),X=x.key,z=x.ref,he=x._owner;if(I!=null){if(I.ref!==void 0&&(z=I.ref,he=V.current),I.key!==void 0&&(X=""+I.key),x.type&&x.type.defaultProps)var de=x.type.defaultProps;for(ye in I)ue.call(I,ye)&&!oe.hasOwnProperty(ye)&&(ce[ye]=I[ye]===void 0&&de!==void 0?de[ye]:I[ye])}var ye=arguments.length-2;if(ye===1)ce.children=ie;else if(1<ye){de=Array(ye);for(var Me=0;Me<ye;Me++)de[Me]=arguments[Me+2];ce.children=de}return{$$typeof:u,type:x.type,key:X,ref:z,props:ce,_owner:he}},fe.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:d,_context:x},x.Consumer=x},fe.createElement=ve,fe.createFactory=function(x){var I=ve.bind(null,x);return I.type=x,I},fe.createRef=function(){return{current:null}},fe.forwardRef=function(x){return{$$typeof:p,render:x}},fe.isValidElement=Oe,fe.lazy=function(x){return{$$typeof:y,_payload:{_status:-1,_result:x},_init:ee}},fe.memo=function(x,I){return{$$typeof:m,type:x,compare:I===void 0?null:I}},fe.startTransition=function(x){var I=L.transition;L.transition={};try{x()}finally{L.transition=I}},fe.unstable_act=M,fe.useCallback=function(x,I){return W.current.useCallback(x,I)},fe.useContext=function(x){return W.current.useContext(x)},fe.useDebugValue=function(){},fe.useDeferredValue=function(x){return W.current.useDeferredValue(x)},fe.useEffect=function(x,I){return W.current.useEffect(x,I)},fe.useId=function(){return W.current.useId()},fe.useImperativeHandle=function(x,I,ie){return W.current.useImperativeHandle(x,I,ie)},fe.useInsertionEffect=function(x,I){return W.current.useInsertionEffect(x,I)},fe.useLayoutEffect=function(x,I){return W.current.useLayoutEffect(x,I)},fe.useMemo=function(x,I){return W.current.useMemo(x,I)},fe.useReducer=function(x,I,ie){return W.current.useReducer(x,I,ie)},fe.useRef=function(x){return W.current.useRef(x)},fe.useState=function(x){return W.current.useState(x)},fe.useSyncExternalStore=function(x,I,ie){return W.current.useSyncExternalStore(x,I,ie)},fe.useTransition=function(){return W.current.useTransition()},fe.version="18.3.1",fe}var ed;function hi(){return ed||(ed=1,Tl.exports=op()),Tl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function lp(){if(td)return si;td=1;var u=hi(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,m){var y,k={},C=null,P=null;m!==void 0&&(C=""+m),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(P=g.ref);for(y in g)o.call(g,y)&&!d.hasOwnProperty(y)&&(k[y]=g[y]);if(p&&p.defaultProps)for(y in g=p.defaultProps,g)k[y]===void 0&&(k[y]=g[y]);return{$$typeof:r,type:p,key:C,ref:P,props:k,_owner:a.current}}return si.Fragment=i,si.jsx=f,si.jsxs=f,si}var nd;function ap(){return nd||(nd=1,Cl.exports=lp()),Cl.exports}var w=ap(),le=hi();const Bd=ea(le);var Es={},Pl={exports:{}},st={},Ol={exports:{}},bl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function up(){return rd||(rd=1,(function(u){function r(L,H){var M=L.length;L.push(H);e:for(;0<M;){var x=M-1>>>1,I=L[x];if(0<a(I,H))L[x]=H,L[M]=I,M=x;else break e}}function i(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var H=L[0],M=L.pop();if(M!==H){L[0]=M;e:for(var x=0,I=L.length,ie=I>>>1;x<ie;){var ce=2*(x+1)-1,X=L[ce],z=ce+1,he=L[z];if(0>a(X,M))z<I&&0>a(he,X)?(L[x]=he,L[z]=M,x=z):(L[x]=X,L[ce]=M,x=ce);else if(z<I&&0>a(he,M))L[x]=he,L[z]=M,x=z;else break e}}return H}function a(L,H){var M=L.sortIndex-H.sortIndex;return M!==0?M:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();u.unstable_now=function(){return f.now()-p}}var g=[],m=[],y=1,k=null,C=3,P=!1,O=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(L){for(var H=i(m);H!==null;){if(H.callback===null)o(m);else if(H.startTime<=L)o(m),H.sortIndex=H.expirationTime,r(g,H);else break;H=i(m)}}function q(L){if(b=!1,F(L),!O)if(i(g)!==null)O=!0,ee(ue);else{var H=i(m);H!==null&&W(q,H.startTime-L)}}function ue(L,H){O=!1,b&&(b=!1,te(ve),ve=-1),P=!0;var M=C;try{for(F(H),k=i(g);k!==null&&(!(k.expirationTime>H)||L&&!ze());){var x=k.callback;if(typeof x=="function"){k.callback=null,C=k.priorityLevel;var I=x(k.expirationTime<=H);H=u.unstable_now(),typeof I=="function"?k.callback=I:k===i(g)&&o(g),F(H)}else o(g);k=i(g)}if(k!==null)var ie=!0;else{var ce=i(m);ce!==null&&W(q,ce.startTime-H),ie=!1}return ie}finally{k=null,C=M,P=!1}}var V=!1,oe=null,ve=-1,je=5,Oe=-1;function ze(){return!(u.unstable_now()-Oe<je)}function Ne(){if(oe!==null){var L=u.unstable_now();Oe=L;var H=!0;try{H=oe(!0,L)}finally{H?be():(V=!1,oe=null)}}else V=!1}var be;if(typeof Z=="function")be=function(){Z(Ne)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Q=$.port2;$.port1.onmessage=Ne,be=function(){Q.postMessage(null)}}else be=function(){R(Ne,0)};function ee(L){oe=L,V||(V=!0,be())}function W(L,H){ve=R(function(){L(u.unstable_now())},H)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(L){L.callback=null},u.unstable_continueExecution=function(){O||P||(O=!0,ee(ue))},u.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):je=0<L?Math.floor(1e3/L):5},u.unstable_getCurrentPriorityLevel=function(){return C},u.unstable_getFirstCallbackNode=function(){return i(g)},u.unstable_next=function(L){switch(C){case 1:case 2:case 3:var H=3;break;default:H=C}var M=C;C=H;try{return L()}finally{C=M}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var M=C;C=L;try{return H()}finally{C=M}},u.unstable_scheduleCallback=function(L,H,M){var x=u.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?x+M:x):M=x,L){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=M+I,L={id:y++,callback:H,priorityLevel:L,startTime:M,expirationTime:I,sortIndex:-1},M>x?(L.sortIndex=M,r(m,L),i(g)===null&&L===i(m)&&(b?(te(ve),ve=-1):b=!0,W(q,M-x))):(L.sortIndex=I,r(g,L),O||P||(O=!0,ee(ue))),L},u.unstable_shouldYield=ze,u.unstable_wrapCallback=function(L){var H=C;return function(){var M=C;C=H;try{return L.apply(this,arguments)}finally{C=M}}}})(bl)),bl}var id;function cp(){return id||(id=1,Ol.exports=up()),Ol.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function dp(){if(sd)return st;sd=1;var u=hi(),r=cp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function d(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},k={};function C(e){return g.call(k,e)?!0:g.call(y,e)?!1:m.test(e)?k[e]=!0:(y[e]=!0,!1)}function P(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,n,s){if(t===null||typeof t>"u"||P(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,n,s,l,c,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=h}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var te=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(te,Z);R[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(te,Z);R[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(te,Z);R[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function F(e,t,n,s){var l=R.hasOwnProperty(t)?R[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,n,l,s)&&(n=null),s||l===null?C(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var q=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),V=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),je=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),ze=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),L=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var M=Object.assign,x;function I(e){if(x===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return`
`+x+e}var ie=!1;function ce(e,t){if(!e||ie)return"";ie=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var s=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){s=T}e.call(t.prototype)}else{try{throw Error()}catch(T){s=T}e()}}catch(T){if(T&&s&&typeof T.stack=="string"){for(var l=T.stack.split(`
`),c=s.stack.split(`
`),h=l.length-1,v=c.length-1;1<=h&&0<=v&&l[h]!==c[v];)v--;for(;1<=h&&0<=v;h--,v--)if(l[h]!==c[v]){if(h!==1||v!==1)do if(h--,v--,0>v||l[h]!==c[v]){var _=`
`+l[h].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=h&&0<=v);break}}}finally{ie=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I(e):""}function X(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function z(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oe:return"Fragment";case V:return"Portal";case je:return"Profiler";case ve:return"StrictMode";case be:return"Suspense";case $:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ze:return(e.displayName||"Context")+".Consumer";case Oe:return(e._context.displayName||"Context")+".Provider";case Ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:z(e.type)||"Memo";case ee:t=e._payload,e=e._init;try{return z(e(t))}catch{}}return null}function he(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===ve?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Me(e){var t=ye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){s=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rn(e){e._valueTracker||(e._valueTracker=Me(e))}function gi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ye(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hn(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bt(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=de(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function la(e,t){t=t.checked,t!=null&&F(e,"checked",t,!1)}function As(e,t){la(e,t);var n=de(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ns(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ns(e,t.type,de(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function aa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ns(e,t,n){(t!=="number"||wr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _r=Array.isArray;function An(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+de(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ls(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ua(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(_r(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:de(n)}}function ca(e,t){var n=de(t.value),s=de(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function da(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $s(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fa(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mi,ha=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mi=mi||document.createElement("div"),mi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uf=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(e){uf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kr[t]=kr[e]})});function pa(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||kr.hasOwnProperty(e)&&kr[e]?(""+t).trim():t+"px"}function ga(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=pa(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var cf=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ds(e,t){if(t){if(cf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Us(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=null;function Ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fs=null,Nn=null,Ln=null;function ma(e){if(e=Hr(e)){if(typeof Fs!="function")throw Error(i(280));var t=e.stateNode;t&&(t=zi(t),Fs(e.stateNode,e.type,t))}}function va(e){Nn?Ln?Ln.push(e):Ln=[e]:Nn=e}function ya(){if(Nn){var e=Nn,t=Ln;if(Ln=Nn=null,ma(e),t)for(e=0;e<t.length;e++)ma(t[e])}}function wa(e,t){return e(t)}function _a(){}var Bs=!1;function Sa(e,t,n){if(Bs)return e(t,n);Bs=!0;try{return wa(e,t,n)}finally{Bs=!1,(Nn!==null||Ln!==null)&&(_a(),ya())}}function xr(e,t){var n=e.stateNode;if(n===null)return null;var s=zi(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var Ws=!1;if(p)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{Ws=!1}function df(e,t,n,s,l,c,h,v,_){var T=Array.prototype.slice.call(arguments,3);try{t.apply(n,T)}catch(N){this.onError(N)}}var jr=!1,vi=null,yi=!1,Hs=null,ff={onError:function(e){jr=!0,vi=e}};function hf(e,t,n,s,l,c,h,v,_){jr=!1,vi=null,df.apply(ff,arguments)}function pf(e,t,n,s,l,c,h,v,_){if(hf.apply(this,arguments),jr){if(jr){var T=vi;jr=!1,vi=null}else throw Error(i(198));yi||(yi=!0,Hs=T)}}function pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ka(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xa(e){if(pn(e)!==e)throw Error(i(188))}function gf(e){var t=e.alternate;if(!t){if(t=pn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return xa(l),e;if(c===s)return xa(l),t;c=c.sibling}throw Error(i(188))}if(n.return!==s.return)n=l,s=c;else{for(var h=!1,v=l.child;v;){if(v===n){h=!0,n=l,s=c;break}if(v===s){h=!0,s=l,n=c;break}v=v.sibling}if(!h){for(v=c.child;v;){if(v===n){h=!0,n=c,s=l;break}if(v===s){h=!0,s=c,n=l;break}v=v.sibling}if(!h)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function Ea(e){return e=gf(e),e!==null?ja(e):null}function ja(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ja(e);if(t!==null)return t;e=e.sibling}return null}var Ca=r.unstable_scheduleCallback,Ta=r.unstable_cancelCallback,mf=r.unstable_shouldYield,vf=r.unstable_requestPaint,Ie=r.unstable_now,yf=r.unstable_getCurrentPriorityLevel,Vs=r.unstable_ImmediatePriority,Pa=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,wf=r.unstable_LowPriority,Oa=r.unstable_IdlePriority,_i=null,jt=null;function _f(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(_i,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:xf,Sf=Math.log,kf=Math.LN2;function xf(e){return e>>>=0,e===0?32:31-(Sf(e)/kf|0)|0}var Si=64,ki=4194304;function Cr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xi(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,c=e.pingedLanes,h=n&268435455;if(h!==0){var v=h&~l;v!==0?s=Cr(v):(c&=h,c!==0&&(s=Cr(c)))}else h=n&~l,h!==0?s=Cr(h):c!==0&&(s=Cr(c));if(s===0)return 0;if(t!==0&&t!==s&&(t&l)===0&&(l=s&-s,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-mt(t),l=1<<n,s|=e[n],t&=~l;return s}function Ef(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var h=31-mt(c),v=1<<h,_=l[h];_===-1?((v&n)===0||(v&s)!==0)&&(l[h]=Ef(v,t)):_<=t&&(e.expiredLanes|=v),c&=~v}}function qs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ba(){var e=Si;return Si<<=1,(Si&4194240)===0&&(Si=64),e}function Ks(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function Cf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-mt(n),c=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~c}}function Js(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-mt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var we=0;function Ia(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ra,Gs,Aa,Na,La,Qs=!1,Ei=[],Wt=null,Ht=null,Vt=null,Pr=new Map,Or=new Map,qt=[],Tf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $a(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(t.pointerId)}}function br(e,t,n,s,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:c,targetContainers:[l]},t!==null&&(t=Hr(t),t!==null&&Gs(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Pf(e,t,n,s,l){switch(t){case"focusin":return Wt=br(Wt,e,t,n,s,l),!0;case"dragenter":return Ht=br(Ht,e,t,n,s,l),!0;case"mouseover":return Vt=br(Vt,e,t,n,s,l),!0;case"pointerover":var c=l.pointerId;return Pr.set(c,br(Pr.get(c)||null,e,t,n,s,l)),!0;case"gotpointercapture":return c=l.pointerId,Or.set(c,br(Or.get(c)||null,e,t,n,s,l)),!0}return!1}function Da(e){var t=gn(e.target);if(t!==null){var n=pn(t);if(n!==null){if(t=n.tag,t===13){if(t=ka(n),t!==null){e.blockedOn=t,La(e.priority,function(){Aa(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ji(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);zs=s,n.target.dispatchEvent(s),zs=null}else return t=Hr(n),t!==null&&Gs(t),e.blockedOn=n,!1;t.shift()}return!0}function Ua(e,t,n){ji(e)&&n.delete(t)}function Of(){Qs=!1,Wt!==null&&ji(Wt)&&(Wt=null),Ht!==null&&ji(Ht)&&(Ht=null),Vt!==null&&ji(Vt)&&(Vt=null),Pr.forEach(Ua),Or.forEach(Ua)}function Ir(e,t){e.blockedOn===t&&(e.blockedOn=null,Qs||(Qs=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Of)))}function Rr(e){function t(l){return Ir(l,e)}if(0<Ei.length){Ir(Ei[0],e);for(var n=1;n<Ei.length;n++){var s=Ei[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Wt!==null&&Ir(Wt,e),Ht!==null&&Ir(Ht,e),Vt!==null&&Ir(Vt,e),Pr.forEach(t),Or.forEach(t),n=0;n<qt.length;n++)s=qt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)Da(n),n.blockedOn===null&&qt.shift()}var $n=q.ReactCurrentBatchConfig,Ci=!0;function bf(e,t,n,s){var l=we,c=$n.transition;$n.transition=null;try{we=1,Ys(e,t,n,s)}finally{we=l,$n.transition=c}}function If(e,t,n,s){var l=we,c=$n.transition;$n.transition=null;try{we=4,Ys(e,t,n,s)}finally{we=l,$n.transition=c}}function Ys(e,t,n,s){if(Ci){var l=Xs(e,t,n,s);if(l===null)mo(e,t,s,Ti,n),$a(e,s);else if(Pf(l,e,t,n,s))s.stopPropagation();else if($a(e,s),t&4&&-1<Tf.indexOf(e)){for(;l!==null;){var c=Hr(l);if(c!==null&&Ra(c),c=Xs(e,t,n,s),c===null&&mo(e,t,s,Ti,n),c===l)break;l=c}l!==null&&s.stopPropagation()}else mo(e,t,s,null,n)}}var Ti=null;function Xs(e,t,n,s){if(Ti=null,e=Ms(s),e=gn(e),e!==null)if(t=pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ka(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ti=e,null}function za(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yf()){case Vs:return 1;case Pa:return 4;case wi:case wf:return 16;case Oa:return 536870912;default:return 16}default:return 16}}var Kt=null,Zs=null,Pi=null;function Ma(){if(Pi)return Pi;var e,t=Zs,n=t.length,s,l="value"in Kt?Kt.value:Kt.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var h=n-e;for(s=1;s<=h&&t[n-s]===l[c-s];s++);return Pi=l.slice(e,1<s?1-s:void 0)}function Oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bi(){return!0}function Fa(){return!1}function ot(e){function t(n,s,l,c,h){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?bi:Fa,this.isPropagationStopped=Fa,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),t}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=ot(Dn),Ar=M({},Dn,{view:0,detail:0}),Rf=ot(Ar),to,no,Nr,Ii=M({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nr&&(Nr&&e.type==="mousemove"?(to=e.screenX-Nr.screenX,no=e.screenY-Nr.screenY):no=to=0,Nr=e),to)},movementY:function(e){return"movementY"in e?e.movementY:no}}),Ba=ot(Ii),Af=M({},Ii,{dataTransfer:0}),Nf=ot(Af),Lf=M({},Ar,{relatedTarget:0}),ro=ot(Lf),$f=M({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Df=ot($f),Uf=M({},Dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zf=ot(Uf),Mf=M({},Dn,{data:0}),Wa=ot(Mf),Ff={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wf[e])?!!t[e]:!1}function io(){return Hf}var Vf=M({},Ar,{key:function(e){if(e.key){var t=Ff[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(e){return e.type==="keypress"?Oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qf=ot(Vf),Kf=M({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ha=ot(Kf),Jf=M({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),Gf=ot(Jf),Qf=M({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yf=ot(Qf),Xf=M({},Ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zf=ot(Xf),eh=[9,13,27,32],so=p&&"CompositionEvent"in window,Lr=null;p&&"documentMode"in document&&(Lr=document.documentMode);var th=p&&"TextEvent"in window&&!Lr,Va=p&&(!so||Lr&&8<Lr&&11>=Lr),qa=" ",Ka=!1;function Ja(e,t){switch(e){case"keyup":return eh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function nh(e,t){switch(e){case"compositionend":return Ga(t);case"keypress":return t.which!==32?null:(Ka=!0,qa);case"textInput":return e=t.data,e===qa&&Ka?null:e;default:return null}}function rh(e,t){if(Un)return e==="compositionend"||!so&&Ja(e,t)?(e=Ma(),Pi=Zs=Kt=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Va&&t.locale!=="ko"?null:t.data;default:return null}}var ih={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ih[e.type]:t==="textarea"}function Ya(e,t,n,s){va(s),t=$i(t,"onChange"),0<t.length&&(n=new eo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var $r=null,Dr=null;function sh(e){gu(e,0)}function Ri(e){var t=Wn(e);if(gi(t))return e}function oh(e,t){if(e==="change")return t}var Xa=!1;if(p){var oo;if(p){var lo="oninput"in document;if(!lo){var Za=document.createElement("div");Za.setAttribute("oninput","return;"),lo=typeof Za.oninput=="function"}oo=lo}else oo=!1;Xa=oo&&(!document.documentMode||9<document.documentMode)}function eu(){$r&&($r.detachEvent("onpropertychange",tu),Dr=$r=null)}function tu(e){if(e.propertyName==="value"&&Ri(Dr)){var t=[];Ya(t,Dr,e,Ms(e)),Sa(sh,t)}}function lh(e,t,n){e==="focusin"?(eu(),$r=t,Dr=n,$r.attachEvent("onpropertychange",tu)):e==="focusout"&&eu()}function ah(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ri(Dr)}function uh(e,t){if(e==="click")return Ri(t)}function ch(e,t){if(e==="input"||e==="change")return Ri(t)}function dh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:dh;function Ur(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!g.call(t,l)||!vt(e[l],t[l]))return!1}return!0}function nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ru(e,t){var n=nu(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nu(n)}}function iu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function su(){for(var e=window,t=wr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wr(e.document)}return t}function ao(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fh(e){var t=su(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&iu(n.ownerDocument.documentElement,n)){if(s!==null&&ao(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,c=Math.min(s.start,l);s=s.end===void 0?c:Math.min(s.end,l),!e.extend&&c>s&&(l=s,s=c,c=l),l=ru(n,c);var h=ru(n,s);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hh=p&&"documentMode"in document&&11>=document.documentMode,zn=null,uo=null,zr=null,co=!1;function ou(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;co||zn==null||zn!==wr(s)||(s=zn,"selectionStart"in s&&ao(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),zr&&Ur(zr,s)||(zr=s,s=$i(uo,"onSelect"),0<s.length&&(t=new eo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=zn)))}function Ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mn={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},fo={},lu={};p&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function Ni(e){if(fo[e])return fo[e];if(!Mn[e])return e;var t=Mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lu)return fo[e]=t[n];return e}var au=Ni("animationend"),uu=Ni("animationiteration"),cu=Ni("animationstart"),du=Ni("transitionend"),fu=new Map,hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){fu.set(e,t),d(t,[e])}for(var ho=0;ho<hu.length;ho++){var po=hu[ho],ph=po.toLowerCase(),gh=po[0].toUpperCase()+po.slice(1);Jt(ph,"on"+gh)}Jt(au,"onAnimationEnd"),Jt(uu,"onAnimationIteration"),Jt(cu,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(du,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function pu(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,pf(s,t,void 0,e),e.currentTarget=null}function gu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var h=s.length-1;0<=h;h--){var v=s[h],_=v.instance,T=v.currentTarget;if(v=v.listener,_!==c&&l.isPropagationStopped())break e;pu(l,v,T),c=_}else for(h=0;h<s.length;h++){if(v=s[h],_=v.instance,T=v.currentTarget,v=v.listener,_!==c&&l.isPropagationStopped())break e;pu(l,v,T),c=_}}}if(yi)throw e=Hs,yi=!1,Hs=null,e}function ke(e,t){var n=t[ko];n===void 0&&(n=t[ko]=new Set);var s=e+"__bubble";n.has(s)||(mu(t,e,2,!1),n.add(s))}function go(e,t,n){var s=0;t&&(s|=4),mu(n,e,s,t)}var Li="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[Li]){e[Li]=!0,o.forEach(function(n){n!=="selectionchange"&&(mh.has(n)||go(n,!1,e),go(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Li]||(t[Li]=!0,go("selectionchange",!1,t))}}function mu(e,t,n,s){switch(za(t)){case 1:var l=bf;break;case 4:l=If;break;default:l=Ys}n=l.bind(null,t,n,e),l=void 0,!Ws||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function mo(e,t,n,s,l){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var v=s.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(h===4)for(h=s.return;h!==null;){var _=h.tag;if((_===3||_===4)&&(_=h.stateNode.containerInfo,_===l||_.nodeType===8&&_.parentNode===l))return;h=h.return}for(;v!==null;){if(h=gn(v),h===null)return;if(_=h.tag,_===5||_===6){s=c=h;continue e}v=v.parentNode}}s=s.return}Sa(function(){var T=c,N=Ms(n),D=[];e:{var A=fu.get(e);if(A!==void 0){var B=eo,J=e;switch(e){case"keypress":if(Oi(n)===0)break e;case"keydown":case"keyup":B=qf;break;case"focusin":J="focus",B=ro;break;case"focusout":J="blur",B=ro;break;case"beforeblur":case"afterblur":B=ro;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Gf;break;case au:case uu:case cu:B=Df;break;case du:B=Yf;break;case"scroll":B=Rf;break;case"wheel":B=Zf;break;case"copy":case"cut":case"paste":B=zf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ha}var G=(t&4)!==0,Re=!G&&e==="scroll",E=G?A!==null?A+"Capture":null:A;G=[];for(var S=T,j;S!==null;){j=S;var U=j.stateNode;if(j.tag===5&&U!==null&&(j=U,E!==null&&(U=xr(S,E),U!=null&&G.push(Br(S,U,j)))),Re)break;S=S.return}0<G.length&&(A=new B(A,J,null,n,N),D.push({event:A,listeners:G}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",A&&n!==zs&&(J=n.relatedTarget||n.fromElement)&&(gn(J)||J[It]))break e;if((B||A)&&(A=N.window===N?N:(A=N.ownerDocument)?A.defaultView||A.parentWindow:window,B?(J=n.relatedTarget||n.toElement,B=T,J=J?gn(J):null,J!==null&&(Re=pn(J),J!==Re||J.tag!==5&&J.tag!==6)&&(J=null)):(B=null,J=T),B!==J)){if(G=Ba,U="onMouseLeave",E="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(G=Ha,U="onPointerLeave",E="onPointerEnter",S="pointer"),Re=B==null?A:Wn(B),j=J==null?A:Wn(J),A=new G(U,S+"leave",B,n,N),A.target=Re,A.relatedTarget=j,U=null,gn(N)===T&&(G=new G(E,S+"enter",J,n,N),G.target=j,G.relatedTarget=Re,U=G),Re=U,B&&J)t:{for(G=B,E=J,S=0,j=G;j;j=Fn(j))S++;for(j=0,U=E;U;U=Fn(U))j++;for(;0<S-j;)G=Fn(G),S--;for(;0<j-S;)E=Fn(E),j--;for(;S--;){if(G===E||E!==null&&G===E.alternate)break t;G=Fn(G),E=Fn(E)}G=null}else G=null;B!==null&&vu(D,A,B,G,!1),J!==null&&Re!==null&&vu(D,Re,J,G,!0)}}e:{if(A=T?Wn(T):window,B=A.nodeName&&A.nodeName.toLowerCase(),B==="select"||B==="input"&&A.type==="file")var Y=oh;else if(Qa(A))if(Xa)Y=ch;else{Y=ah;var ne=lh}else(B=A.nodeName)&&B.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(Y=uh);if(Y&&(Y=Y(e,T))){Ya(D,Y,n,N);break e}ne&&ne(e,A,T),e==="focusout"&&(ne=A._wrapperState)&&ne.controlled&&A.type==="number"&&Ns(A,"number",A.value)}switch(ne=T?Wn(T):window,e){case"focusin":(Qa(ne)||ne.contentEditable==="true")&&(zn=ne,uo=T,zr=null);break;case"focusout":zr=uo=zn=null;break;case"mousedown":co=!0;break;case"contextmenu":case"mouseup":case"dragend":co=!1,ou(D,n,N);break;case"selectionchange":if(hh)break;case"keydown":case"keyup":ou(D,n,N)}var re;if(so)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Un?Ja(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(Va&&n.locale!=="ko"&&(Un||se!=="onCompositionStart"?se==="onCompositionEnd"&&Un&&(re=Ma()):(Kt=N,Zs="value"in Kt?Kt.value:Kt.textContent,Un=!0)),ne=$i(T,se),0<ne.length&&(se=new Wa(se,e,null,n,N),D.push({event:se,listeners:ne}),re?se.data=re:(re=Ga(n),re!==null&&(se.data=re)))),(re=th?nh(e,n):rh(e,n))&&(T=$i(T,"onBeforeInput"),0<T.length&&(N=new Wa("onBeforeInput","beforeinput",null,n,N),D.push({event:N,listeners:T}),N.data=re))}gu(D,t)})}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $i(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=xr(e,n),c!=null&&s.unshift(Br(e,c,l)),c=xr(e,t),c!=null&&s.push(Br(e,c,l))),e=e.return}return s}function Fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vu(e,t,n,s,l){for(var c=t._reactName,h=[];n!==null&&n!==s;){var v=n,_=v.alternate,T=v.stateNode;if(_!==null&&_===s)break;v.tag===5&&T!==null&&(v=T,l?(_=xr(n,c),_!=null&&h.unshift(Br(n,_,v))):l||(_=xr(n,c),_!=null&&h.push(Br(n,_,v)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var vh=/\r\n?/g,yh=/\u0000|\uFFFD/g;function yu(e){return(typeof e=="string"?e:""+e).replace(vh,`
`).replace(yh,"")}function Di(e,t,n){if(t=yu(t),yu(e)!==t&&n)throw Error(i(425))}function Ui(){}var vo=null,yo=null;function wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _o=typeof setTimeout=="function"?setTimeout:void 0,wh=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,_h=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(e){return wu.resolve(null).then(e).catch(Sh)}:_o;function Sh(e){setTimeout(function(){throw e})}function So(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),Rr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);Rr(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _u(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Bn,Wr="__reactProps$"+Bn,It="__reactContainer$"+Bn,ko="__reactEvents$"+Bn,kh="__reactListeners$"+Bn,xh="__reactHandles$"+Bn;function gn(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[It]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_u(e);e!==null;){if(n=e[Ct])return n;e=_u(e)}return t}e=n,n=e.parentNode}return null}function Hr(e){return e=e[Ct]||e[It],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function zi(e){return e[Wr]||null}var xo=[],Hn=-1;function Qt(e){return{current:e}}function xe(e){0>Hn||(e.current=xo[Hn],xo[Hn]=null,Hn--)}function _e(e,t){Hn++,xo[Hn]=e.current,e.current=t}var Yt={},Ke=Qt(Yt),et=Qt(!1),mn=Yt;function Vn(e,t){var n=e.type.contextTypes;if(!n)return Yt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=t[c];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function tt(e){return e=e.childContextTypes,e!=null}function Mi(){xe(et),xe(Ke)}function Su(e,t,n){if(Ke.current!==Yt)throw Error(i(168));_e(Ke,t),_e(et,n)}function ku(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(i(108,he(e)||"Unknown",l));return M({},n,s)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,mn=Ke.current,_e(Ke,e),_e(et,et.current),!0}function xu(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=ku(e,t,mn),s.__reactInternalMemoizedMergedChildContext=e,xe(et),xe(Ke),_e(Ke,e)):xe(et),_e(et,n)}var Rt=null,Bi=!1,Eo=!1;function Eu(e){Rt===null?Rt=[e]:Rt.push(e)}function Eh(e){Bi=!0,Eu(e)}function Xt(){if(!Eo&&Rt!==null){Eo=!0;var e=0,t=we;try{var n=Rt;for(we=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Rt=null,Bi=!1}catch(l){throw Rt!==null&&(Rt=Rt.slice(e+1)),Ca(Vs,Xt),l}finally{we=t,Eo=!1}}return null}var qn=[],Kn=0,Wi=null,Hi=0,ct=[],dt=0,vn=null,At=1,Nt="";function yn(e,t){qn[Kn++]=Hi,qn[Kn++]=Wi,Wi=e,Hi=t}function ju(e,t,n){ct[dt++]=At,ct[dt++]=Nt,ct[dt++]=vn,vn=e;var s=At;e=Nt;var l=32-mt(s)-1;s&=~(1<<l),n+=1;var c=32-mt(t)+l;if(30<c){var h=l-l%5;c=(s&(1<<h)-1).toString(32),s>>=h,l-=h,At=1<<32-mt(t)+l|n<<l|s,Nt=c+e}else At=1<<c|n<<l|s,Nt=e}function jo(e){e.return!==null&&(yn(e,1),ju(e,1,0))}function Co(e){for(;e===Wi;)Wi=qn[--Kn],qn[Kn]=null,Hi=qn[--Kn],qn[Kn]=null;for(;e===vn;)vn=ct[--dt],ct[dt]=null,Nt=ct[--dt],ct[dt]=null,At=ct[--dt],ct[dt]=null}var lt=null,at=null,Ee=!1,yt=null;function Cu(e,t){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,at=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vn!==null?{id:At,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,at=null,!0):!1;default:return!1}}function To(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Po(e){if(Ee){var t=at;if(t){var n=t;if(!Tu(e,t)){if(To(e))throw Error(i(418));t=Gt(n.nextSibling);var s=lt;t&&Tu(e,t)?Cu(s,n):(e.flags=e.flags&-4097|2,Ee=!1,lt=e)}}else{if(To(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ee=!1,lt=e}}}function Pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Vi(e){if(e!==lt)return!1;if(!Ee)return Pu(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wo(e.type,e.memoizedProps)),t&&(t=at)){if(To(e))throw Ou(),Error(i(418));for(;t;)Cu(e,t),t=Gt(t.nextSibling)}if(Pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=Gt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=lt?Gt(e.stateNode.nextSibling):null;return!0}function Ou(){for(var e=at;e;)e=Gt(e.nextSibling)}function Jn(){at=lt=null,Ee=!1}function Oo(e){yt===null?yt=[e]:yt.push(e)}var jh=q.ReactCurrentBatchConfig;function Vr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var l=s,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(h){var v=l.refs;h===null?delete v[c]:v[c]=h},t._stringRef=c,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function qi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bu(e){var t=e._init;return t(e._payload)}function Iu(e){function t(E,S){if(e){var j=E.deletions;j===null?(E.deletions=[S],E.flags|=16):j.push(S)}}function n(E,S){if(!e)return null;for(;S!==null;)t(E,S),S=S.sibling;return null}function s(E,S){for(E=new Map;S!==null;)S.key!==null?E.set(S.key,S):E.set(S.index,S),S=S.sibling;return E}function l(E,S){return E=ln(E,S),E.index=0,E.sibling=null,E}function c(E,S,j){return E.index=j,e?(j=E.alternate,j!==null?(j=j.index,j<S?(E.flags|=2,S):j):(E.flags|=2,S)):(E.flags|=1048576,S)}function h(E){return e&&E.alternate===null&&(E.flags|=2),E}function v(E,S,j,U){return S===null||S.tag!==6?(S=_l(j,E.mode,U),S.return=E,S):(S=l(S,j),S.return=E,S)}function _(E,S,j,U){var Y=j.type;return Y===oe?N(E,S,j.props.children,U,j.key):S!==null&&(S.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ee&&bu(Y)===S.type)?(U=l(S,j.props),U.ref=Vr(E,S,j),U.return=E,U):(U=ms(j.type,j.key,j.props,null,E.mode,U),U.ref=Vr(E,S,j),U.return=E,U)}function T(E,S,j,U){return S===null||S.tag!==4||S.stateNode.containerInfo!==j.containerInfo||S.stateNode.implementation!==j.implementation?(S=Sl(j,E.mode,U),S.return=E,S):(S=l(S,j.children||[]),S.return=E,S)}function N(E,S,j,U,Y){return S===null||S.tag!==7?(S=Cn(j,E.mode,U,Y),S.return=E,S):(S=l(S,j),S.return=E,S)}function D(E,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return S=_l(""+S,E.mode,j),S.return=E,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ue:return j=ms(S.type,S.key,S.props,null,E.mode,j),j.ref=Vr(E,null,S),j.return=E,j;case V:return S=Sl(S,E.mode,j),S.return=E,S;case ee:var U=S._init;return D(E,U(S._payload),j)}if(_r(S)||H(S))return S=Cn(S,E.mode,j,null),S.return=E,S;qi(E,S)}return null}function A(E,S,j,U){var Y=S!==null?S.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Y!==null?null:v(E,S,""+j,U);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ue:return j.key===Y?_(E,S,j,U):null;case V:return j.key===Y?T(E,S,j,U):null;case ee:return Y=j._init,A(E,S,Y(j._payload),U)}if(_r(j)||H(j))return Y!==null?null:N(E,S,j,U,null);qi(E,j)}return null}function B(E,S,j,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number")return E=E.get(j)||null,v(S,E,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ue:return E=E.get(U.key===null?j:U.key)||null,_(S,E,U,Y);case V:return E=E.get(U.key===null?j:U.key)||null,T(S,E,U,Y);case ee:var ne=U._init;return B(E,S,j,ne(U._payload),Y)}if(_r(U)||H(U))return E=E.get(j)||null,N(S,E,U,Y,null);qi(S,U)}return null}function J(E,S,j,U){for(var Y=null,ne=null,re=S,se=S=0,We=null;re!==null&&se<j.length;se++){re.index>se?(We=re,re=null):We=re.sibling;var me=A(E,re,j[se],U);if(me===null){re===null&&(re=We);break}e&&re&&me.alternate===null&&t(E,re),S=c(me,S,se),ne===null?Y=me:ne.sibling=me,ne=me,re=We}if(se===j.length)return n(E,re),Ee&&yn(E,se),Y;if(re===null){for(;se<j.length;se++)re=D(E,j[se],U),re!==null&&(S=c(re,S,se),ne===null?Y=re:ne.sibling=re,ne=re);return Ee&&yn(E,se),Y}for(re=s(E,re);se<j.length;se++)We=B(re,E,se,j[se],U),We!==null&&(e&&We.alternate!==null&&re.delete(We.key===null?se:We.key),S=c(We,S,se),ne===null?Y=We:ne.sibling=We,ne=We);return e&&re.forEach(function(an){return t(E,an)}),Ee&&yn(E,se),Y}function G(E,S,j,U){var Y=H(j);if(typeof Y!="function")throw Error(i(150));if(j=Y.call(j),j==null)throw Error(i(151));for(var ne=Y=null,re=S,se=S=0,We=null,me=j.next();re!==null&&!me.done;se++,me=j.next()){re.index>se?(We=re,re=null):We=re.sibling;var an=A(E,re,me.value,U);if(an===null){re===null&&(re=We);break}e&&re&&an.alternate===null&&t(E,re),S=c(an,S,se),ne===null?Y=an:ne.sibling=an,ne=an,re=We}if(me.done)return n(E,re),Ee&&yn(E,se),Y;if(re===null){for(;!me.done;se++,me=j.next())me=D(E,me.value,U),me!==null&&(S=c(me,S,se),ne===null?Y=me:ne.sibling=me,ne=me);return Ee&&yn(E,se),Y}for(re=s(E,re);!me.done;se++,me=j.next())me=B(re,E,se,me.value,U),me!==null&&(e&&me.alternate!==null&&re.delete(me.key===null?se:me.key),S=c(me,S,se),ne===null?Y=me:ne.sibling=me,ne=me);return e&&re.forEach(function(ip){return t(E,ip)}),Ee&&yn(E,se),Y}function Re(E,S,j,U){if(typeof j=="object"&&j!==null&&j.type===oe&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ue:e:{for(var Y=j.key,ne=S;ne!==null;){if(ne.key===Y){if(Y=j.type,Y===oe){if(ne.tag===7){n(E,ne.sibling),S=l(ne,j.props.children),S.return=E,E=S;break e}}else if(ne.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ee&&bu(Y)===ne.type){n(E,ne.sibling),S=l(ne,j.props),S.ref=Vr(E,ne,j),S.return=E,E=S;break e}n(E,ne);break}else t(E,ne);ne=ne.sibling}j.type===oe?(S=Cn(j.props.children,E.mode,U,j.key),S.return=E,E=S):(U=ms(j.type,j.key,j.props,null,E.mode,U),U.ref=Vr(E,S,j),U.return=E,E=U)}return h(E);case V:e:{for(ne=j.key;S!==null;){if(S.key===ne)if(S.tag===4&&S.stateNode.containerInfo===j.containerInfo&&S.stateNode.implementation===j.implementation){n(E,S.sibling),S=l(S,j.children||[]),S.return=E,E=S;break e}else{n(E,S);break}else t(E,S);S=S.sibling}S=Sl(j,E.mode,U),S.return=E,E=S}return h(E);case ee:return ne=j._init,Re(E,S,ne(j._payload),U)}if(_r(j))return J(E,S,j,U);if(H(j))return G(E,S,j,U);qi(E,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,S!==null&&S.tag===6?(n(E,S.sibling),S=l(S,j),S.return=E,E=S):(n(E,S),S=_l(j,E.mode,U),S.return=E,E=S),h(E)):n(E,S)}return Re}var Gn=Iu(!0),Ru=Iu(!1),Ki=Qt(null),Ji=null,Qn=null,bo=null;function Io(){bo=Qn=Ji=null}function Ro(e){var t=Ki.current;xe(Ki),e._currentValue=t}function Ao(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Yn(e,t){Ji=e,bo=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(nt=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if(bo!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(Ji===null)throw Error(i(308));Qn=e,Ji.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var wn=null;function No(e){wn===null?wn=[e]:wn.push(e)}function Au(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,No(t)):(n.next=l.next,l.next=n),t.interleaved=n,Lt(e,s)}function Lt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zt=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ge&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Lt(e,n)}return l=s.interleaved,l===null?(t.next=t,No(s)):(t.next=l.next,l.next=t),s.interleaved=t,Lt(e,n)}function Gi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Js(e,n)}}function Lu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qi(e,t,n,s){var l=e.updateQueue;Zt=!1;var c=l.firstBaseUpdate,h=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var _=v,T=_.next;_.next=null,h===null?c=T:h.next=T,h=_;var N=e.alternate;N!==null&&(N=N.updateQueue,v=N.lastBaseUpdate,v!==h&&(v===null?N.firstBaseUpdate=T:v.next=T,N.lastBaseUpdate=_))}if(c!==null){var D=l.baseState;h=0,N=T=_=null,v=c;do{var A=v.lane,B=v.eventTime;if((s&A)===A){N!==null&&(N=N.next={eventTime:B,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var J=e,G=v;switch(A=t,B=n,G.tag){case 1:if(J=G.payload,typeof J=="function"){D=J.call(B,D,A);break e}D=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=G.payload,A=typeof J=="function"?J.call(B,D,A):J,A==null)break e;D=M({},D,A);break e;case 2:Zt=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,A=l.effects,A===null?l.effects=[v]:A.push(v))}else B={eventTime:B,lane:A,tag:v.tag,payload:v.payload,callback:v.callback,next:null},N===null?(T=N=B,_=D):N=N.next=B,h|=A;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;A=v,v=A.next,A.next=null,l.lastBaseUpdate=A,l.shared.pending=null}}while(!0);if(N===null&&(_=D),l.baseState=_,l.firstBaseUpdate=T,l.lastBaseUpdate=N,t=l.shared.interleaved,t!==null){l=t;do h|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);kn|=h,e.lanes=h,e.memoizedState=D}}function $u(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(i(191,l));l.call(s)}}}var qr={},Tt=Qt(qr),Kr=Qt(qr),Jr=Qt(qr);function _n(e){if(e===qr)throw Error(i(174));return e}function $o(e,t){switch(_e(Jr,t),_e(Kr,e),_e(Tt,qr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$s(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$s(t,e)}xe(Tt),_e(Tt,t)}function Xn(){xe(Tt),xe(Kr),xe(Jr)}function Du(e){_n(Jr.current);var t=_n(Tt.current),n=$s(t,e.type);t!==n&&(_e(Kr,e),_e(Tt,n))}function Do(e){Kr.current===e&&(xe(Tt),xe(Kr))}var Ce=Qt(0);function Yi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=[];function zo(){for(var e=0;e<Uo.length;e++)Uo[e]._workInProgressVersionPrimary=null;Uo.length=0}var Xi=q.ReactCurrentDispatcher,Mo=q.ReactCurrentBatchConfig,Sn=0,Te=null,Le=null,Fe=null,Zi=!1,Gr=!1,Qr=0,Ch=0;function Je(){throw Error(i(321))}function Fo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function Bo(e,t,n,s,l,c){if(Sn=c,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xi.current=e===null||e.memoizedState===null?bh:Ih,e=n(s,l),Gr){c=0;do{if(Gr=!1,Qr=0,25<=c)throw Error(i(301));c+=1,Fe=Le=null,t.updateQueue=null,Xi.current=Rh,e=n(s,l)}while(Gr)}if(Xi.current=ns,t=Le!==null&&Le.next!==null,Sn=0,Fe=Le=Te=null,Zi=!1,t)throw Error(i(300));return e}function Wo(){var e=Qr!==0;return Qr=0,e}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Te.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function ht(){if(Le===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Fe===null?Te.memoizedState:Fe.next;if(t!==null)Fe=t,Le=e;else{if(e===null)throw Error(i(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Fe===null?Te.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Yr(e,t){return typeof t=="function"?t(e):t}function Ho(e){var t=ht(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=Le,l=s.baseQueue,c=n.pending;if(c!==null){if(l!==null){var h=l.next;l.next=c.next,c.next=h}s.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,s=s.baseState;var v=h=null,_=null,T=c;do{var N=T.lane;if((Sn&N)===N)_!==null&&(_=_.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),s=T.hasEagerState?T.eagerState:e(s,T.action);else{var D={lane:N,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};_===null?(v=_=D,h=s):_=_.next=D,Te.lanes|=N,kn|=N}T=T.next}while(T!==null&&T!==c);_===null?h=s:_.next=v,vt(s,t.memoizedState)||(nt=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=_,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do c=l.lane,Te.lanes|=c,kn|=c,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vo(e){var t=ht(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var h=l=l.next;do c=e(c,h.action),h=h.next;while(h!==l);vt(c,t.memoizedState)||(nt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,s]}function Uu(){}function zu(e,t){var n=Te,s=ht(),l=t(),c=!vt(s.memoizedState,l);if(c&&(s.memoizedState=l,nt=!0),s=s.queue,qo(Bu.bind(null,n,s,e),[e]),s.getSnapshot!==t||c||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,Xr(9,Fu.bind(null,n,s,l,t),void 0,null),Be===null)throw Error(i(349));(Sn&30)!==0||Mu(n,t,l)}return l}function Mu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fu(e,t,n,s){t.value=n,t.getSnapshot=s,Wu(t)&&Hu(e)}function Bu(e,t,n){return n(function(){Wu(t)&&Hu(e)})}function Wu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function Hu(e){var t=Lt(e,1);t!==null&&kt(t,e,1,-1)}function Vu(e){var t=Pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:e},t.queue=e,e=e.dispatch=Oh.bind(null,Te,e),[t.memoizedState,e]}function Xr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function qu(){return ht().memoizedState}function es(e,t,n,s){var l=Pt();Te.flags|=e,l.memoizedState=Xr(1|t,n,void 0,s===void 0?null:s)}function ts(e,t,n,s){var l=ht();s=s===void 0?null:s;var c=void 0;if(Le!==null){var h=Le.memoizedState;if(c=h.destroy,s!==null&&Fo(s,h.deps)){l.memoizedState=Xr(t,n,c,s);return}}Te.flags|=e,l.memoizedState=Xr(1|t,n,c,s)}function Ku(e,t){return es(8390656,8,e,t)}function qo(e,t){return ts(2048,8,e,t)}function Ju(e,t){return ts(4,2,e,t)}function Gu(e,t){return ts(4,4,e,t)}function Qu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yu(e,t,n){return n=n!=null?n.concat([e]):null,ts(4,4,Qu.bind(null,t,e),n)}function Ko(){}function Xu(e,t){var n=ht();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Fo(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Zu(e,t){var n=ht();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Fo(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function ec(e,t,n){return(Sn&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n):(vt(n,t)||(n=ba(),Te.lanes|=n,kn|=n,e.baseState=!0),t)}function Th(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var s=Mo.transition;Mo.transition={};try{e(!1),t()}finally{we=n,Mo.transition=s}}function tc(){return ht().memoizedState}function Ph(e,t,n){var s=sn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},nc(e))rc(t,n);else if(n=Au(e,t,n,s),n!==null){var l=Xe();kt(n,e,s,l),ic(n,t,s)}}function Oh(e,t,n){var s=sn(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(nc(e))rc(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,v=c(h,n);if(l.hasEagerState=!0,l.eagerState=v,vt(v,h)){var _=t.interleaved;_===null?(l.next=l,No(t)):(l.next=_.next,_.next=l),t.interleaved=l;return}}catch{}finally{}n=Au(e,t,l,s),n!==null&&(l=Xe(),kt(n,e,s,l),ic(n,t,s))}}function nc(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function rc(e,t){Gr=Zi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ic(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Js(e,n)}}var ns={readContext:ft,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},bh={readContext:ft,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Ku,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,es(4194308,4,Qu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return es(4194308,4,e,t)},useInsertionEffect:function(e,t){return es(4,2,e,t)},useMemo:function(e,t){var n=Pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Pt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ph.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:Vu,useDebugValue:Ko,useDeferredValue:function(e){return Pt().memoizedState=e},useTransition:function(){var e=Vu(!1),t=e[0];return e=Th.bind(null,e[1]),Pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Te,l=Pt();if(Ee){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Be===null)throw Error(i(349));(Sn&30)!==0||Mu(s,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,Ku(Bu.bind(null,s,c,e),[e]),s.flags|=2048,Xr(9,Fu.bind(null,s,c,n,t),void 0,null),n},useId:function(){var e=Pt(),t=Be.identifierPrefix;if(Ee){var n=Nt,s=At;n=(s&~(1<<32-mt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ch++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ih={readContext:ft,useCallback:Xu,useContext:ft,useEffect:qo,useImperativeHandle:Yu,useInsertionEffect:Ju,useLayoutEffect:Gu,useMemo:Zu,useReducer:Ho,useRef:qu,useState:function(){return Ho(Yr)},useDebugValue:Ko,useDeferredValue:function(e){var t=ht();return ec(t,Le.memoizedState,e)},useTransition:function(){var e=Ho(Yr)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Uu,useSyncExternalStore:zu,useId:tc,unstable_isNewReconciler:!1},Rh={readContext:ft,useCallback:Xu,useContext:ft,useEffect:qo,useImperativeHandle:Yu,useInsertionEffect:Ju,useLayoutEffect:Gu,useMemo:Zu,useReducer:Vo,useRef:qu,useState:function(){return Vo(Yr)},useDebugValue:Ko,useDeferredValue:function(e){var t=ht();return Le===null?t.memoizedState=e:ec(t,Le.memoizedState,e)},useTransition:function(){var e=Vo(Yr)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Uu,useSyncExternalStore:zu,useId:tc,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=M({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:M({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return(e=e._reactInternals)?pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Xe(),l=sn(e),c=$t(s,l);c.payload=t,n!=null&&(c.callback=n),t=en(e,c,l),t!==null&&(kt(t,e,l,s),Gi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Xe(),l=sn(e),c=$t(s,l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=en(e,c,l),t!==null&&(kt(t,e,l,s),Gi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),s=sn(e),l=$t(n,s);l.tag=2,t!=null&&(l.callback=t),t=en(e,l,s),t!==null&&(kt(t,e,s,n),Gi(t,e,s))}};function sc(e,t,n,s,l,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,h):t.prototype&&t.prototype.isPureReactComponent?!Ur(n,s)||!Ur(l,c):!0}function oc(e,t,n){var s=!1,l=Yt,c=t.contextType;return typeof c=="object"&&c!==null?c=ft(c):(l=tt(t)?mn:Ke.current,s=t.contextTypes,c=(s=s!=null)?Vn(e,l):Yt),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rs,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function lc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Lo(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=ft(c):(c=tt(t)?mn:Ke.current,l.context=Vn(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Jo(e,t,c,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&rs.enqueueReplaceState(l,l.state,null),Qi(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Zn(e,t){try{var n="",s=t;do n+=X(s),s=s.return;while(s);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function Qo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ah=typeof WeakMap=="function"?WeakMap:Map;function ac(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){cs||(cs=!0,fl=s),Yo(e,t)},n}function uc(e,t,n){n=$t(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){Yo(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){Yo(e,t),typeof s!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function cc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Ah;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Kh.bind(null,e,t,n),t.then(e,e))}function dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fc(e,t,n,s,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Nh=q.ReactCurrentOwner,nt=!1;function Ye(e,t,n,s){t.child=e===null?Ru(t,null,n,s):Gn(t,e.child,n,s)}function hc(e,t,n,s,l){n=n.render;var c=t.ref;return Yn(t,l),s=Bo(e,t,n,s,c,l),n=Wo(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Dt(e,t,l)):(Ee&&n&&jo(t),t.flags|=1,Ye(e,t,s,l),t.child)}function pc(e,t,n,s,l){if(e===null){var c=n.type;return typeof c=="function"&&!wl(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,gc(e,t,c,s,l)):(e=ms(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&l)===0){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:Ur,n(h,s)&&e.ref===t.ref)return Dt(e,t,l)}return t.flags|=1,e=ln(c,s),e.ref=t.ref,e.return=t,t.child=e}function gc(e,t,n,s,l){if(e!==null){var c=e.memoizedProps;if(Ur(c,s)&&e.ref===t.ref)if(nt=!1,t.pendingProps=s=c,(e.lanes&l)!==0)(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Dt(e,t,l)}return Xo(e,t,n,s,l)}function mc(e,t,n){var s=t.pendingProps,l=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(tr,ut),ut|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(tr,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=c!==null?c.baseLanes:n,_e(tr,ut),ut|=s}else c!==null?(s=c.baseLanes|n,t.memoizedState=null):s=n,_e(tr,ut),ut|=s;return Ye(e,t,l,n),t.child}function vc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xo(e,t,n,s,l){var c=tt(n)?mn:Ke.current;return c=Vn(t,c),Yn(t,l),n=Bo(e,t,n,s,c,l),s=Wo(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Dt(e,t,l)):(Ee&&s&&jo(t),t.flags|=1,Ye(e,t,n,l),t.child)}function yc(e,t,n,s,l){if(tt(n)){var c=!0;Fi(t)}else c=!1;if(Yn(t,l),t.stateNode===null)ss(e,t),oc(t,n,s),Go(t,n,s,l),s=!0;else if(e===null){var h=t.stateNode,v=t.memoizedProps;h.props=v;var _=h.context,T=n.contextType;typeof T=="object"&&T!==null?T=ft(T):(T=tt(n)?mn:Ke.current,T=Vn(t,T));var N=n.getDerivedStateFromProps,D=typeof N=="function"||typeof h.getSnapshotBeforeUpdate=="function";D||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==s||_!==T)&&lc(t,h,s,T),Zt=!1;var A=t.memoizedState;h.state=A,Qi(t,s,h,l),_=t.memoizedState,v!==s||A!==_||et.current||Zt?(typeof N=="function"&&(Jo(t,n,N,s),_=t.memoizedState),(v=Zt||sc(t,n,v,s,A,_,T))?(D||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=_),h.props=s,h.state=_,h.context=T,s=v):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Nu(e,t),v=t.memoizedProps,T=t.type===t.elementType?v:wt(t.type,v),h.props=T,D=t.pendingProps,A=h.context,_=n.contextType,typeof _=="object"&&_!==null?_=ft(_):(_=tt(n)?mn:Ke.current,_=Vn(t,_));var B=n.getDerivedStateFromProps;(N=typeof B=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==D||A!==_)&&lc(t,h,s,_),Zt=!1,A=t.memoizedState,h.state=A,Qi(t,s,h,l);var J=t.memoizedState;v!==D||A!==J||et.current||Zt?(typeof B=="function"&&(Jo(t,n,B,s),J=t.memoizedState),(T=Zt||sc(t,n,T,s,A,J,_)||!1)?(N||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,J,_),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,J,_)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=J),h.props=s,h.state=J,h.context=_,s=T):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),s=!1)}return Zo(e,t,n,s,c,l)}function Zo(e,t,n,s,l,c){vc(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return l&&xu(t,n,!1),Dt(e,t,c);s=t.stateNode,Nh.current=t;var v=h&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=Gn(t,e.child,null,c),t.child=Gn(t,null,v,c)):Ye(e,t,v,c),t.memoizedState=s.state,l&&xu(t,n,!0),t.child}function wc(e){var t=e.stateNode;t.pendingContext?Su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Su(e,t.context,!1),$o(e,t.containerInfo)}function _c(e,t,n,s,l){return Jn(),Oo(l),t.flags|=256,Ye(e,t,n,s),t.child}var el={dehydrated:null,treeContext:null,retryLane:0};function tl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sc(e,t,n){var s=t.pendingProps,l=Ce.current,c=!1,h=(t.flags&128)!==0,v;if((v=h)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),_e(Ce,l&1),e===null)return Po(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=s.children,e=s.fallback,c?(s=t.mode,c=t.child,h={mode:"hidden",children:h},(s&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=h):c=vs(h,s,0,null),e=Cn(e,s,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=tl(n),t.memoizedState=el,e):nl(t,h));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return Lh(e,t,h,s,v,l,n);if(c){c=s.fallback,h=t.mode,l=e.child,v=l.sibling;var _={mode:"hidden",children:s.children};return(h&1)===0&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=_,t.deletions=null):(s=ln(l,_),s.subtreeFlags=l.subtreeFlags&14680064),v!==null?c=ln(v,c):(c=Cn(c,h,n,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,h=e.child.memoizedState,h=h===null?tl(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=e.childLanes&~n,t.memoizedState=el,s}return c=e.child,e=c.sibling,s=ln(c,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function nl(e,t){return t=vs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function is(e,t,n,s){return s!==null&&Oo(s),Gn(t,e.child,null,n),e=nl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lh(e,t,n,s,l,c,h){if(n)return t.flags&256?(t.flags&=-257,s=Qo(Error(i(422))),is(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=s.fallback,l=t.mode,s=vs({mode:"visible",children:s.children},l,0,null),c=Cn(c,l,h,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,(t.mode&1)!==0&&Gn(t,e.child,null,h),t.child.memoizedState=tl(h),t.memoizedState=el,c);if((t.mode&1)===0)return is(e,t,h,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var v=s.dgst;return s=v,c=Error(i(419)),s=Qo(c,s,void 0),is(e,t,h,s)}if(v=(h&e.childLanes)!==0,nt||v){if(s=Be,s!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|h))!==0?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,Lt(e,l),kt(s,e,l,-1))}return yl(),s=Qo(Error(i(421))),is(e,t,h,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Jh.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,at=Gt(l.nextSibling),lt=t,Ee=!0,yt=null,e!==null&&(ct[dt++]=At,ct[dt++]=Nt,ct[dt++]=vn,At=e.id,Nt=e.overflow,vn=t),t=nl(t,s.children),t.flags|=4096,t)}function kc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ao(e.return,t,n)}function rl(e,t,n,s,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=n,c.tailMode=l)}function xc(e,t,n){var s=t.pendingProps,l=s.revealOrder,c=s.tail;if(Ye(e,t,s.children,n),s=Ce.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kc(e,n,t);else if(e.tag===19)kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(_e(Ce,s),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Yi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),rl(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Yi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}rl(t,!0,n,null,c);break;case"together":rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ss(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $h(e,t,n){switch(t.tag){case 3:wc(t),Jn();break;case 5:Du(t);break;case 1:tt(t.type)&&Fi(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;_e(Ki,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(_e(Ce,Ce.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Sc(e,t,n):(_e(Ce,Ce.current&1),e=Dt(e,t,n),e!==null?e.sibling:null);_e(Ce,Ce.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return xc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),_e(Ce,Ce.current),s)break;return null;case 22:case 23:return t.lanes=0,mc(e,t,n)}return Dt(e,t,n)}var Ec,il,jc,Cc;Ec=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},il=function(){},jc=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,_n(Tt.current);var c=null;switch(n){case"input":l=hn(e,l),s=hn(e,s),c=[];break;case"select":l=M({},l,{value:void 0}),s=M({},s,{value:void 0}),c=[];break;case"textarea":l=Ls(e,l),s=Ls(e,s),c=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ui)}Ds(n,s);var h;n=null;for(T in l)if(!s.hasOwnProperty(T)&&l.hasOwnProperty(T)&&l[T]!=null)if(T==="style"){var v=l[T];for(h in v)v.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(a.hasOwnProperty(T)?c||(c=[]):(c=c||[]).push(T,null));for(T in s){var _=s[T];if(v=l?.[T],s.hasOwnProperty(T)&&_!==v&&(_!=null||v!=null))if(T==="style")if(v){for(h in v)!v.hasOwnProperty(h)||_&&_.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in _)_.hasOwnProperty(h)&&v[h]!==_[h]&&(n||(n={}),n[h]=_[h])}else n||(c||(c=[]),c.push(T,n)),n=_;else T==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,v=v?v.__html:void 0,_!=null&&v!==_&&(c=c||[]).push(T,_)):T==="children"?typeof _!="string"&&typeof _!="number"||(c=c||[]).push(T,""+_):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(a.hasOwnProperty(T)?(_!=null&&T==="onScroll"&&ke("scroll",e),c||v===_||(c=[])):(c=c||[]).push(T,_))}n&&(c=c||[]).push("style",n);var T=c;(t.updateQueue=T)&&(t.flags|=4)}},Cc=function(e,t,n,s){n!==s&&(t.flags|=4)};function Zr(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Dh(e,t,n){var s=t.pendingProps;switch(Co(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return tt(t.type)&&Mi(),Ge(t),null;case 3:return s=t.stateNode,Xn(),xe(et),xe(Ke),zo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yt!==null&&(gl(yt),yt=null))),il(e,t),Ge(t),null;case 5:Do(t);var l=_n(Jr.current);if(n=t.type,e!==null&&t.stateNode!=null)jc(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Ge(t),null}if(e=_n(Tt.current),Vi(t)){s=t.stateNode,n=t.type;var c=t.memoizedProps;switch(s[Ct]=t,s[Wr]=c,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(l=0;l<Mr.length;l++)ke(Mr[l],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":Bt(s,c),ke("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},ke("invalid",s);break;case"textarea":ua(s,c),ke("invalid",s)}Ds(n,c),l=null;for(var h in c)if(c.hasOwnProperty(h)){var v=c[h];h==="children"?typeof v=="string"?s.textContent!==v&&(c.suppressHydrationWarning!==!0&&Di(s.textContent,v,e),l=["children",v]):typeof v=="number"&&s.textContent!==""+v&&(c.suppressHydrationWarning!==!0&&Di(s.textContent,v,e),l=["children",""+v]):a.hasOwnProperty(h)&&v!=null&&h==="onScroll"&&ke("scroll",s)}switch(n){case"input":Rn(s),aa(s,c,!0);break;case"textarea":Rn(s),da(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=Ui)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fa(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(n,{is:s.is}):(e=h.createElement(n),n==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,n),e[Ct]=t,e[Wr]=s,Ec(e,t,!1,!1),t.stateNode=e;e:{switch(h=Us(n,s),n){case"dialog":ke("cancel",e),ke("close",e),l=s;break;case"iframe":case"object":case"embed":ke("load",e),l=s;break;case"video":case"audio":for(l=0;l<Mr.length;l++)ke(Mr[l],e);l=s;break;case"source":ke("error",e),l=s;break;case"img":case"image":case"link":ke("error",e),ke("load",e),l=s;break;case"details":ke("toggle",e),l=s;break;case"input":Bt(e,s),l=hn(e,s),ke("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=M({},s,{value:void 0}),ke("invalid",e);break;case"textarea":ua(e,s),l=Ls(e,s),ke("invalid",e);break;default:l=s}Ds(n,l),v=l;for(c in v)if(v.hasOwnProperty(c)){var _=v[c];c==="style"?ga(e,_):c==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&ha(e,_)):c==="children"?typeof _=="string"?(n!=="textarea"||_!=="")&&Sr(e,_):typeof _=="number"&&Sr(e,""+_):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(a.hasOwnProperty(c)?_!=null&&c==="onScroll"&&ke("scroll",e):_!=null&&F(e,c,_,h))}switch(n){case"input":Rn(e),aa(e,s,!1);break;case"textarea":Rn(e),da(e);break;case"option":s.value!=null&&e.setAttribute("value",""+de(s.value));break;case"select":e.multiple=!!s.multiple,c=s.value,c!=null?An(e,!!s.multiple,c,!1):s.defaultValue!=null&&An(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ui)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)Cc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(n=_n(Jr.current),_n(Tt.current),Vi(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ct]=t,(c=s.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:Di(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Di(s.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ct]=t,t.stateNode=s}return Ge(t),null;case 13:if(xe(Ce),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&at!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ou(),Jn(),t.flags|=98560,c=!1;else if(c=Vi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[Ct]=t}else Jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),c=!1}else yt!==null&&(gl(yt),yt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ce.current&1)!==0?$e===0&&($e=3):yl())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return Xn(),il(e,t),e===null&&Fr(t.stateNode.containerInfo),Ge(t),null;case 10:return Ro(t.type._context),Ge(t),null;case 17:return tt(t.type)&&Mi(),Ge(t),null;case 19:if(xe(Ce),c=t.memoizedState,c===null)return Ge(t),null;if(s=(t.flags&128)!==0,h=c.rendering,h===null)if(s)Zr(c,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Yi(e),h!==null){for(t.flags|=128,Zr(c,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)c=n,e=s,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,e=h.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Ce,Ce.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ie()>nr&&(t.flags|=128,s=!0,Zr(c,!1),t.lanes=4194304)}else{if(!s)if(e=Yi(h),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ee)return Ge(t),null}else 2*Ie()-c.renderingStartTime>nr&&n!==1073741824&&(t.flags|=128,s=!0,Zr(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(n=c.last,n!==null?n.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ie(),t.sibling=null,n=Ce.current,_e(Ce,s?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return vl(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(ut&1073741824)!==0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Uh(e,t){switch(Co(t),t.tag){case 1:return tt(t.type)&&Mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xn(),xe(et),xe(Ke),zo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Do(t),null;case 13:if(xe(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Ce),null;case 4:return Xn(),null;case 10:return Ro(t.type._context),null;case 22:case 23:return vl(),null;case 24:return null;default:return null}}var os=!1,Qe=!1,zh=typeof WeakSet=="function"?WeakSet:Set,K=null;function er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Pe(e,t,s)}else n.current=null}function sl(e,t,n){try{n()}catch(s){Pe(e,t,s)}}var Tc=!1;function Mh(e,t){if(vo=Ci,e=su(),ao(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,v=-1,_=-1,T=0,N=0,D=e,A=null;t:for(;;){for(var B;D!==n||l!==0&&D.nodeType!==3||(v=h+l),D!==c||s!==0&&D.nodeType!==3||(_=h+s),D.nodeType===3&&(h+=D.nodeValue.length),(B=D.firstChild)!==null;)A=D,D=B;for(;;){if(D===e)break t;if(A===n&&++T===l&&(v=h),A===c&&++N===s&&(_=h),(B=D.nextSibling)!==null)break;D=A,A=D.parentNode}D=B}n=v===-1||_===-1?null:{start:v,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(yo={focusedElem:e,selectionRange:n},Ci=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var J=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var G=J.memoizedProps,Re=J.memoizedState,E=t.stateNode,S=E.getSnapshotBeforeUpdate(t.elementType===t.type?G:wt(t.type,G),Re);E.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(U){Pe(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return J=Tc,Tc=!1,J}function ei(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&sl(t,n,c)}l=l.next}while(l!==s)}}function ls(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pc(e){var t=e.alternate;t!==null&&(e.alternate=null,Pc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[Wr],delete t[ko],delete t[kh],delete t[xh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oc(e){return e.tag===5||e.tag===3||e.tag===4}function bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ll(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ui));else if(s!==4&&(e=e.child,e!==null))for(ll(e,t,n),e=e.sibling;e!==null;)ll(e,t,n),e=e.sibling}function al(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(al(e,t,n),e=e.sibling;e!==null;)al(e,t,n),e=e.sibling}var Ve=null,_t=!1;function tn(e,t,n){for(n=n.child;n!==null;)Ic(e,t,n),n=n.sibling}function Ic(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(_i,n)}catch{}switch(n.tag){case 5:Qe||er(n,t);case 6:var s=Ve,l=_t;Ve=null,tn(e,t,n),Ve=s,_t=l,Ve!==null&&(_t?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(_t?(e=Ve,n=n.stateNode,e.nodeType===8?So(e.parentNode,n):e.nodeType===1&&So(e,n),Rr(e)):So(Ve,n.stateNode));break;case 4:s=Ve,l=_t,Ve=n.stateNode.containerInfo,_t=!0,tn(e,t,n),Ve=s,_t=l;break;case 0:case 11:case 14:case 15:if(!Qe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var c=l,h=c.destroy;c=c.tag,h!==void 0&&((c&2)!==0||(c&4)!==0)&&sl(n,t,h),l=l.next}while(l!==s)}tn(e,t,n);break;case 1:if(!Qe&&(er(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(v){Pe(n,t,v)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(Qe=(s=Qe)||n.memoizedState!==null,tn(e,t,n),Qe=s):tn(e,t,n);break;default:tn(e,t,n)}}function Rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zh),t.forEach(function(s){var l=Gh.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function St(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var c=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 5:Ve=v.stateNode,_t=!1;break e;case 3:Ve=v.stateNode.containerInfo,_t=!0;break e;case 4:Ve=v.stateNode.containerInfo,_t=!0;break e}v=v.return}if(Ve===null)throw Error(i(160));Ic(c,h,l),Ve=null,_t=!1;var _=l.alternate;_!==null&&(_.return=null),l.return=null}catch(T){Pe(l,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ac(t,e),t=t.sibling}function Ac(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),Ot(e),s&4){try{ei(3,e,e.return),ls(3,e)}catch(G){Pe(e,e.return,G)}try{ei(5,e,e.return)}catch(G){Pe(e,e.return,G)}}break;case 1:St(t,e),Ot(e),s&512&&n!==null&&er(n,n.return);break;case 5:if(St(t,e),Ot(e),s&512&&n!==null&&er(n,n.return),e.flags&32){var l=e.stateNode;try{Sr(l,"")}catch(G){Pe(e,e.return,G)}}if(s&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,h=n!==null?n.memoizedProps:c,v=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{v==="input"&&c.type==="radio"&&c.name!=null&&la(l,c),Us(v,h);var T=Us(v,c);for(h=0;h<_.length;h+=2){var N=_[h],D=_[h+1];N==="style"?ga(l,D):N==="dangerouslySetInnerHTML"?ha(l,D):N==="children"?Sr(l,D):F(l,N,D,T)}switch(v){case"input":As(l,c);break;case"textarea":ca(l,c);break;case"select":var A=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var B=c.value;B!=null?An(l,!!c.multiple,B,!1):A!==!!c.multiple&&(c.defaultValue!=null?An(l,!!c.multiple,c.defaultValue,!0):An(l,!!c.multiple,c.multiple?[]:"",!1))}l[Wr]=c}catch(G){Pe(e,e.return,G)}}break;case 6:if(St(t,e),Ot(e),s&4){if(e.stateNode===null)throw Error(i(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(G){Pe(e,e.return,G)}}break;case 3:if(St(t,e),Ot(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Rr(t.containerInfo)}catch(G){Pe(e,e.return,G)}break;case 4:St(t,e),Ot(e);break;case 13:St(t,e),Ot(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(dl=Ie())),s&4&&Rc(e);break;case 22:if(N=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(T=Qe)||N,St(t,e),Qe=T):St(t,e),Ot(e),s&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!N&&(e.mode&1)!==0)for(K=e,N=e.child;N!==null;){for(D=K=N;K!==null;){switch(A=K,B=A.child,A.tag){case 0:case 11:case 14:case 15:ei(4,A,A.return);break;case 1:er(A,A.return);var J=A.stateNode;if(typeof J.componentWillUnmount=="function"){s=A,n=A.return;try{t=s,J.props=t.memoizedProps,J.state=t.memoizedState,J.componentWillUnmount()}catch(G){Pe(s,n,G)}}break;case 5:er(A,A.return);break;case 22:if(A.memoizedState!==null){$c(D);continue}}B!==null?(B.return=A,K=B):$c(D)}N=N.sibling}e:for(N=null,D=e;;){if(D.tag===5){if(N===null){N=D;try{l=D.stateNode,T?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(v=D.stateNode,_=D.memoizedProps.style,h=_!=null&&_.hasOwnProperty("display")?_.display:null,v.style.display=pa("display",h))}catch(G){Pe(e,e.return,G)}}}else if(D.tag===6){if(N===null)try{D.stateNode.nodeValue=T?"":D.memoizedProps}catch(G){Pe(e,e.return,G)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;N===D&&(N=null),D=D.return}N===D&&(N=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:St(t,e),Ot(e),s&4&&Rc(e);break;case 21:break;default:St(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Oc(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Sr(l,""),s.flags&=-33);var c=bc(e);al(e,c,l);break;case 3:case 4:var h=s.stateNode.containerInfo,v=bc(e);ll(e,v,h);break;default:throw Error(i(161))}}catch(_){Pe(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fh(e,t,n){K=e,Nc(e)}function Nc(e,t,n){for(var s=(e.mode&1)!==0;K!==null;){var l=K,c=l.child;if(l.tag===22&&s){var h=l.memoizedState!==null||os;if(!h){var v=l.alternate,_=v!==null&&v.memoizedState!==null||Qe;v=os;var T=Qe;if(os=h,(Qe=_)&&!T)for(K=l;K!==null;)h=K,_=h.child,h.tag===22&&h.memoizedState!==null?Dc(l):_!==null?(_.return=h,K=_):Dc(l);for(;c!==null;)K=c,Nc(c),c=c.sibling;K=l,os=v,Qe=T}Lc(e)}else(l.subtreeFlags&8772)!==0&&c!==null?(c.return=l,K=c):Lc(e)}}function Lc(e){for(;K!==null;){var t=K;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Qe||ls(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Qe)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:wt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&$u(t,c,s);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$u(t,h,n)}break;case 5:var v=t.stateNode;if(n===null&&t.flags&4){n=v;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&n.focus();break;case"img":_.src&&(n.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var N=T.memoizedState;if(N!==null){var D=N.dehydrated;D!==null&&Rr(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Qe||t.flags&512&&ol(t)}catch(A){Pe(t,t.return,A)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function $c(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function Dc(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ls(4,t)}catch(_){Pe(t,n,_)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(_){Pe(t,l,_)}}var c=t.return;try{ol(t)}catch(_){Pe(t,c,_)}break;case 5:var h=t.return;try{ol(t)}catch(_){Pe(t,h,_)}}}catch(_){Pe(t,t.return,_)}if(t===e){K=null;break}var v=t.sibling;if(v!==null){v.return=t.return,K=v;break}K=t.return}}var Bh=Math.ceil,as=q.ReactCurrentDispatcher,ul=q.ReactCurrentOwner,pt=q.ReactCurrentBatchConfig,ge=0,Be=null,Ae=null,qe=0,ut=0,tr=Qt(0),$e=0,ti=null,kn=0,us=0,cl=0,ni=null,rt=null,dl=0,nr=1/0,Ut=null,cs=!1,fl=null,nn=null,ds=!1,rn=null,fs=0,ri=0,hl=null,hs=-1,ps=0;function Xe(){return(ge&6)!==0?Ie():hs!==-1?hs:hs=Ie()}function sn(e){return(e.mode&1)===0?1:(ge&2)!==0&&qe!==0?qe&-qe:jh.transition!==null?(ps===0&&(ps=ba()),ps):(e=we,e!==0||(e=window.event,e=e===void 0?16:za(e.type)),e)}function kt(e,t,n,s){if(50<ri)throw ri=0,hl=null,Error(i(185));Tr(e,n,s),((ge&2)===0||e!==Be)&&(e===Be&&((ge&2)===0&&(us|=n),$e===4&&on(e,qe)),it(e,s),n===1&&ge===0&&(t.mode&1)===0&&(nr=Ie()+500,Bi&&Xt()))}function it(e,t){var n=e.callbackNode;jf(e,t);var s=xi(e,e===Be?qe:0);if(s===0)n!==null&&Ta(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Ta(n),t===1)e.tag===0?Eh(zc.bind(null,e)):Eu(zc.bind(null,e)),_h(function(){(ge&6)===0&&Xt()}),n=null;else{switch(Ia(s)){case 1:n=Vs;break;case 4:n=Pa;break;case 16:n=wi;break;case 536870912:n=Oa;break;default:n=wi}n=Kc(n,Uc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Uc(e,t){if(hs=-1,ps=0,(ge&6)!==0)throw Error(i(327));var n=e.callbackNode;if(rr()&&e.callbackNode!==n)return null;var s=xi(e,e===Be?qe:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=gs(e,s);else{t=s;var l=ge;ge|=2;var c=Fc();(Be!==e||qe!==t)&&(Ut=null,nr=Ie()+500,En(e,t));do try{Vh();break}catch(v){Mc(e,v)}while(!0);Io(),as.current=c,ge=l,Ae!==null?t=0:(Be=null,qe=0,t=$e)}if(t!==0){if(t===2&&(l=qs(e),l!==0&&(s=l,t=pl(e,l))),t===1)throw n=ti,En(e,0),on(e,s),it(e,Ie()),n;if(t===6)on(e,s);else{if(l=e.current.alternate,(s&30)===0&&!Wh(l)&&(t=gs(e,s),t===2&&(c=qs(e),c!==0&&(s=c,t=pl(e,c))),t===1))throw n=ti,En(e,0),on(e,s),it(e,Ie()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:jn(e,rt,Ut);break;case 3:if(on(e,s),(s&130023424)===s&&(t=dl+500-Ie(),10<t)){if(xi(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Xe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=_o(jn.bind(null,e,rt,Ut),t);break}jn(e,rt,Ut);break;case 4:if(on(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var h=31-mt(s);c=1<<h,h=t[h],h>l&&(l=h),s&=~c}if(s=l,s=Ie()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Bh(s/1960))-s,10<s){e.timeoutHandle=_o(jn.bind(null,e,rt,Ut),s);break}jn(e,rt,Ut);break;case 5:jn(e,rt,Ut);break;default:throw Error(i(329))}}}return it(e,Ie()),e.callbackNode===n?Uc.bind(null,e):null}function pl(e,t){var n=ni;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=gs(e,t),e!==2&&(t=rt,rt=n,t!==null&&gl(t)),e}function gl(e){rt===null?rt=e:rt.push.apply(rt,e)}function Wh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],c=l.getSnapshot;l=l.value;try{if(!vt(c(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function on(e,t){for(t&=~cl,t&=~us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),s=1<<n;e[n]=-1,t&=~s}}function zc(e){if((ge&6)!==0)throw Error(i(327));rr();var t=xi(e,0);if((t&1)===0)return it(e,Ie()),null;var n=gs(e,t);if(e.tag!==0&&n===2){var s=qs(e);s!==0&&(t=s,n=pl(e,s))}if(n===1)throw n=ti,En(e,0),on(e,t),it(e,Ie()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,rt,Ut),it(e,Ie()),null}function ml(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(nr=Ie()+500,Bi&&Xt())}}function xn(e){rn!==null&&rn.tag===0&&(ge&6)===0&&rr();var t=ge;ge|=1;var n=pt.transition,s=we;try{if(pt.transition=null,we=1,e)return e()}finally{we=s,pt.transition=n,ge=t,(ge&6)===0&&Xt()}}function vl(){ut=tr.current,xe(tr)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wh(n)),Ae!==null)for(n=Ae.return;n!==null;){var s=n;switch(Co(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Mi();break;case 3:Xn(),xe(et),xe(Ke),zo();break;case 5:Do(s);break;case 4:Xn();break;case 13:xe(Ce);break;case 19:xe(Ce);break;case 10:Ro(s.type._context);break;case 22:case 23:vl()}n=n.return}if(Be=e,Ae=e=ln(e.current,null),qe=ut=t,$e=0,ti=null,cl=us=kn=0,rt=ni=null,wn!==null){for(t=0;t<wn.length;t++)if(n=wn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,c=n.pending;if(c!==null){var h=c.next;c.next=l,s.next=h}n.pending=s}wn=null}return e}function Mc(e,t){do{var n=Ae;try{if(Io(),Xi.current=ns,Zi){for(var s=Te.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Zi=!1}if(Sn=0,Fe=Le=Te=null,Gr=!1,Qr=0,ul.current=null,n===null||n.return===null){$e=1,ti=t,Ae=null;break}e:{var c=e,h=n.return,v=n,_=t;if(t=qe,v.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var T=_,N=v,D=N.tag;if((N.mode&1)===0&&(D===0||D===11||D===15)){var A=N.alternate;A?(N.updateQueue=A.updateQueue,N.memoizedState=A.memoizedState,N.lanes=A.lanes):(N.updateQueue=null,N.memoizedState=null)}var B=dc(h);if(B!==null){B.flags&=-257,fc(B,h,v,c,t),B.mode&1&&cc(c,T,t),t=B,_=T;var J=t.updateQueue;if(J===null){var G=new Set;G.add(_),t.updateQueue=G}else J.add(_);break e}else{if((t&1)===0){cc(c,T,t),yl();break e}_=Error(i(426))}}else if(Ee&&v.mode&1){var Re=dc(h);if(Re!==null){(Re.flags&65536)===0&&(Re.flags|=256),fc(Re,h,v,c,t),Oo(Zn(_,v));break e}}c=_=Zn(_,v),$e!==4&&($e=2),ni===null?ni=[c]:ni.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var E=ac(c,_,t);Lu(c,E);break e;case 1:v=_;var S=c.type,j=c.stateNode;if((c.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(nn===null||!nn.has(j)))){c.flags|=65536,t&=-t,c.lanes|=t;var U=uc(c,v,t);Lu(c,U);break e}}c=c.return}while(c!==null)}Wc(n)}catch(Y){t=Y,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function Fc(){var e=as.current;return as.current=ns,e===null?ns:e}function yl(){($e===0||$e===3||$e===2)&&($e=4),Be===null||(kn&268435455)===0&&(us&268435455)===0||on(Be,qe)}function gs(e,t){var n=ge;ge|=2;var s=Fc();(Be!==e||qe!==t)&&(Ut=null,En(e,t));do try{Hh();break}catch(l){Mc(e,l)}while(!0);if(Io(),ge=n,as.current=s,Ae!==null)throw Error(i(261));return Be=null,qe=0,$e}function Hh(){for(;Ae!==null;)Bc(Ae)}function Vh(){for(;Ae!==null&&!mf();)Bc(Ae)}function Bc(e){var t=qc(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?Wc(e):Ae=t,ul.current=null}function Wc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Dh(n,t,ut),n!==null){Ae=n;return}}else{if(n=Uh(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Ae=null;return}}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);$e===0&&($e=5)}function jn(e,t,n){var s=we,l=pt.transition;try{pt.transition=null,we=1,qh(e,t,n,s)}finally{pt.transition=l,we=s}return null}function qh(e,t,n,s){do rr();while(rn!==null);if((ge&6)!==0)throw Error(i(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(Cf(e,c),e===Be&&(Ae=Be=null,qe=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ds||(ds=!0,Kc(wi,function(){return rr(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=pt.transition,pt.transition=null;var h=we;we=1;var v=ge;ge|=4,ul.current=null,Mh(e,n),Ac(n,e),fh(yo),Ci=!!vo,yo=vo=null,e.current=n,Fh(n),vf(),ge=v,we=h,pt.transition=c}else e.current=n;if(ds&&(ds=!1,rn=e,fs=l),c=e.pendingLanes,c===0&&(nn=null),_f(n.stateNode),it(e,Ie()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(cs)throw cs=!1,e=fl,fl=null,e;return(fs&1)!==0&&e.tag!==0&&rr(),c=e.pendingLanes,(c&1)!==0?e===hl?ri++:(ri=0,hl=e):ri=0,Xt(),null}function rr(){if(rn!==null){var e=Ia(fs),t=pt.transition,n=we;try{if(pt.transition=null,we=16>e?16:e,rn===null)var s=!1;else{if(e=rn,rn=null,fs=0,(ge&6)!==0)throw Error(i(331));var l=ge;for(ge|=4,K=e.current;K!==null;){var c=K,h=c.child;if((K.flags&16)!==0){var v=c.deletions;if(v!==null){for(var _=0;_<v.length;_++){var T=v[_];for(K=T;K!==null;){var N=K;switch(N.tag){case 0:case 11:case 15:ei(8,N,c)}var D=N.child;if(D!==null)D.return=N,K=D;else for(;K!==null;){N=K;var A=N.sibling,B=N.return;if(Pc(N),N===T){K=null;break}if(A!==null){A.return=B,K=A;break}K=B}}}var J=c.alternate;if(J!==null){var G=J.child;if(G!==null){J.child=null;do{var Re=G.sibling;G.sibling=null,G=Re}while(G!==null)}}K=c}}if((c.subtreeFlags&2064)!==0&&h!==null)h.return=c,K=h;else e:for(;K!==null;){if(c=K,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:ei(9,c,c.return)}var E=c.sibling;if(E!==null){E.return=c.return,K=E;break e}K=c.return}}var S=e.current;for(K=S;K!==null;){h=K;var j=h.child;if((h.subtreeFlags&2064)!==0&&j!==null)j.return=h,K=j;else e:for(h=S;K!==null;){if(v=K,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:ls(9,v)}}catch(Y){Pe(v,v.return,Y)}if(v===h){K=null;break e}var U=v.sibling;if(U!==null){U.return=v.return,K=U;break e}K=v.return}}if(ge=l,Xt(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(_i,e)}catch{}s=!0}return s}finally{we=n,pt.transition=t}}return!1}function Hc(e,t,n){t=Zn(n,t),t=ac(e,t,1),e=en(e,t,1),t=Xe(),e!==null&&(Tr(e,1,t),it(e,t))}function Pe(e,t,n){if(e.tag===3)Hc(e,e,n);else for(;t!==null;){if(t.tag===3){Hc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(nn===null||!nn.has(s))){e=Zn(n,e),e=uc(t,e,1),t=en(t,e,1),e=Xe(),t!==null&&(Tr(t,1,e),it(t,e));break}}t=t.return}}function Kh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(qe&n)===n&&($e===4||$e===3&&(qe&130023424)===qe&&500>Ie()-dl?En(e,0):cl|=n),it(e,t)}function Vc(e,t){t===0&&((e.mode&1)===0?t=1:(t=ki,ki<<=1,(ki&130023424)===0&&(ki=4194304)));var n=Xe();e=Lt(e,t),e!==null&&(Tr(e,t,n),it(e,n))}function Jh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vc(e,n)}function Gh(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Vc(e,n)}var qc;qc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)nt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return nt=!1,$h(e,t,n);nt=(e.flags&131072)!==0}else nt=!1,Ee&&(t.flags&1048576)!==0&&ju(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ss(e,t),e=t.pendingProps;var l=Vn(t,Ke.current);Yn(t,n),l=Bo(null,t,s,e,l,n);var c=Wo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(s)?(c=!0,Fi(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Lo(t),l.updater=rs,t.stateNode=l,l._reactInternals=t,Go(t,s,e,n),t=Zo(null,t,s,!0,c,n)):(t.tag=0,Ee&&c&&jo(t),Ye(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(ss(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Yh(s),e=wt(s,e),l){case 0:t=Xo(null,t,s,e,n);break e;case 1:t=yc(null,t,s,e,n);break e;case 11:t=hc(null,t,s,e,n);break e;case 14:t=pc(null,t,s,wt(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:wt(s,l),Xo(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:wt(s,l),yc(e,t,s,l,n);case 3:e:{if(wc(t),e===null)throw Error(i(387));s=t.pendingProps,c=t.memoizedState,l=c.element,Nu(e,t),Qi(t,s,null,n);var h=t.memoizedState;if(s=h.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=Zn(Error(i(423)),t),t=_c(e,t,s,n,l);break e}else if(s!==l){l=Zn(Error(i(424)),t),t=_c(e,t,s,n,l);break e}else for(at=Gt(t.stateNode.containerInfo.firstChild),lt=t,Ee=!0,yt=null,n=Ru(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jn(),s===l){t=Dt(e,t,n);break e}Ye(e,t,s,n)}t=t.child}return t;case 5:return Du(t),e===null&&Po(t),s=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,h=l.children,wo(s,l)?h=null:c!==null&&wo(s,c)&&(t.flags|=32),vc(e,t),Ye(e,t,h,n),t.child;case 6:return e===null&&Po(t),null;case 13:return Sc(e,t,n);case 4:return $o(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Gn(t,null,s,n):Ye(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:wt(s,l),hc(e,t,s,l,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,c=t.memoizedProps,h=l.value,_e(Ki,s._currentValue),s._currentValue=h,c!==null)if(vt(c.value,h)){if(c.children===l.children&&!et.current){t=Dt(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var v=c.dependencies;if(v!==null){h=c.child;for(var _=v.firstContext;_!==null;){if(_.context===s){if(c.tag===1){_=$t(-1,n&-n),_.tag=2;var T=c.updateQueue;if(T!==null){T=T.shared;var N=T.pending;N===null?_.next=_:(_.next=N.next,N.next=_),T.pending=_}}c.lanes|=n,_=c.alternate,_!==null&&(_.lanes|=n),Ao(c.return,n,t),v.lanes|=n;break}_=_.next}}else if(c.tag===10)h=c.type===t.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(i(341));h.lanes|=n,v=h.alternate,v!==null&&(v.lanes|=n),Ao(h,n,t),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}Ye(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Yn(t,n),l=ft(l),s=s(l),t.flags|=1,Ye(e,t,s,n),t.child;case 14:return s=t.type,l=wt(s,t.pendingProps),l=wt(s.type,l),pc(e,t,s,l,n);case 15:return gc(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:wt(s,l),ss(e,t),t.tag=1,tt(s)?(e=!0,Fi(t)):e=!1,Yn(t,n),oc(t,s,l),Go(t,s,l,n),Zo(null,t,s,!0,e,n);case 19:return xc(e,t,n);case 22:return mc(e,t,n)}throw Error(i(156,t.tag))};function Kc(e,t){return Ca(e,t)}function Qh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,n,s){return new Qh(e,t,n,s)}function wl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yh(e){if(typeof e=="function")return wl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ne)return 11;if(e===Q)return 14}return 2}function ln(e,t){var n=e.alternate;return n===null?(n=gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ms(e,t,n,s,l,c){var h=2;if(s=e,typeof e=="function")wl(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case oe:return Cn(n.children,l,c,t);case ve:h=8,l|=8;break;case je:return e=gt(12,n,t,l|2),e.elementType=je,e.lanes=c,e;case be:return e=gt(13,n,t,l),e.elementType=be,e.lanes=c,e;case $:return e=gt(19,n,t,l),e.elementType=$,e.lanes=c,e;case W:return vs(n,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oe:h=10;break e;case ze:h=9;break e;case Ne:h=11;break e;case Q:h=14;break e;case ee:h=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=gt(h,n,t,l),t.elementType=e,t.type=s,t.lanes=c,t}function Cn(e,t,n,s){return e=gt(7,e,s,t),e.lanes=n,e}function vs(e,t,n,s){return e=gt(22,e,s,t),e.elementType=W,e.lanes=n,e.stateNode={isHidden:!1},e}function _l(e,t,n){return e=gt(6,e,null,t),e.lanes=n,e}function Sl(e,t,n){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xh(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ks(0),this.expirationTimes=Ks(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ks(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function kl(e,t,n,s,l,c,h,v,_){return e=new Xh(e,t,n,v,_),t===1?(t=1,c===!0&&(t|=8)):t=0,c=gt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(c),e}function Zh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Jc(e){if(!e)return Yt;e=e._reactInternals;e:{if(pn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(tt(n))return ku(e,n,t)}return t}function Gc(e,t,n,s,l,c,h,v,_){return e=kl(n,s,!0,e,l,c,h,v,_),e.context=Jc(null),n=e.current,s=Xe(),l=sn(n),c=$t(s,l),c.callback=t??null,en(n,c,l),e.current.lanes=l,Tr(e,l,s),it(e,s),e}function ys(e,t,n,s){var l=t.current,c=Xe(),h=sn(l);return n=Jc(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(c,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=en(l,t,h),e!==null&&(kt(e,l,h,c),Gi(e,l,h)),h}function ws(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xl(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}function ep(){return null}var Yc=typeof reportError=="function"?reportError:function(e){console.error(e)};function El(e){this._internalRoot=e}_s.prototype.render=El.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));ys(e,t,null,null)},_s.prototype.unmount=El.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){ys(null,e,null,null)}),t[It]=null}};function _s(e){this._internalRoot=e}_s.prototype.unstable_scheduleHydration=function(e){if(e){var t=Na();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&t!==0&&t<qt[n].priority;n++);qt.splice(n,0,e),n===0&&Da(e)}};function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ss(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xc(){}function tp(e,t,n,s,l){if(l){if(typeof s=="function"){var c=s;s=function(){var T=ws(h);c.call(T)}}var h=Gc(t,s,e,0,null,!1,!1,"",Xc);return e._reactRootContainer=h,e[It]=h.current,Fr(e.nodeType===8?e.parentNode:e),xn(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var v=s;s=function(){var T=ws(_);v.call(T)}}var _=kl(e,0,!1,null,null,!1,!1,"",Xc);return e._reactRootContainer=_,e[It]=_.current,Fr(e.nodeType===8?e.parentNode:e),xn(function(){ys(t,_,n,s)}),_}function ks(e,t,n,s,l){var c=n._reactRootContainer;if(c){var h=c;if(typeof l=="function"){var v=l;l=function(){var _=ws(h);v.call(_)}}ys(t,h,e,l)}else h=tp(n,t,e,l,s);return ws(h)}Ra=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cr(t.pendingLanes);n!==0&&(Js(t,n|1),it(t,Ie()),(ge&6)===0&&(nr=Ie()+500,Xt()))}break;case 13:xn(function(){var s=Lt(e,1);if(s!==null){var l=Xe();kt(s,e,1,l)}}),xl(e,1)}},Gs=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var n=Xe();kt(t,e,134217728,n)}xl(e,134217728)}},Aa=function(e){if(e.tag===13){var t=sn(e),n=Lt(e,t);if(n!==null){var s=Xe();kt(n,e,t,s)}xl(e,t)}},Na=function(){return we},La=function(e,t){var n=we;try{return we=e,t()}finally{we=n}},Fs=function(e,t,n){switch(t){case"input":if(As(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=zi(s);if(!l)throw Error(i(90));gi(s),As(s,l)}}}break;case"textarea":ca(e,n);break;case"select":t=n.value,t!=null&&An(e,!!n.multiple,t,!1)}},wa=ml,_a=xn;var np={usingClientEntryPoint:!1,Events:[Hr,Wn,zi,va,ya,ml]},ii={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rp={bundleType:ii.bundleType,version:ii.version,rendererPackageName:ii.rendererPackageName,rendererConfig:ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ea(e),e===null?null:e.stateNode},findFiberByHostInstance:ii.findFiberByHostInstance||ep,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xs.isDisabled&&xs.supportsFiber)try{_i=xs.inject(rp),jt=xs}catch{}}return st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=np,st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jl(t))throw Error(i(200));return Zh(e,t,null,n)},st.createRoot=function(e,t){if(!jl(e))throw Error(i(299));var n=!1,s="",l=Yc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=kl(e,1,!1,null,null,n,!1,s,l),e[It]=t.current,Fr(e.nodeType===8?e.parentNode:e),new El(t)},st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Ea(t),e=e===null?null:e.stateNode,e},st.flushSync=function(e){return xn(e)},st.hydrate=function(e,t,n){if(!Ss(t))throw Error(i(200));return ks(null,e,t,!0,n)},st.hydrateRoot=function(e,t,n){if(!jl(e))throw Error(i(405));var s=n!=null&&n.hydratedSources||null,l=!1,c="",h=Yc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=Gc(t,null,e,1,n??null,l,!1,c,h),e[It]=t.current,Fr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new _s(t)},st.render=function(e,t,n){if(!Ss(t))throw Error(i(200));return ks(null,e,t,!1,n)},st.unmountComponentAtNode=function(e){if(!Ss(e))throw Error(i(40));return e._reactRootContainer?(xn(function(){ks(null,null,e,!1,function(){e._reactRootContainer=null,e[It]=null})}),!0):!1},st.unstable_batchedUpdates=ml,st.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ss(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return ks(e,t,n,!1,s)},st.version="18.3.1-next-f1338f8080-20240426",st}var od;function fp(){if(od)return Pl.exports;od=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),Pl.exports=dp(),Pl.exports}var ld;function hp(){if(ld)return Es;ld=1;var u=fp();return Es.createRoot=u.createRoot,Es.hydrateRoot=u.hydrateRoot,Es}var pp=hp();function oi(u,r=20){const i=(u||"").toLowerCase();return i.includes("banana")?gp({size:r}):i.includes("almond")||i.includes("nut")?mp({size:r}):i.includes("salmon")||i.includes("fish")?vp({size:r}):i.includes("quinoa")||i.includes("grain")||i.includes("rice")?yp({size:r}):i.includes("smoothie")||i.includes("berry")?wp({size:r}):i.includes("apple")||i.includes("pear")?_p({size:r}):i.includes("avocado")?Sp({size:r}):i.includes("lemon")||i.includes("lime")?kp({size:r}):xp({size:r})}function Ft({children:u,size:r}){return w.jsx("svg",{width:r,height:r,viewBox:"0 0 24 24","aria-hidden":"true",style:{display:"inline-block",verticalAlign:"middle"},children:u})}function gp({size:u=20}){return w.jsxs(Ft,{size:u,children:[w.jsx("path",{d:"M2 12c4-6 10-6 18-4",fill:"none",stroke:"#FFD66B",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M3 13c2 2 5 3 8 3 3 0 6-1 9-3",fill:"#FFE7A6",stroke:"#F5C041",strokeWidth:"0.3"})]})}function mp({size:u=20}){return w.jsx(Ft,{size:u,children:w.jsx("ellipse",{cx:"12",cy:"12",rx:"8",ry:"5",fill:"#F5D3B3",stroke:"#D6A985",strokeWidth:"0.6"})})}function vp({size:u=20}){return w.jsxs(Ft,{size:u,children:[w.jsx("path",{d:"M2 12s4-6 10-6 10 6 10 6-4 6-10 6S2 12 2 12z",fill:"#F4A1A1"}),w.jsx("circle",{cx:"8",cy:"10",r:"1",fill:"#fff"})]})}function yp({size:u=20}){return w.jsx(Ft,{size:u,children:w.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"3",fill:"#F2E6B6",stroke:"#D6C089"})})}function wp({size:u=20}){return w.jsxs(Ft,{size:u,children:[w.jsx("circle",{cx:"9",cy:"12",r:"3",fill:"#FF6B81"}),w.jsx("circle",{cx:"14",cy:"11",r:"2.5",fill:"#7CC6FF"})]})}function _p({size:u=20}){return w.jsxs(Ft,{size:u,children:[w.jsx("path",{d:"M12 5c2 0 3 1 4 2 1 1 1 3 0 5s-3 3-4 3-3-1-4-3-1-4 0-5c1-1 2-2 4-2z",fill:"#FF6B6B"}),w.jsx("path",{d:"M13 4c0 .8-.8 1.6-1 2",stroke:"#2C6B2C",strokeWidth:"0.6",fill:"none"})]})}function Sp({size:u=20}){return w.jsxs(Ft,{size:u,children:[w.jsx("path",{d:"M12 4c3 0 6 4 6 8s-3 8-6 8-6-4-6-8 3-8 6-8z",fill:"#7BD389"}),w.jsx("circle",{cx:"12",cy:"14",r:"2",fill:"#5B3E1B"})]})}function kp({size:u=20}){return w.jsx(Ft,{size:u,children:w.jsx("ellipse",{cx:"12",cy:"12",rx:"6",ry:"4",fill:"#FFD166",stroke:"#E2B600"})})}function xp({size:u=20}){return w.jsx(Ft,{size:u,children:w.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#FFD66B"})})}const Ep={},ad=u=>{let r;const i=new Set,o=(y,k)=>{const C=typeof y=="function"?y(r):y;if(!Object.is(C,r)){const P=r;r=k??(typeof C!="object"||C===null)?C:Object.assign({},r,C),i.forEach(O=>O(r,P))}},a=()=>r,g={setState:o,getState:a,getInitialState:()=>m,subscribe:y=>(i.add(y),()=>i.delete(y)),destroy:()=>{(Ep?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=r=u(o,a,g);return g},jp=u=>u?ad(u):ad;var Il={exports:{}},Rl={},Al={exports:{}},Nl={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud;function Cp(){if(ud)return Nl;ud=1;var u=hi();function r(k,C){return k===C&&(k!==0||1/k===1/C)||k!==k&&C!==C}var i=typeof Object.is=="function"?Object.is:r,o=u.useState,a=u.useEffect,d=u.useLayoutEffect,f=u.useDebugValue;function p(k,C){var P=C(),O=o({inst:{value:P,getSnapshot:C}}),b=O[0].inst,R=O[1];return d(function(){b.value=P,b.getSnapshot=C,g(b)&&R({inst:b})},[k,P,C]),a(function(){return g(b)&&R({inst:b}),k(function(){g(b)&&R({inst:b})})},[k]),f(P),P}function g(k){var C=k.getSnapshot;k=k.value;try{var P=C();return!i(k,P)}catch{return!0}}function m(k,C){return C()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:p;return Nl.useSyncExternalStore=u.useSyncExternalStore!==void 0?u.useSyncExternalStore:y,Nl}var cd;function Tp(){return cd||(cd=1,Al.exports=Cp()),Al.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd;function Pp(){if(dd)return Rl;dd=1;var u=hi(),r=Tp();function i(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var o=typeof Object.is=="function"?Object.is:i,a=r.useSyncExternalStore,d=u.useRef,f=u.useEffect,p=u.useMemo,g=u.useDebugValue;return Rl.useSyncExternalStoreWithSelector=function(m,y,k,C,P){var O=d(null);if(O.current===null){var b={hasValue:!1,value:null};O.current=b}else b=O.current;O=p(function(){function te(V){if(!Z){if(Z=!0,F=V,V=C(V),P!==void 0&&b.hasValue){var oe=b.value;if(P(oe,V))return q=oe}return q=V}if(oe=q,o(F,V))return oe;var ve=C(V);return P!==void 0&&P(oe,ve)?(F=V,oe):(F=V,q=ve)}var Z=!1,F,q,ue=k===void 0?null:k;return[function(){return te(y())},ue===null?void 0:function(){return te(ue())}]},[y,k,C,P]);var R=a(m,O[0],O[1]);return f(function(){b.hasValue=!0,b.value=R},[R]),g(R),R},Rl}var fd;function Op(){return fd||(fd=1,Il.exports=Pp()),Il.exports}var bp=Op();const Ip=ea(bp),ta={},{useDebugValue:Rp}=Bd,{useSyncExternalStoreWithSelector:Ap}=Ip;let hd=!1;const Np=u=>u;function Lp(u,r=Np,i){(ta?"production":void 0)!=="production"&&i&&!hd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),hd=!0);const o=Ap(u.subscribe,u.getState,u.getServerState||u.getInitialState,r,i);return Rp(o),o}const pd=u=>{(ta?"production":void 0)!=="production"&&typeof u!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof u=="function"?jp(u):u,i=(o,a)=>Lp(r,o,a);return Object.assign(i,r),i},$p=u=>u?pd(u):pd;var Dp=u=>((ta?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),$p(u));const gd=Dp(u=>({profile:{conditions:[],allergies:[],custom:[]},setProfile:r=>u({profile:r})})),Wd="nutrinformation_profile";function Up(u){try{localStorage.setItem(Wd,JSON.stringify(u))}catch{}}function zp(){try{const u=localStorage.getItem(Wd);return u?JSON.parse(u):null}catch{return null}}const Mp="modulepreload",Fp=function(u,r){return new URL(u,r).href},md={},vr=function(r,i,o){let a=Promise.resolve();if(i&&i.length>0){let m=function(y){return Promise.all(y.map(k=>Promise.resolve(k).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};const f=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");a=m(i.map(y=>{if(y=Fp(y,o),y in md)return;md[y]=!0;const k=y.endsWith(".css"),C=k?'[rel="stylesheet"]':"";if(o)for(let O=f.length-1;O>=0;O--){const b=f[O];if(b.href===y&&(!k||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${C}`))return;const P=document.createElement("link");if(P.rel=k?"stylesheet":Mp,k||(P.as="script"),P.crossOrigin="",P.href=y,g&&P.setAttribute("nonce",g),document.head.appendChild(P),k)return new Promise((O,b)=>{P.addEventListener("load",O),P.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return a.then(f=>{for(const p of f||[])p.status==="rejected"&&d(p.reason);return r().catch(d)})};async function vd(u,r,i){const o=localStorage.getItem("provider")||"openai";if(o==="usda"){const{classifyWithUSDA:P}=await vr(async()=>{const{classifyWithUSDA:O}=await import("./usda-Divwdd6Y.js");return{classifyWithUSDA:O}},[],import.meta.url);return P(u)}const a=[{role:"system",content:i||"You are a nutrition assistant."},{role:"user",content:`Profile: ${JSON.stringify(r)}
Question: ${u}`}];if(o==="azure"){const P=Number(localStorage.getItem("max_tokens"))||300,O=localStorage.getItem("azure_endpoint"),b=localStorage.getItem("azure_key"),R=localStorage.getItem("azure_deployment"),te=localStorage.getItem("azure_chat_api_version")||"2023-10-01-preview",Z=localStorage.getItem("azure_responses_api_version")||"2025-04-01-preview";if(!O||!b)throw new Error("Azure OpenAI endpoint or key not set. Please set them in Settings.");if(O.includes("/responses")){const ze=O.replace(/[?&]$/,""),be=/[?&]api-version=/.test(ze)?ze:ze+(ze.includes("?")?"&":"?")+"api-version="+encodeURIComponent(Z);console.log("[openai] Azure Responses request ->",be);const $=(localStorage.getItem("azure_deployment")||localStorage.getItem("openai_model")||"").trim();if(!$)throw new Error('Azure Responses requires a model (deployment) name. Please set "Deployment / Model name" in Settings (e.g., your Azure deployment "gpt-5-mini").');const Q=await fetch(be,{method:"POST",headers:{"Content-Type":"application/json","api-key":b},body:JSON.stringify({model:$,input:`${JSON.stringify(r)}
Question: ${u}`,max_output_tokens:P})}),ee=await Q.text();if(!Q.ok)throw console.error("[openai] Azure Responses error",Q.status,ee),new Error(JSON.stringify({status:Q.status,body:ee,hint:"Check that your Responses endpoint is correct, the api-version is supported, and the resource exists in the specified region."}));let W;try{W=JSON.parse(ee)}catch{W=ee}return W?.output?.[0]?.content||JSON.stringify(W)}const F=R&&R.trim()||(localStorage.getItem("openai_model")||"").trim();if(!F)throw new Error("Azure deployment not set. Please set it in Settings (or select a Model which will be used as the deployment name).");const q=O.replace(/\/$/,"")+`/openai/deployments/${encodeURIComponent(F)}/chat/completions?api-version=${encodeURIComponent(te)}`;console.log("[openai] Azure chat request ->",q);const ue=await fetch(q,{method:"POST",headers:{"Content-Type":"application/json","api-key":b},body:JSON.stringify({messages:a,max_completion_tokens:P})}),V=await ue.text();if(!ue.ok)throw console.error("[openai] Azure chat error",ue.status,V),new Error(JSON.stringify({status:ue.status,body:V,hint:"Check deployment name, endpoint host, api-key, and api-version. 404 usually means the deployment or path is incorrect."}));let oe;try{oe=JSON.parse(V)}catch{oe=V}const ve=oe?.choices?.[0];let je=ve?.message?.content||"";const Oe=ve?.finish_reason;return(!je||je==="")&&Oe==="length"&&(je=(je||"")+`

[Response truncated by model (finish_reason=length). Consider increasing max tokens or shortening prompt. You can also click "Continue" to ask the assistant to finish the response.]`),je||JSON.stringify(oe)}if(o==="hf"){const P=localStorage.getItem("hf_api_key"),O=localStorage.getItem("hf_model");if(!P||!O)throw new Error("Hugging Face API key or model not set. Please set them in Settings.");const b=`https://api-inference.huggingface.co/models/${encodeURIComponent(O)}`;try{const R=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({inputs:u,parameters:{max_new_tokens:Number(localStorage.getItem("max_tokens")||150)}})}),te=await R.text();if(!R.ok)try{const Z=JSON.parse(te);throw new Error(JSON.stringify(Z))}catch{throw new Error(te)}try{const Z=JSON.parse(te);return Array.isArray(Z)&&Z[0]?.generated_text?Z[0].generated_text:Z?.generated_text?Z.generated_text:Z?.text?Z.text:JSON.stringify(Z)}catch{return te}}catch(R){throw R}}const d=localStorage.getItem("openai_api_key");if(!d){if(localStorage.getItem("demo_mode")==="true")return"Demo mode: OpenAI/Azure key not set. This is a demo response. Paste your key in Settings for live results.";throw new Error("API key not set. Please set your OpenAI or Azure key in Settings to use the assistant.")}const f=Number(localStorage.getItem("max_tokens"))||300,p=localStorage.getItem("openai_model")||"gpt-4o-mini",g=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({model:p,messages:a,max_tokens:f})});if(!g.ok){const P=await g.text();try{const b=JSON.parse(P)?.error;if(b&&b.code==="insufficient_quota"){try{const R=await fetch("/api/hf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:u})});if(R.ok){const te=await R.json();return te.text||JSON.stringify(te)}}catch{}if(localStorage.getItem("demo_mode")==="true")return"Demo mode: the configured OpenAI account has exceeded its quota. This is a demo response. To use the live assistant, check your OpenAI billing or paste your own API key in Settings.";throw new Error("OpenAI quota exceeded (insufficient_quota). Please check your OpenAI plan/billing or paste a personal API key in Settings to continue.")}}catch{}throw new Error(P)}const m=await g.json(),y=m?.choices?.[0];let k=y?.message?.content||"";const C=y?.finish_reason;return(!k||k==="")&&C==="length"&&(k=(k||"")+`

[Response truncated by model (finish_reason=length). Consider increasing max tokens or shortening prompt. You can also click "Continue" to ask the assistant to finish the response.]`),k||JSON.stringify(m)}function Bp(){const[u,r]=le.useState(localStorage.getItem("openai_api_key")||""),[i,o]=le.useState(localStorage.getItem("provider")||"azure"),[a,d]=le.useState(localStorage.getItem("azure_endpoint")||""),[f,p]=le.useState(localStorage.getItem("azure_key")||""),[g,m]=le.useState(localStorage.getItem("azure_deployment")||""),[y,k]=le.useState(localStorage.getItem("azure_chat_api_version")||"2023-10-01-preview"),[C,P]=le.useState(localStorage.getItem("azure_responses_api_version")||"2025-04-01-preview"),[O,b]=le.useState(Number(localStorage.getItem("max_tokens"))||32768),[R,te]=le.useState(localStorage.getItem("auto_continue")==="true"),[Z,F]=le.useState(Number(localStorage.getItem("auto_continue_count"))||2),[q,ue]=le.useState(localStorage.getItem("openai_model")||"gpt-5-mini"),[V,oe]=le.useState(localStorage.getItem("usda_api_key")||""),[ve,je]=le.useState(null),[Oe,ze]=le.useState(localStorage.getItem("hf_api_key")||""),[Ne,be]=le.useState(localStorage.getItem("hf_model")||""),[$,Q]=le.useState(null),[ee,W]=le.useState(localStorage.getItem("enable_startup_suggestions")!=="false"),[L,H]=le.useState(()=>{try{return JSON.parse(localStorage.getItem("startup_quick_topics")||"null")||["almond milk","salmon","banana smoothie","quinoa salad"]}catch{return["almond milk","salmon","banana smoothie","quinoa salad"]}}),[M,x]=le.useState("");le.useEffect(()=>{console.log("Settings component mounted, current key length:",(u||"").length)},[]);function I(){i==="openai"?localStorage.setItem("openai_api_key",u.trim()):i==="azure"&&(localStorage.setItem("azure_endpoint",a.trim()),localStorage.setItem("azure_key",f.trim()),localStorage.setItem("azure_deployment",g.trim()),localStorage.setItem("azure_chat_api_version",y.trim()),localStorage.setItem("azure_responses_api_version",C.trim()),!g.trim()&&q.trim()&&localStorage.setItem("azure_deployment",q.trim())),V.trim()&&localStorage.setItem("usda_api_key",V.trim()),Oe.trim()&&localStorage.setItem("hf_api_key",Oe.trim()),Ne.trim()&&localStorage.setItem("hf_model",Ne.trim()),localStorage.setItem("provider",i),localStorage.setItem("max_tokens",String(O)),localStorage.setItem("openai_model",q),localStorage.setItem("auto_continue",R?"true":"false"),localStorage.setItem("auto_continue_count",String(Z)),localStorage.setItem("enable_startup_suggestions",ee?"true":"false"),localStorage.setItem("startup_quick_topics",JSON.stringify(L)),alert("Saved API key locally. The app will use it to call OpenAI.")}async function ie(){je(null);try{const z=await fetch(`https://api.nal.usda.gov/fdc/v1/foods/search?api_key=${encodeURIComponent(V)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({generalSearchInput:"apple",pageSize:1})});if(!z.ok){je(!1);return}const he=await z.json();he&&he.foods&&he.foods.length>0?je(!0):je(!1)}catch{je(!1)}}async function ce(){Q(null);try{if(!Oe||!Ne){Q(!1);return}const z=`https://api-inference.huggingface.co/models/${encodeURIComponent(Ne)}`;if(!(await fetch(z,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Oe}`},body:JSON.stringify({inputs:"Hello",parameters:{max_new_tokens:1}})})).ok){Q(!1);return}Q(!0)}catch{Q(!1)}}function X(){localStorage.removeItem("openai_api_key"),r(""),alert("Cleared API key")}return w.jsxs("div",{className:"settings",style:{background:"linear-gradient(180deg,#fff,#fffefc)",padding:12,borderRadius:10},children:[w.jsx("div",{className:"debug-banner",style:{background:"linear-gradient(90deg,var(--accent-2),var(--accent-4))",padding:8,borderRadius:6,marginBottom:8,color:"#111"},children:"Settings"}),w.jsxs("div",{style:{marginBottom:8},children:[w.jsx("label",{style:{display:"block",fontWeight:600},children:"Provider"}),w.jsxs("select",{value:i,onChange:z=>o(z.target.value),"aria-label":"Select AI provider",children:[w.jsx("option",{value:"openai",children:"OpenAI (api.openai.com)"}),w.jsx("option",{value:"azure",children:"Azure OpenAI"})]})]}),w.jsx("h3",{children:"Settings"}),i==="openai"?w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"OpenAI API Key"}),w.jsx("input",{value:u,onChange:z=>r(z.target.value),placeholder:"sk-..."})]}):w.jsxs("div",{children:[w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Azure OpenAI Endpoint"}),w.jsx("input",{value:a,onChange:z=>d(z.target.value),placeholder:"https://your-resource.openai.azure.com/..."})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Azure Chat API Version"}),w.jsx("input",{value:y,onChange:z=>k(z.target.value),placeholder:"2023-10-01-preview"})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Azure Responses API Version"}),w.jsx("input",{value:C,onChange:z=>P(z.target.value),placeholder:"2025-04-01-preview"})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Azure API Key"}),w.jsx("input",{value:f,onChange:z=>p(z.target.value),placeholder:"Azure key"})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Deployment / Model name"}),w.jsx("input",{value:g,onChange:z=>m(z.target.value),placeholder:"deployment-name or model"})]}),w.jsxs("div",{className:"muted",children:["If your endpoint is a Responses API URL (contains ",w.jsx("code",{children:"/responses"}),"), paste the base URL (with or without ",w.jsx("code",{children:"?api-version=..."}),") and still set ",w.jsx("b",{children:"Deployment / Model name"})," to your Azure deployment (e.g., ",w.jsx("code",{children:"gpt-5-mini"}),"). For Chat Completions, use the base endpoint (e.g. ",w.jsx("code",{children:"https://<resource-name>.openai.azure.com"}),") and set the same deployment name."]})]}),w.jsxs("div",{style:{marginTop:12},children:[w.jsx("h4",{children:"USDA (FoodData Central) — Optional"}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"USDA API Key"}),w.jsx("input",{value:V,onChange:z=>{oe(z.target.value),je(null)},placeholder:"USDA API key"})]}),w.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[w.jsx("button",{onClick:ie,children:"Validate USDA key"}),ve===!0?w.jsx("span",{style:{color:"green"},children:"Valid"}):ve===!1?w.jsx("span",{style:{color:"crimson"},children:"Invalid"}):null]}),w.jsx("div",{className:"muted",children:"This is not required for the AI assistant. Only fill this if you want to use USDA data lookups for nutrition details."})]}),w.jsxs("div",{style:{marginTop:12},children:[w.jsx("h4",{children:"Hugging Face Inference"}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"HF API Key"}),w.jsx("input",{value:Oe,onChange:z=>{ze(z.target.value),Q(null)},placeholder:"HF API key (starts with hf_...)"})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"HF Model"}),w.jsx("input",{value:Ne,onChange:z=>{be(z.target.value),Q(null)},placeholder:"model name (e.g. google/flan-t5-large)"})]}),w.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[w.jsx("button",{onClick:ce,children:"Validate HF key & model"}),$===!0?w.jsx("span",{style:{color:"green"},children:"Valid"}):$===!1?w.jsx("span",{style:{color:"crimson"},children:"Invalid"}):null]})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Max completion tokens"}),w.jsx("input",{type:"number",value:O,onChange:z=>b(Number(z.target.value)),min:50,max:13e4}),w.jsx("div",{className:"muted",children:"Max completion tokens to request (Azure uses max_completion_tokens). Your account supports up to 130,000 tokens/minute; set per-request token limit here."})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Model (OpenAI / Azure deployment)"}),w.jsx("input",{list:"model-suggestions",value:q,onChange:z=>ue(z.target.value),placeholder:"e.g., gpt-5-mini"}),w.jsxs("datalist",{id:"model-suggestions",children:[w.jsx("option",{value:"gpt-5-mini"}),w.jsx("option",{value:"gpt-5-mini-3"}),w.jsx("option",{value:"gpt-4o-mini"}),w.jsx("option",{value:"gpt-4o"})]}),w.jsxs("div",{className:"muted",children:["Type the exact model or Azure ",w.jsx("b",{children:"deployment"})," name. For Azure, this value can double as the deployment name if the dedicated field is left blank."]})]}),w.jsxs("div",{className:"field",children:[w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",checked:ee,onChange:z=>W(z.target.checked)})," Enable startup suggestions"]}),w.jsxs("div",{style:{marginTop:8},children:[w.jsx("label",{children:"Quick topics (click Add to append)"}),w.jsxs("div",{style:{display:"flex",gap:8,marginTop:6},children:[w.jsx("input",{value:M,onChange:z=>x(z.target.value),placeholder:"e.g., chia pudding"}),w.jsx("button",{onClick:()=>{M.trim()&&(H(z=>[...z,M.trim()]),x(""))},children:"Add"})]}),w.jsx("div",{style:{marginTop:8,display:"flex",flexWrap:"wrap",gap:8},children:L.map((z,he)=>w.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6,background:"#fffef8",padding:"6px 8px",borderRadius:999},children:[w.jsx("span",{style:{fontSize:12},children:z}),w.jsx("button",{onClick:()=>H(de=>de.filter(ye=>ye!==z)),style:{background:"transparent",border:0,cursor:"pointer"},children:"✕"})]},he))})]})]}),w.jsxs("div",{className:"field",children:[w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",checked:R,onChange:z=>te(z.target.checked)})," Auto-continue when response is truncated"]}),w.jsxs("div",{style:{marginTop:8},children:[w.jsx("label",{children:"Auto-continue max times"}),w.jsx("input",{type:"number",value:Z,onChange:z=>F(Number(z.target.value)),min:1,max:10})]})]}),w.jsxs("div",{style:{display:"flex",gap:8},children:[w.jsx("button",{onClick:I,children:"Save key"}),w.jsx("button",{onClick:X,style:{background:"#eee"},children:"Clear"}),w.jsx("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("nutri:closeSettings"))},style:{background:"transparent",border:"1px solid rgba(0,0,0,0.06)"},children:"Back to home"})]}),w.jsx("p",{className:"muted",children:"The key is stored locally in your browser only. Do not paste sensitive keys into public machines."})]})}function yd(){const[u,r]=le.useState(""),i=le.useRef(null),[o,a]=le.useState([]),[d,f]=le.useState(!1),[p,g]=le.useState(!1),m=gd($=>$.profile),y=gd($=>$.setProfile),k="Response truncated by model (finish_reason=length)",C=le.useRef(null),[P,O]=le.useState(null),[b,R]=le.useState(null),[te,Z]=le.useState(null),F=le.useRef(null);function q(){for(let $=o.length-1;$>=0;--$)if(o[$].from==="assistant")return o[$];return null}function ue(){const $=q();return!!($&&typeof $.text=="string"&&$.text.includes(k))}function V($){if(!$)return null;const Q=String($),ee=Q.match(/\b(Beneficial|Avoid|Neutral)\b/i);if(ee&&ee[1]){const H=ee[1].toLowerCase();if(H==="beneficial")return"beneficial";if(H==="avoid")return"avoid";if(H==="neutral")return"neutral"}const W=Q.split(new RegExp("(?<=[.!?])\\s+")).slice(0,2);for(const H of W){const M=H.toLowerCase();if(/\b(avoid|do not|don't|not recommended|should not)\b/.test(M))return"avoid";if(/\b(beneficial|benefit|good for|recommended|healthy|suggests it is good)\b/.test(M))return"beneficial";if(/\bneutral\b/.test(M))return"neutral"}const L=Q.toLowerCase();return/\b(avoid|do not|don't|not recommended|should not)\b/.test(L)?"avoid":/\b(beneficial|benefit|good for|recommended|healthy)\b/.test(L)?"beneficial":L.includes("neutral")?"neutral":null}async function oe($){const Q=q();if(!Q)return"";let ee=(Q.text||"").replace(k,"").trim(),W="";for(let L=0;L<$;L++){const H=ee?`Continue the following assistant response without repeating the truncation hint. Previous assistant text:

${ee}

Continue:`:"Please continue the previous answer.";try{const M=await vd(H,m,"You are a nutrition assistant. Continue the previous response.");if(!M||(W+=(W?`

`:"")+M,!M.includes(k)))break;ee=ee+`

`+M}catch(M){console.error("Continuation error",M);break}}return W}le.useEffect(()=>{const $=zp();$&&y($)},[y]);async function ve(){try{const Q=await fetch("https://en.wikipedia.org/api/rest_v1/page/summary/Healthy_diet");if(!Q.ok)throw new Error("Wikipedia fetch failed");const ee=await Q.json();O(ee)}catch($){console.warn("Failed to load wiki summary",$),O({title:"Healthy diet",extract:"Learn about balanced nutrition on Wikipedia.",content_urls:{desktop:{page:"https://en.wikipedia.org/wiki/Healthy_diet"}}})}}async function je(){try{try{const ee=localStorage.getItem("server_base")||"",W=(ee?ee.replace(/\/$/,""):"")+"/daily-tip",L=await fetch(W);if(L.ok){const H=await L.json();if(H&&H.tip){R(H.tip);return}}}catch{}const $=["Include a variety of colorful vegetables to ensure diverse micronutrients.","Choose whole grains over refined grains for better fiber and satiety.","Aim for a palm-sized portion of protein at each meal to support muscle maintenance."],Q=new Date().getDate()%$.length;R($[Q])}catch($){console.warn($)}}le.useEffect(()=>{const $=()=>g(!1);return window.addEventListener("nutri:closeSettings",$),()=>window.removeEventListener("nutri:closeSettings",$)},[]),le.useEffect(()=>{ve(),je()},[]),le.useEffect(()=>{Up(m)},[m]),le.useEffect(()=>{try{const $=F.current;if(!$)return;requestAnimationFrame(()=>{$.scrollTo({top:$.scrollHeight,behavior:"smooth"})})}catch($){console.error("Auto-scroll failed",$)}},[o,d]),le.useEffect(()=>{try{a($=>{let Q=!1;const ee=$.map(W=>{if(W.from!=="assistant")return W;const L=V(W.text);return W.classification!==L?(Q=!0,{...W,classification:L}):W});return Q?ee:$})}catch($){console.error("Reclassify messages failed",$)}},[o.length]);async function Oe($){f(!0);const Q={from:"user",text:$};a(W=>[...W,Q]);const ee=`You are a nutrition assistant. Use this user's health profile: ${JSON.stringify(m)}. Classify the item as Beneficial, Neutral, or Avoid and give a short explanation.`;a(W=>[...W,{from:"assistant",text:"Analyzing..."}]);try{const W=await vd($,m,ee),L=V(W);a(H=>[...H.slice(0,-1),{from:"assistant",text:W,classification:L}])}catch(W){a(L=>[...L.slice(0,-1),{from:"assistant",text:"Error: "+String(W)}])}finally{f(!1)}}async function ze(){if(d)return;const $=localStorage.getItem("auto_continue")==="true",Q=Number(localStorage.getItem("auto_continue_count")||($?"2":"1"));f(!0);const ee={from:"user",text:"Please continue the previous answer."};a(W=>[...W,ee]),a(W=>[...W,{from:"assistant",text:"Analyzing..."}]);try{const W=await oe(Q);if(W){const L=V(W);a(H=>[...H.slice(0,-1),{from:"assistant",text:W,classification:L}])}else a(L=>[...L.slice(0,-1),{from:"assistant",text:"No additional content returned."}])}catch(W){a(L=>[...L.slice(0,-1),{from:"assistant",text:"Error: "+String(W)}])}finally{f(!1),C.current=null}}async function Ne($=3,Q){const ee="https://www.thegoodtrade.com/features/clean-eating-recipes/";try{const L=await(await fetch(ee,{method:"GET",mode:"cors"})).text(),M=new DOMParser().parseFromString(L,"text/html"),x=Array.from(M.querySelectorAll("article a[href], a[href]")).map(X=>({href:X.getAttribute("href")||"",text:(X.textContent||"").trim()})).filter(X=>X.href&&X.href.includes("thegoodtrade.com")),I=new Set,ie=[];for(const X of x){let z=X.href;if(z.startsWith("/")&&(z="https://www.thegoodtrade.com"+z),!I.has(z)&&(I.add(z),ie.push({title:X.text||z,href:z}),ie.length>=$))break}if(ie.length>=$)return ie;const ce=x.filter(X=>/recipe|recipes|dish|food|meal/i.test(X.href)||/recipe/i.test(X.text)).map(X=>({title:X.text||X.href,href:X.href.startsWith("/")?"https://www.thegoodtrade.com"+X.href:X.href}));for(const X of ce){if(ie.length>=$)break;I.has(X.href)||(I.add(X.href),ie.push(X))}try{const X=(Q?.allergies||[]).map(de=>de.toLowerCase()),z=(Q?.custom||[]).map(de=>de.toLowerCase()).concat((Q?.conditions||[]).map(de=>de.toLowerCase()));let he=ie.filter(de=>{const ye=(de.title||"").toLowerCase();for(const Me of X)if(Me&&ye.includes(Me))return!1;return!0});return he.sort((de,ye)=>{const Me=(de.title||"").toLowerCase(),Rn=(ye.title||"").toLowerCase(),gi=z.reduce((hn,Bt)=>hn+(Bt&&Me.includes(Bt)?1:0),0);return z.reduce((hn,Bt)=>hn+(Bt&&Rn.includes(Bt)?1:0),0)-gi}),he.slice(0,Math.max($,he.length))}catch{return ie.slice(0,Math.max($,ie.length))}}catch(W){throw console.warn("Recipe fetch failed (likely CORS):",W),W}}async function be(){f(!0),a(Q=>[...Q,{from:"user",text:"Show me recipes"}]),a(Q=>[...Q,{from:"assistant",text:"Fetching recipe suggestions..."}]);try{let Q=[];try{Q=await Ne(3,m)}catch(ee){console.warn("Recipe fetch failed; using curated fallback",ee),Q=[{title:"Healthy Weeknight Dinners (Allrecipes collection)",href:"https://www.allrecipes.com/recipes/84/healthy-recipes/"},{title:"BBC Good Food - Healthy recipes",href:"https://www.bbcgoodfood.com/recipes/collection/healthy"},{title:"Cookie and Kate - Healthy recipes",href:"https://cookieandkate.com/best-healthy-recipes/"}]}a(ee=>[...ee.slice(0,-1),{from:"assistant",recipes:Q}])}catch{a(ee=>[...ee.slice(0,-1),{from:"assistant",text:"Unable to fetch recipes right now. Try opening the Recipes page."}])}finally{f(!1)}}return le.useEffect(()=>{try{if(!ue())return;const Q=q()?.text.replace(k,"").trim()||"";if(!(localStorage.getItem("auto_continue")==="true")||d||C.current===Q)return;C.current=Q,ze()}catch($){console.error("Auto-continue side effect error",$)}},[o]),w.jsxs("div",{className:"app",children:[w.jsxs("header",{children:[w.jsx("h1",{children:"NutriCoach AI"}),w.jsx("div",{style:{marginLeft:"auto"},children:w.jsx("button",{onClick:()=>g($=>!$),"aria-pressed":p,children:"Settings"})})]}),w.jsxs("div",{className:"hero-split",children:[w.jsxs("div",{className:"hero-left",children:[w.jsx("div",{className:"logo",children:"NutriCoach"}),w.jsxs("h2",{className:"hero-title",children:["Eat fresh",w.jsx("br",{}),"stay healthy"]}),w.jsx("p",{className:"hero-sub muted",children:"Personalized nutrition guidance — quick, evidence-minded"}),w.jsx("div",{style:{marginTop:18},children:w.jsx("button",{className:"hero-cta",onClick:()=>{ve(),i.current?.focus(),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},children:"Get started"})}),w.jsxs("div",{className:"hero-card",style:{marginTop:22},children:[w.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.9)"},children:"Quick, personalized tips and food classification based on your profile. Find recipes and alternatives tailored to you."}),w.jsx("div",{style:{marginTop:12},children:w.jsx("button",{className:"hero-card-btn",onClick:()=>{be()},children:"Recipe"})})]})]}),w.jsxs("div",{className:"hero-right",children:[w.jsx("div",{className:"hero-image","aria-hidden":"true"}),w.jsx("div",{className:"hero-info","aria-live":"polite",children:P?w.jsxs("div",{children:[w.jsx("h3",{style:{marginTop:0},children:P.title}),w.jsx("p",{className:"muted",children:P.extract}),w.jsx("p",{children:w.jsx("a",{href:P.content_urls?.desktop?.page||"https://en.wikipedia.org/wiki/Healthy_diet",target:"_blank",rel:"noreferrer",children:"Read more on Wikipedia"})}),w.jsxs("div",{style:{marginTop:12,display:"flex",gap:10,alignItems:"center"},"aria-hidden":!0,children:[w.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[w.jsx("div",{style:{width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.06)",borderRadius:12},children:oi("apple",36)}),w.jsx("div",{style:{width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.06)",borderRadius:12},children:oi("avocado",36)}),w.jsx("div",{style:{width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.06)",borderRadius:12},children:oi("banana",36)})]}),w.jsx("div",{style:{color:"rgba(255,255,255,0.8)"},className:"muted",children:"Healthy living visuals"})]})]}):w.jsxs("div",{className:"hero-info-placeholder",children:[w.jsx("h3",{style:{marginTop:0},children:"Healthy eating tips"}),w.jsx("p",{className:"muted",children:"Click Get started to load short, useful guidance about healthy diets."})]})})]})]}),w.jsxs("main",{children:[w.jsxs("section",{className:"profile",children:[w.jsx("h2",{children:"Health profile"}),w.jsx(Wp,{profile:m,setProfile:y})]}),w.jsxs("section",{className:"chat",children:[w.jsx("div",{className:"chat-window",role:"log","aria-live":"polite",ref:F,children:o.length===0?w.jsxs("div",{className:"startup-panel",children:[w.jsx("h3",{children:"Welcome to NutriCoach AI"}),w.jsx("p",{className:"muted",children:"Get started with quick suggestions or view curated healthy recipes."}),b?w.jsxs("div",{className:"daily-tip",style:{marginTop:8},children:[w.jsx("strong",{children:"Daily tip:"})," ",b]}):null,w.jsx("div",{className:"chips",style:{marginTop:12},children:(localStorage.getItem("enable_startup_suggestions")!=="false"?JSON.parse(localStorage.getItem("startup_quick_topics")||"null")||["almond milk","salmon","banana smoothie","quinoa salad"]:[]).map($=>w.jsxs("button",{className:`chip ${te===$?"active":""}`,onClick:()=>{r($),Z($),setTimeout(()=>Z(null),800),Oe($)},children:[w.jsx("span",{style:{width:20,height:20,marginRight:8,display:"inline-flex",alignItems:"center"},children:oi($,20)}),$]},$))}),w.jsx("div",{style:{marginTop:12},children:w.jsx("button",{className:"hero-card-btn",onClick:()=>{be()},children:"Show recipes"})})]}):o.map(($,Q)=>w.jsx("div",{className:`message ${$.from}`,children:w.jsxs("div",{className:"bubble",children:[$.classification==="beneficial"?w.jsx("span",{className:"classification good",children:"Beneficial"}):null,$.classification==="avoid"?w.jsx("span",{className:"classification avoid",children:"Avoid"}):null,$.recipes?w.jsxs("div",{children:[w.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Recipe suggestions"}),w.jsx("ol",{children:$.recipes.map((ee,W)=>w.jsxs("li",{style:{display:"flex",alignItems:"center",gap:8},children:[w.jsx("span",{style:{width:36,height:36,display:"inline-flex",alignItems:"center",justifyContent:"center",background:"#fff8",borderRadius:8},children:oi(ee.title||"fruit",28)}),w.jsx("a",{href:ee.href,target:"_blank",rel:"noreferrer",children:ee.title||ee.href})]},W))})]}):w.jsx("div",{children:$.text})]})},Q))}),w.jsx("div",{className:"disclaimer",children:"Copilot is here to give the best advice, but always consult with a doctor."}),w.jsxs("div",{className:"input-row",children:[w.jsx("input",{"aria-label":"Ask about a food or type a food item",ref:i,value:u,onChange:$=>r($.target.value),onKeyDown:$=>{$.key==="Enter"&&u.trim()&&(Oe(u.trim()),r(""))},placeholder:"e.g., almond milk"}),w.jsx("button",{disabled:d,onClick:()=>{u.trim()&&(Oe(u.trim()),r(""))},children:d?"Working...":"Analyze"}),ue()?w.jsx("button",{onClick:ze,disabled:d,style:{marginLeft:8},children:"Continue"}):null]})]})]}),w.jsx("footer",{children:w.jsx("small",{children:"All data stored locally. Enter your OpenAI API key in settings."})}),p?w.jsx("div",{className:"modal",children:w.jsx("div",{className:"modal-content",children:w.jsx(Hp,{children:w.jsx(Bp,{})})})}):null]})}function Wp({profile:u,setProfile:r}){const[i,o]=le.useState(u||{conditions:[],allergies:[],custom:[]}),[a,d]=le.useState("");le.useEffect(()=>o(u),[u]);function f(g){const m=i.conditions.includes(g),y={...i,conditions:m?i.conditions.filter(k=>k!==g):[...i.conditions,g]};o(y),r(y)}function p(){if(a.trim()){const g={...i,custom:[...i.custom,a.trim()]};o(g),r(g),d("")}}return w.jsxs("div",{children:[w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Common conditions"}),w.jsx("div",{className:"chips",children:["diabetes","hypertension","kidney disease","lactose intolerance"].map(g=>w.jsx("button",{className:i.conditions.includes(g)?"chip active":"chip",onClick:()=>f(g),children:g},g))})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Allergies (comma separated)"}),w.jsx("input",{value:i.allergies.join(", "),onChange:g=>{const m=g.target.value.split(",").map(k=>k.trim()).filter(Boolean),y={...i,allergies:m};o(y),r(y)}})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{children:"Custom health issues"}),w.jsx("div",{className:"custom-list",children:i.custom.map((g,m)=>w.jsx("div",{className:"custom-item",children:g},m))}),w.jsxs("div",{className:"custom-add",children:[w.jsx("input",{placeholder:"Type a custom issue",value:a,onChange:g=>d(g.target.value)}),w.jsx("button",{onClick:p,children:"Add"})]})]})]})}function Hp({children:u}){try{return w.jsx(w.Fragment,{children:u})}catch(r){return w.jsxs("div",{role:"alert",style:{padding:12,color:"red"},children:["Settings failed to render: ",String(r)]})}}const Vp=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>vr(async()=>{const{default:o}=await Promise.resolve().then(()=>yr);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)};class na extends Error{constructor(r,i="FunctionsError",o){super(r),this.name=i,this.context=o}}class qp extends na{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class wd extends na{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class _d extends na{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Wl;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(Wl||(Wl={}));var Kp=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};class Jp{constructor(r,{headers:i={},customFetch:o,region:a=Wl.Any}={}){this.url=r,this.headers=i,this.region=a,this.fetch=Vp(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,i={}){var o;return Kp(this,void 0,void 0,function*(){try{const{headers:a,method:d,body:f}=i;let p={},{region:g}=i;g||(g=this.region);const m=new URL(`${this.url}/${r}`);g&&g!=="any"&&(p["x-region"]=g,m.searchParams.set("forceFunctionRegion",g));let y;f&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=f):typeof f=="string"?(p["Content-Type"]="text/plain",y=f):typeof FormData<"u"&&f instanceof FormData?y=f:(p["Content-Type"]="application/json",y=JSON.stringify(f)));const k=yield this.fetch(m.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:y}).catch(b=>{throw new qp(b)}),C=k.headers.get("x-relay-error");if(C&&C==="true")throw new wd(k);if(!k.ok)throw new _d(k);let P=((o=k.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),O;return P==="application/json"?O=yield k.json():P==="application/octet-stream"?O=yield k.blob():P==="text/event-stream"?O=k:P==="multipart/form-data"?O=yield k.formData():O=yield k.text(),{data:O,error:null,response:k}}catch(a){return{data:null,error:a,response:a instanceof _d||a instanceof wd?a.context:void 0}}})}}var He={},ir={},sr={},or={},lr={},ar={},Gp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mr=Gp();const Qp=mr.fetch,Hd=mr.fetch.bind(mr),Vd=mr.Headers,Yp=mr.Request,Xp=mr.Response,yr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vd,Request:Yp,Response:Xp,default:Hd,fetch:Qp},Symbol.toStringTag,{value:"Module"})),Zp=sp(yr);var js={},Sd;function qd(){if(Sd)return js;Sd=1,Object.defineProperty(js,"__esModule",{value:!0});class u extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return js.default=u,js}var kd;function Kd(){if(kd)return ar;kd=1;var u=ar&&ar.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ar,"__esModule",{value:!0});const r=u(Zp),i=u(qd());class o{constructor(d){var f,p;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(f=d.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=d.signal,this.isMaybeSingle=(p=d.isMaybeSingle)!==null&&p!==void 0?p:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=new Headers(this.headers),this.headers.set(d,f),this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,k,C,P;let O=null,b=null,R=null,te=m.status,Z=m.statusText;if(m.ok){if(this.method!=="HEAD"){const V=await m.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?b=V:b=JSON.parse(V))}const q=(k=this.headers.get("Prefer"))===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),ue=(C=m.headers.get("content-range"))===null||C===void 0?void 0:C.split("/");q&&ue&&ue.length>1&&(R=parseInt(ue[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(O={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,R=null,te=406,Z="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const q=await m.text();try{O=JSON.parse(q),Array.isArray(O)&&m.status===404&&(b=[],O=null,te=200,Z="OK")}catch{m.status===404&&q===""?(te=204,Z="No Content"):O={message:q}}if(O&&this.isMaybeSingle&&(!((P=O?.details)===null||P===void 0)&&P.includes("0 rows"))&&(O=null,te=200,Z="OK"),O&&this.shouldThrowOnError)throw new i.default(O)}return{error:O,data:b,count:R,status:te,statusText:Z}});return this.shouldThrowOnError||(g=g.catch(m=>{var y,k,C;return{error:{message:`${(y=m?.name)!==null&&y!==void 0?y:"FetchError"}: ${m?.message}`,details:`${(k=m?.stack)!==null&&k!==void 0?k:""}`,hint:"",code:`${(C=m?.code)!==null&&C!==void 0?C:""}`},data:null,count:null,status:0,statusText:""}})),g.then(d,f)}returns(){return this}overrideTypes(){return this}}return ar.default=o,ar}var xd;function Jd(){if(xd)return lr;xd=1;var u=lr&&lr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(lr,"__esModule",{value:!0});const r=u(Kd());class i extends r.default{select(a){let d=!1;const f=(a??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:d=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const m=g?`${g}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${a}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this}range(a,d,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,m=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(m,`${d-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:d=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:m="text"}={}){var y;const k=[a?"analyze":null,d?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),C=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${C}"; options=${k};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return lr.default=i,lr}var Ed;function ra(){if(Ed)return or;Ed=1;var u=or&&or.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(or,"__esModule",{value:!0});const r=u(Jd());class i extends r.default{eq(a,d){return this.url.searchParams.append(a,`eq.${d}`),this}neq(a,d){return this.url.searchParams.append(a,`neq.${d}`),this}gt(a,d){return this.url.searchParams.append(a,`gt.${d}`),this}gte(a,d){return this.url.searchParams.append(a,`gte.${d}`),this}lt(a,d){return this.url.searchParams.append(a,`lt.${d}`),this}lte(a,d){return this.url.searchParams.append(a,`lte.${d}`),this}like(a,d){return this.url.searchParams.append(a,`like.${d}`),this}likeAllOf(a,d){return this.url.searchParams.append(a,`like(all).{${d.join(",")}}`),this}likeAnyOf(a,d){return this.url.searchParams.append(a,`like(any).{${d.join(",")}}`),this}ilike(a,d){return this.url.searchParams.append(a,`ilike.${d}`),this}ilikeAllOf(a,d){return this.url.searchParams.append(a,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(a,d){return this.url.searchParams.append(a,`ilike(any).{${d.join(",")}}`),this}is(a,d){return this.url.searchParams.append(a,`is.${d}`),this}in(a,d){const f=Array.from(new Set(d)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cs.{${d.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(d)}`),this}containedBy(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cd.{${d.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(d)}`),this}rangeGt(a,d){return this.url.searchParams.append(a,`sr.${d}`),this}rangeGte(a,d){return this.url.searchParams.append(a,`nxl.${d}`),this}rangeLt(a,d){return this.url.searchParams.append(a,`sl.${d}`),this}rangeLte(a,d){return this.url.searchParams.append(a,`nxr.${d}`),this}rangeAdjacent(a,d){return this.url.searchParams.append(a,`adj.${d}`),this}overlaps(a,d){return typeof d=="string"?this.url.searchParams.append(a,`ov.${d}`):this.url.searchParams.append(a,`ov.{${d.join(",")}}`),this}textSearch(a,d,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const m=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${g}fts${m}.${d}`),this}match(a){return Object.entries(a).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(a,d,f){return this.url.searchParams.append(a,`not.${d}.${f}`),this}or(a,{foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,d,f){return this.url.searchParams.append(a,`${d}.${f}`),this}}return or.default=i,or}var jd;function Gd(){if(jd)return sr;jd=1;var u=sr&&sr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(sr,"__esModule",{value:!0});const r=u(ra());class i{constructor(a,{headers:d={},schema:f,fetch:p}){this.url=a,this.headers=new Headers(d),this.schema=f,this.fetch=p}select(a,{head:d=!1,count:f}={}){const p=d?"HEAD":"GET";let g=!1;const m=(a??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",m),f&&this.headers.append("Prefer",`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:d,defaultToNull:f=!0}={}){var p;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((y,k)=>y.concat(Object.keys(k)),[]);if(m.length>0){const y=[...new Set(m)].map(k=>`"${k}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(a,{onConflict:d,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){var m;const y="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const k=a.reduce((C,P)=>C.concat(Object.keys(P)),[]);if(k.length>0){const C=[...new Set(k)].map(P=>`"${P}"`);this.url.searchParams.set("columns",C.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(a,{count:d}={}){var f;const p="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:a}={}){var d;const f="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return sr.default=i,sr}var Cd;function eg(){if(Cd)return ir;Cd=1;var u=ir&&ir.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ir,"__esModule",{value:!0});const r=u(Gd()),i=u(ra());class o{constructor(d,{headers:f={},schema:p,fetch:g}={}){this.url=d,this.headers=new Headers(f),this.schemaName=p,this.fetch=g}from(d){const f=new URL(`${this.url}/${d}`);return new r.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:p=!1,get:g=!1,count:m}={}){var y;let k;const C=new URL(`${this.url}/rpc/${d}`);let P;p||g?(k=p?"HEAD":"GET",Object.entries(f).filter(([b,R])=>R!==void 0).map(([b,R])=>[b,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([b,R])=>{C.searchParams.append(b,R)})):(k="POST",P=f);const O=new Headers(this.headers);return m&&O.set("Prefer",`count=${m}`),new i.default({method:k,url:C,headers:O,schema:this.schemaName,body:P,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return ir.default=o,ir}var Td;function tg(){if(Td)return He;Td=1;var u=He&&He.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(He,"__esModule",{value:!0}),He.PostgrestError=He.PostgrestBuilder=He.PostgrestTransformBuilder=He.PostgrestFilterBuilder=He.PostgrestQueryBuilder=He.PostgrestClient=void 0;const r=u(eg());He.PostgrestClient=r.default;const i=u(Gd());He.PostgrestQueryBuilder=i.default;const o=u(ra());He.PostgrestFilterBuilder=o.default;const a=u(Jd());He.PostgrestTransformBuilder=a.default;const d=u(Kd());He.PostgrestBuilder=d.default;const f=u(qd());return He.PostgrestError=f.default,He.default={PostgrestClient:r.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:d.default,PostgrestError:f.default},He}var ng=tg();const rg=ea(ng),{PostgrestClient:ig,PostgrestQueryBuilder:Gm,PostgrestFilterBuilder:Qm,PostgrestTransformBuilder:Ym,PostgrestBuilder:Xm,PostgrestError:Zm}=rg;class sg{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const o=i.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let i=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(i+=`

Suggested solution: ${r.workaround}`),new Error(i)}static createWebSocket(r,i){const o=this.getWebSocketConstructor();return new o(r,i)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const og="2.15.5",lg=`realtime-js/${og}`,ag="1.0.0",Hl=1e4,ug=1e3,cg=100;var ui;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(ui||(ui={}));var De;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(De||(De={}));var Et;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Et||(Et={}));var Vl;(function(u){u.websocket="websocket"})(Vl||(Vl={}));var bn;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(bn||(bn={}));class dg{constructor(){this.HEADER_LENGTH=1}decode(r,i){return r.constructor===ArrayBuffer?i(this._binaryDecode(r)):i(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const i=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,i,o)}_decodeBroadcast(r,i,o){const a=i.getUint8(1),d=i.getUint8(2);let f=this.HEADER_LENGTH+2;const p=o.decode(r.slice(f,f+a));f=f+a;const g=o.decode(r.slice(f,f+d));f=f+d;const m=JSON.parse(o.decode(r.slice(f,r.byteLength)));return{ref:null,topic:p,event:g,payload:m}}}class Qd{constructor(r,i){this.callback=r,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(Se||(Se={}));const Pd=(u,r,i={})=>{var o;const a=(o=i.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((d,f)=>(d[f]=fg(f,u,r,a),d),{})},fg=(u,r,i,o)=>{const a=r.find(p=>p.name===u),d=a?.type,f=i[u];return d&&!o.includes(d)?Yd(d,f):ql(f)},Yd=(u,r)=>{if(u.charAt(0)==="_"){const i=u.slice(1,u.length);return mg(r,i)}switch(u){case Se.bool:return hg(r);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return pg(r);case Se.json:case Se.jsonb:return gg(r);case Se.timestamp:return vg(r);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return ql(r);default:return ql(r)}},ql=u=>u,hg=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},pg=u=>{if(typeof u=="string"){const r=parseFloat(u);if(!Number.isNaN(r))return r}return u},gg=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(r){return console.log(`JSON parse error: ${r}`),u}return u},mg=(u,r)=>{if(typeof u!="string")return u;const i=u.length-1,o=u[i];if(u[0]==="{"&&o==="}"){let d;const f=u.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(p=>Yd(r,p))}return u},vg=u=>typeof u=="string"?u.replace(" ","T"):u,Xd=u=>{let r=u;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class Ll{constructor(r,i,o={},a=Hl){this.channel=r,this.event=i,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,i){var o;return this._hasReceived(r)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:i}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(i))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Od;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(Od||(Od={}));class ci{constructor(r,i){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ci.syncState(this.state,a,d,f),this.pendingDiffs.forEach(g=>{this.state=ci.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},a=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ci.syncDiff(this.state,a,d,f),p())}),this.onJoin((a,d,f)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:d,newPresences:f})}),this.onLeave((a,d,f)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,i,o,a){const d=this.cloneDeep(r),f=this.transformState(i),p={},g={};return this.map(d,(m,y)=>{f[m]||(g[m]=y)}),this.map(f,(m,y)=>{const k=d[m];if(k){const C=y.map(R=>R.presence_ref),P=k.map(R=>R.presence_ref),O=y.filter(R=>P.indexOf(R.presence_ref)<0),b=k.filter(R=>C.indexOf(R.presence_ref)<0);O.length>0&&(p[m]=O),b.length>0&&(g[m]=b)}else p[m]=y}),this.syncDiff(d,{joins:p,leaves:g},o,a)}static syncDiff(r,i,o,a){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(d,(p,g)=>{var m;const y=(m=r[p])!==null&&m!==void 0?m:[];if(r[p]=this.cloneDeep(g),y.length>0){const k=r[p].map(P=>P.presence_ref),C=y.filter(P=>k.indexOf(P.presence_ref)<0);r[p].unshift(...C)}o(p,y,g)}),this.map(f,(p,g)=>{let m=r[p];if(!m)return;const y=g.map(k=>k.presence_ref);m=m.filter(k=>y.indexOf(k.presence_ref)<0),r[p]=m,a(p,m,g),m.length===0&&delete r[p]}),r}static map(r,i){return Object.getOwnPropertyNames(r).map(o=>i(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((i,o)=>{const a=r[o];return"metas"in a?i[o]=a.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[o]=a,i},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bd;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(bd||(bd={}));var di;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(di||(di={}));var Mt;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(Mt||(Mt={}));class ia{constructor(r,i={config:{}},o){this.topic=r,this.params=i,this.socket=o,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Ll(this,Et.join,this.params,this.timeout),this.rejoinTimer=new Qd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(a,d)=>{this._trigger(this._replyEventName(d),a)}),this.presence=new ci(this),this.broadcastEndpointURL=Xd(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,i=this.timeout){var o,a,d;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,m=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(P=>P.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[di.PRESENCE]&&this.bindings[di.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,k={},C={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(k.access_token=this.socket.accessTokenValue),this._onError(P=>r?.(Mt.CHANNEL_ERROR,P)),this._onClose(()=>r?.(Mt.CLOSED)),this.updateJoinPayload(Object.assign({config:C},k)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:P})=>{var O;if(this.socket.setAuth(),P===void 0){r?.(Mt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,R=(O=b?.length)!==null&&O!==void 0?O:0,te=[];for(let Z=0;Z<R;Z++){const F=b[Z],{filter:{event:q,schema:ue,table:V,filter:oe}}=F,ve=P&&P[Z];if(ve&&ve.event===q&&ve.schema===ue&&ve.table===V&&ve.filter===oe)te.push(Object.assign(Object.assign({},F),{id:ve.id}));else{this.unsubscribe(),this.state=De.errored,r?.(Mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=te,r&&r(Mt.SUBSCRIBED);return}}).receive("error",P=>{this.state=De.errored,r?.(Mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(P).join(", ")||"error")))}).receive("timeout",()=>{r?.(Mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,i={}){return await this.send({type:"presence",event:"track",payload:r},i.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,i,o){return this.state===De.joined&&r===di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,i,o)}async send(r,i={}){var o,a;if(!this._canPush()&&r.type==="broadcast"){const{event:d,payload:f}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,p,g;const m=this._push(r.type,r,i.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),m.receive("ok",()=>d("ok")),m.receive("error",()=>d("error")),m.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=De.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Ll(this,Et.leave,{},r),o.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(r,i,o){const a=new AbortController,d=setTimeout(()=>a.abort(),o),f=await this.socket.fetch(r,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(d),f}_push(r,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ll(this,r,i,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>cg){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(r,i,o){return i}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,i,o){var a,d;const f=r.toLocaleLowerCase(),{close:p,error:g,leave:m,join:y}=Et;if(o&&[p,g,m,y].indexOf(f)>=0&&o!==this._joinRef())return;let C=this._onMessage(f,i,o);if(i&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(P=>{var O,b,R;return((O=P.filter)===null||O===void 0?void 0:O.event)==="*"||((R=(b=P.filter)===null||b===void 0?void 0:b.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===f}).map(P=>P.callback(C,o)):(d=this.bindings[f])===null||d===void 0||d.filter(P=>{var O,b,R,te,Z,F;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in P){const q=P.id,ue=(O=P.filter)===null||O===void 0?void 0:O.event;return q&&((b=i.ids)===null||b===void 0?void 0:b.includes(q))&&(ue==="*"||ue?.toLocaleLowerCase()===((R=i.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const q=(Z=(te=P?.filter)===null||te===void 0?void 0:te.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase();return q==="*"||q===((F=i?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return P.type.toLocaleLowerCase()===f}).map(P=>{if(typeof C=="object"&&"ids"in C){const O=C.data,{schema:b,table:R,commit_timestamp:te,type:Z,errors:F}=O;C=Object.assign(Object.assign({},{schema:b,table:R,commit_timestamp:te,eventType:Z,new:{},old:{},errors:F}),this._getPayloadRecords(O))}P.callback(C,o)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,i,o){const a=r.toLocaleLowerCase(),d={type:a,filter:i,callback:o};return this.bindings[a]?this.bindings[a].push(d):this.bindings[a]=[d],this}_off(r,i){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var d;return!(((d=a.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&ia.isEqual(a.filter,i))})),this}static isEqual(r,i){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const o in r)if(r[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Et.close,{},r)}_onError(r){this._on(Et.error,{},i=>r(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const i={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(i.new=Pd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(i.old=Pd(r.columns,r.old_record)),i}}const $l=()=>{},Cs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yg=[1e3,2e3,5e3,1e4],wg=1e4,_g=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sg{constructor(r,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hl,this.transport=null,this.heartbeatIntervalMs=Cs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$l,this.ref=0,this.reconnectTimer=null,this.logger=$l,this.conn=null,this.sendBuffer=[],this.serializer=new dg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let d;return a?d=a:typeof fetch>"u"?d=(...f)=>vr(async()=>{const{default:p}=await Promise.resolve().then(()=>yr);return{default:p}},void 0,import.meta.url).then(({default:p})=>p(...f)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((o=i?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${r}/${Vl.websocket}`,this.httpEndpoint=Xd(r),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const i=r.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ag}))}disconnect(r,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},r?this.conn.close(r,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const i=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const r=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,i,o){this.logger(r,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return bn.Connecting;case ui.open:return bn.Open;case ui.closing:return bn.Closing;default:return bn.Closed}}isConnected(){return this.connectionState()===bn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,i={config:{}}){const o=`realtime:${r}`,a=this.getChannels().find(d=>d.topic===o);if(a)return a;{const d=new ia(`realtime:${r}`,i,this);return this.channels.push(d),d}}push(r){const{topic:i,event:o,payload:a,ref:d}=r,f=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${i} ${o} (${d})`,a),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(ug,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Cs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let i=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${r}"`),i.unsubscribe())}_remove(r){this.channels=this.channels.filter(i=>i.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:d,ref:f}=i,p=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${o} ${a} ${p}`.trim(),d),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(r){var i;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var i;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Et.error))}_appendParams(r,i){if(Object.keys(i).length===0)return r;const o=r.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${r}${o}${a}`}_workerObjectUrl(r){let i;if(r)i=r;else{const o=new Blob([_g],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(r,i=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(r=null){let i;r?i=r:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const a={access_token:i,version:lg};i&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Et.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${r}`,i)})}_triggerStateCallbacks(r,i){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(i)}catch(a){this.log("error",`error in ${r} callback`,a)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Qd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var i,o,a,d,f,p,g,m,y;if(this.transport=(i=r?.transport)!==null&&i!==void 0?i:null,this.timeout=(o=r?.timeout)!==null&&o!==void 0?o:Hl,this.heartbeatIntervalMs=(a=r?.heartbeatIntervalMs)!==null&&a!==void 0?a:Cs.HEARTBEAT_INTERVAL,this.worker=(d=r?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=r?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:$l,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r?.reconnectAfterMs)!==null&&g!==void 0?g:(k=>yg[k-1]||wg),this.encode=(m=r?.encode)!==null&&m!==void 0?m:((k,C)=>C(JSON.stringify(k))),this.decode=(y=r?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class sa extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Ue(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class kg extends sa{constructor(r,i,o){super(r),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kl extends sa{constructor(r,i){super(r),this.name="StorageUnknownError",this.originalError=i}}var xg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Zd=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>vr(async()=>{const{default:o}=await Promise.resolve().then(()=>yr);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},Eg=()=>xg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vr(()=>Promise.resolve().then(()=>yr),void 0,import.meta.url)).Response:Response}),Jl=u=>{if(Array.isArray(u))return u.map(i=>Jl(i));if(typeof u=="function"||u!==Object(u))return u;const r={};return Object.entries(u).forEach(([i,o])=>{const a=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[a]=Jl(o)}),r},jg=u=>{if(typeof u!="object"||u===null)return!1;const r=Object.getPrototypeOf(u);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)};var In=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Dl=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Cg=(u,r,i)=>In(void 0,void 0,void 0,function*(){const o=yield Eg();u instanceof o&&!i?.noResolveJson?u.json().then(a=>{const d=u.status||500,f=a?.statusCode||d+"";r(new kg(Dl(a),d,f))}).catch(a=>{r(new Kl(Dl(a),a))}):r(new Kl(Dl(u),u))}),Tg=(u,r,i,o)=>{const a={method:u,headers:r?.headers||{}};return u==="GET"||!o?a:(jg(o)?(a.headers=Object.assign({"Content-Type":"application/json"},r?.headers),a.body=JSON.stringify(o)):a.body=o,r?.duplex&&(a.duplex=r.duplex),Object.assign(Object.assign({},a),i))};function pi(u,r,i,o,a,d){return In(this,void 0,void 0,function*(){return new Promise((f,p)=>{u(i,Tg(r,o,a,d)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Cg(g,p,o))})})}function bs(u,r,i,o){return In(this,void 0,void 0,function*(){return pi(u,"GET",r,i,o)})}function bt(u,r,i,o,a){return In(this,void 0,void 0,function*(){return pi(u,"POST",r,o,a,i)})}function Gl(u,r,i,o,a){return In(this,void 0,void 0,function*(){return pi(u,"PUT",r,o,a,i)})}function Pg(u,r,i,o){return In(this,void 0,void 0,function*(){return pi(u,"HEAD",r,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function ef(u,r,i,o,a){return In(this,void 0,void 0,function*(){return pi(u,"DELETE",r,o,a,i)})}var Ze=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Og={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Id={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bg{constructor(r,i={},o,a){this.shouldThrowOnError=!1,this.url=r,this.headers=i,this.bucketId=o,this.fetch=Zd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,i,o,a){return Ze(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Id),a);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g))):(d=o,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a?.headers&&(p=Object.assign(Object.assign({},p),a.headers));const m=this._removeEmptyFolders(i),y=this._getFinalPath(m),k=yield(r=="PUT"?Gl:bt)(this.fetch,`${this.url}/object/${y}`,d,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:k.Id,fullPath:k.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ue(d))return{data:null,error:d};throw d}})}upload(r,i,o){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,i,o)})}uploadToSignedUrl(r,i,o,a){return Ze(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",i);try{let g;const m=Object.assign({upsert:Id.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",m.cacheControl)):(g=o,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const k=yield Gl(this.fetch,p.toString(),g,{headers:y});return{data:{path:d,fullPath:k.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Ue(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,i){return Ze(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const a=Object.assign({},this.headers);i?.upsert&&(a["x-upsert"]="true");const d=yield bt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),f=new URL(this.url+d.url),p=f.searchParams.get("token");if(!p)throw new sa("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o))return{data:null,error:o};throw o}})}update(r,i,o){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,i,o)})}move(r,i,o){return Ze(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}copy(r,i,o){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}createSignedUrl(r,i,o){return Ze(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r),d=yield bt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o?.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}createSignedUrls(r,i,o){return Ze(this,void 0,void 0,function*(){try{const a=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:r},{headers:this.headers}),d=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}download(r,i){return Ze(this,void 0,void 0,function*(){const a=typeof i?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(i?.transform||{}),f=d?`?${d}`:"";try{const p=this._getFinalPath(r);return{data:yield(yield bs(this.fetch,`${this.url}/${a}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ue(p))return{data:null,error:p};throw p}})}info(r){return Ze(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{const o=yield bs(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Jl(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o))return{data:null,error:o};throw o}})}exists(r){return Ze(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{return yield Pg(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o)&&o instanceof Kl){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,i){const o=this._getFinalPath(r),a=[],d=i?.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&a.push(d);const p=typeof i?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(i?.transform||{});g!==""&&a.push(g);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${m}`)}}}remove(r){return Ze(this,void 0,void 0,function*(){try{return{data:yield ef(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}list(r,i,o){return Ze(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Og),i),{prefix:r||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}listV2(r,i){return Ze(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield bt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const i=[];return r.width&&i.push(`width=${r.width}`),r.height&&i.push(`height=${r.height}`),r.resize&&i.push(`resize=${r.resize}`),r.format&&i.push(`format=${r.format}`),r.quality&&i.push(`quality=${r.quality}`),i.join("&")}}const Ig="2.12.1",Rg={"X-Client-Info":`storage-js/${Ig}`};var ur=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};class Ag{constructor(r,i={},o,a){this.shouldThrowOnError=!1;const d=new URL(r);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},Rg),i),this.fetch=Zd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ur(this,void 0,void 0,function*(){try{return{data:yield bs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}getBucket(r){return ur(this,void 0,void 0,function*(){try{return{data:yield bs(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}createBucket(r,i={public:!1}){return ur(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o))return{data:null,error:o};throw o}})}updateBucket(r,i){return ur(this,void 0,void 0,function*(){try{return{data:yield Gl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o))return{data:null,error:o};throw o}})}emptyBucket(r){return ur(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}deleteBucket(r){return ur(this,void 0,void 0,function*(){try{return{data:yield ef(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}}class Ng extends Ag{constructor(r,i={},o,a){super(r,i,o,a)}from(r){return new bg(this.url,this.headers,r,this.fetch)}}const Lg="2.57.4";let ai="";typeof Deno<"u"?ai="deno":typeof document<"u"?ai="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ai="react-native":ai="node";const $g={"X-Client-Info":`supabase-js-${ai}/${Lg}`},Dg={headers:$g},Ug={schema:"public"},zg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mg={};var Fg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};const Bg=u=>{let r;return u?r=u:typeof fetch>"u"?r=Hd:r=fetch,(...i)=>r(...i)},Wg=()=>typeof Headers>"u"?Vd:Headers,Hg=(u,r,i)=>{const o=Bg(i),a=Wg();return(d,f)=>Fg(void 0,void 0,void 0,function*(){var p;const g=(p=yield r())!==null&&p!==void 0?p:u;let m=new a(f?.headers);return m.has("apikey")||m.set("apikey",u),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),o(d,Object.assign(Object.assign({},f),{headers:m}))})};var Vg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};function qg(u){return u.endsWith("/")?u:u+"/"}function Kg(u,r){var i,o;const{db:a,auth:d,realtime:f,global:p}=u,{db:g,auth:m,realtime:y,global:k}=r,C={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},m),d),realtime:Object.assign(Object.assign({},y),f),storage:{},global:Object.assign(Object.assign(Object.assign({},k),p),{headers:Object.assign(Object.assign({},(i=k?.headers)!==null&&i!==void 0?i:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Vg(this,void 0,void 0,function*(){return""})};return u.accessToken?C.accessToken=u.accessToken:delete C.accessToken,C}function Jg(u){const r=u?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qg(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tf="2.71.1",pr=30*1e3,Ql=3,Ul=Ql*pr,Gg="http://localhost:9999",Qg="supabase.auth.token",Yg={"X-Client-Info":`gotrue-js/${tf}`},Yl="X-Supabase-Api-Version",nf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zg=600*1e3;class oa extends Error{constructor(r,i,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function ae(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class em extends oa{constructor(r,i,o){super(r,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function tm(u){return ae(u)&&u.name==="AuthApiError"}class rf extends oa{constructor(r,i){super(r),this.name="AuthUnknownError",this.originalError=i}}class fn extends oa{constructor(r,i,o,a){super(r,o,a),this.name=i,this.status=o}}class cn extends fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nm(u){return ae(u)&&u.name==="AuthSessionMissingError"}class Ts extends fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ps extends fn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Os extends fn{constructor(r,i=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rm(u){return ae(u)&&u.name==="AuthImplicitGrantRedirectError"}class Rd extends fn{constructor(r,i=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xl extends fn{constructor(r,i){super(r,"AuthRetryableFetchError",i,void 0)}}function zl(u){return ae(u)&&u.name==="AuthRetryableFetchError"}class Ad extends fn{constructor(r,i,o){super(r,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class Zl extends fn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Is="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nd=` 	
\r=`.split(""),im=(()=>{const u=new Array(128);for(let r=0;r<u.length;r+=1)u[r]=-1;for(let r=0;r<Nd.length;r+=1)u[Nd[r].charCodeAt(0)]=-2;for(let r=0;r<Is.length;r+=1)u[Is[r].charCodeAt(0)]=r;return u})();function Ld(u,r,i){if(u!==null)for(r.queue=r.queue<<8|u,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(Is[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(Is[o]),r.queuedBits-=6}}function sf(u,r,i){const o=im[u];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)i(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function $d(u){const r=[],i=f=>{r.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},d=f=>{lm(f,o,i)};for(let f=0;f<u.length;f+=1)sf(u.charCodeAt(f),a,d);return r.join("")}function sm(u,r){if(u<=127){r(u);return}else if(u<=2047){r(192|u>>6),r(128|u&63);return}else if(u<=65535){r(224|u>>12),r(128|u>>6&63),r(128|u&63);return}else if(u<=1114111){r(240|u>>18),r(128|u>>12&63),r(128|u>>6&63),r(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function om(u,r){for(let i=0;i<u.length;i+=1){let o=u.charCodeAt(i);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(u.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}sm(o,r)}}function lm(u,r,i){if(r.utf8seq===0){if(u<=127){i(u);return}for(let o=1;o<6;o+=1)if((u>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=u&31;else if(r.utf8seq===3)r.codepoint=u&15;else if(r.utf8seq===4)r.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|u&63,r.utf8seq-=1,r.utf8seq===0&&i(r.codepoint)}}function am(u){const r=[],i={queue:0,queuedBits:0},o=a=>{r.push(a)};for(let a=0;a<u.length;a+=1)sf(u.charCodeAt(a),i,o);return new Uint8Array(r)}function um(u){const r=[];return om(u,i=>r.push(i)),new Uint8Array(r)}function cm(u){const r=[],i={queue:0,queuedBits:0},o=a=>{r.push(a)};return u.forEach(a=>Ld(a,i,o)),Ld(null,i,o),r.join("")}function dm(u){return Math.round(Date.now()/1e3)+u}function fm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const r=Math.random()*16|0;return(u=="x"?r:r&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",Tn={tested:!1,writable:!1},of=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tn.tested)return Tn.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),Tn.tested=!0,Tn.writable=!0}catch{Tn.tested=!0,Tn.writable=!1}return Tn.writable};function hm(u){const r={},i=new URL(u);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,d)=>{r[d]=a})}catch{}return i.searchParams.forEach((o,a)=>{r[a]=o}),r}const lf=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>vr(async()=>{const{default:o}=await Promise.resolve().then(()=>yr);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},pm=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",gr=async(u,r,i)=>{await u.setItem(r,JSON.stringify(i))},Pn=async(u,r)=>{const i=await u.getItem(r);if(!i)return null;try{return JSON.parse(i)}catch{return i}},un=async(u,r)=>{await u.removeItem(r)};class Rs{constructor(){this.promise=new Rs.promiseConstructor((r,i)=>{this.resolve=r,this.reject=i})}}Rs.promiseConstructor=Promise;function Ml(u){const r=u.split(".");if(r.length!==3)throw new Zl("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Xg.test(r[o]))throw new Zl("JWT not in base64url format");return{header:JSON.parse($d(r[0])),payload:JSON.parse($d(r[1])),signature:am(r[2]),raw:{header:r[0],payload:r[1]}}}async function gm(u){return await new Promise(r=>{setTimeout(()=>r(null),u)})}function mm(u,r){return new Promise((o,a)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await u(d);if(!r(d,null,f)){o(f);return}}catch(f){if(!r(d,f)){a(f);return}}})()})}function vm(u){return("0"+u.toString(16)).substr(-2)}function ym(){const r=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let a="";for(let d=0;d<56;d++)a+=i.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(r),Array.from(r,vm).join("")}async function wm(u){const i=new TextEncoder().encode(u),o=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(o);return Array.from(a).map(d=>String.fromCharCode(d)).join("")}async function _m(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const i=await wm(u);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cr(u,r,i=!1){const o=ym();let a=o;i&&(a+="/PASSWORD_RECOVERY"),await gr(u,`${r}-code-verifier`,a);const d=await _m(o);return[d,o===d?"plain":"s256"]}const Sm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function km(u){const r=u.headers.get(Yl);if(!r||!r.match(Sm))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function xm(u){if(!u)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(u<=r)throw new Error("JWT has expired")}function Em(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dr(u){if(!jm.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fl(){const u={};return new Proxy(u,{get:(r,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dd(u){return JSON.parse(JSON.stringify(u))}var Cm=function(u,r){var i={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(i[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(i[o[a]]=u[o[a]]);return i};const On=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Tm=[502,503,504];async function Ud(u){var r;if(!pm(u))throw new Xl(On(u),0);if(Tm.includes(u.status))throw new Xl(On(u),u.status);let i;try{i=await u.json()}catch(d){throw new rf(On(d),d)}let o;const a=km(u);if(a&&a.getTime()>=nf["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new Ad(On(i),u.status,((r=i.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new cn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Ad(On(i),u.status,i.weak_password.reasons);throw new em(On(i),u.status||500,o)}const Pm=(u,r,i,o)=>{const a={method:u,headers:r?.headers||{}};return u==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),i))};async function pe(u,r,i,o){var a;const d=Object.assign({},o?.headers);d[Yl]||(d[Yl]=nf["2024-01-01"].name),o?.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const f=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Om(u,r,i+p,{headers:d,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function Om(u,r,i,o,a,d){const f=Pm(r,o,a,d);let p;try{p=await u(i,Object.assign({},f))}catch(g){throw console.error(g),new Xl(On(g),0)}if(p.ok||await Ud(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await Ud(g)}}function zt(u){var r;let i=null;Am(u)&&(i=Object.assign({},u),u.expires_at||(i.expires_at=dm(u.expires_in)));const o=(r=u.user)!==null&&r!==void 0?r:u;return{data:{session:i,user:o},error:null}}function zd(u){const r=zt(u);return!r.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(r.data.weak_password=u.weak_password),r}function dn(u){var r;return{data:{user:(r=u.user)!==null&&r!==void 0?r:u},error:null}}function bm(u){return{data:u,error:null}}function Im(u){const{action_link:r,email_otp:i,hashed_token:o,redirect_to:a,verification_type:d}=u,f=Cm(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:i,hashed_token:o,redirect_to:a,verification_type:d},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function Rm(u){return u}function Am(u){return u.access_token&&u.refresh_token&&u.expires_in}const Bl=["global","local","others"];var Nm=function(u,r){var i={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(i[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(i[o[a]]=u[o[a]]);return i};class Lm{constructor({url:r="",headers:i={},fetch:o}){this.url=r,this.headers=i,this.fetch=lf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,i=Bl[0]){if(Bl.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bl.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ae(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,i={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:dn})}catch(o){if(ae(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:i}=r,o=Nm(r,["options"]),a=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Im,redirectTo:i?.redirectTo})}catch(i){if(ae(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(r){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:dn})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async listUsers(r){var i,o,a,d,f,p,g;try{const m={nextPage:null,lastPage:0,total:0},y=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=r?.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(d=(a=r?.perPage)===null||a===void 0?void 0:a.toString())!==null&&d!==void 0?d:""},xform:Rm});if(y.error)throw y.error;const k=await y.json(),C=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,P=(g=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return P.length>0&&(P.forEach(O=>{const b=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(O.split(";")[1].split("=")[1]);m[`${R}Page`]=b}),m.total=parseInt(C)),{data:Object.assign(Object.assign({},k),m),error:null}}catch(m){if(ae(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){dr(r);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:dn})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async updateUserById(r,i){dr(r);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:i,headers:this.headers,xform:dn})}catch(o){if(ae(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,i=!1){dr(r);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:i},xform:dn})}catch(o){if(ae(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){dr(r.userId);try{const{data:i,error:o}=await pe(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:o}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _deleteFactor(r){dr(r.userId),dr(r.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}}function Md(u={}){return{getItem:r=>u[r]||null,setItem:(r,i)=>{u[r]=i},removeItem:r=>{delete u[r]}}}function $m(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fr={debug:!!(globalThis&&of()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class af extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Dm extends af{}async function Um(u,r,i){fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,a.name);try{return await i()}finally{fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,a.name)}}else{if(r===0)throw fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new Dm(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(fr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}$m();const zm={url:Gg,storageKey:Qg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fd(u,r,i){return await i()}const hr={};class fi{constructor(r){var i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fi.nextInstanceID,fi.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},zm),r);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Lm({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=lf(a.fetch),this.lock=a.lock||Fd,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:xt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Um:this.lock=Fd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:of()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Md(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Md(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var r,i;return(i=(r=hr[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(r){hr[this.storageKey]=Object.assign(Object.assign({},hr[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,i;return(i=(r=hr[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){hr[this.storageKey]=Object.assign(Object.assign({},hr[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tf}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const i=hm(window.location.href);let o="none";if(this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce"),xt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:d}=await this._getSessionFromURL(i,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),rm(d)){const g=(r=d.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:p}=a;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ae(i)?{error:i}:{error:new rf("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var i,o,a;try{const d=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=r?.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=r?.options)===null||a===void 0?void 0:a.captchaToken}},xform:zt}),{data:f,error:p}=d;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(d){if(ae(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(r){var i,o,a;try{let d;if("email"in r){const{email:y,password:k,options:C}=r;let P=null,O=null;this.flowType==="pkce"&&([P,O]=await cr(this.storage,this.storageKey)),d=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C?.emailRedirectTo,body:{email:y,password:k,data:(i=C?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:C?.captchaToken},code_challenge:P,code_challenge_method:O},xform:zt})}else if("phone"in r){const{phone:y,password:k,options:C}=r;d=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:k,data:(o=C?.data)!==null&&o!==void 0?o:{},channel:(a=C?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:C?.captchaToken}},xform:zt})}else throw new Ps("You must provide either an email or phone number and a password");const{data:f,error:p}=d;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(d){if(ae(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(r){try{let i;if("email"in r){const{email:d,password:f,options:p}=r;i=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:zd})}else if("phone"in r){const{phone:d,password:f,options:p}=r;i=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:zd})}else throw new Ps("You must provide either an email or phone number and a password");const{data:o,error:a}=i;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Ts}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(r){var i,o,a,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(i=r.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=r.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:i}=r;if(i==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(r){var i,o,a,d,f,p,g,m,y,k,C,P;let O,b;if("message"in r)O=r.message,b=r.signature;else{const{chain:R,wallet:te,statement:Z,options:F}=r;let q;if(xt())if(typeof te=="object")q=te;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))q=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof te!="object"||!F?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=te}const ue=new URL((i=F?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in q&&q.signIn){const V=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},F?.signInWithSolana),{version:"1",domain:ue.host,uri:ue.href}),Z?{statement:Z}:null));let oe;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")oe=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)oe=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)O=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),b=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${ue.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...Z?["",Z,""]:[""],"Version: 1",`URI: ${ue.href}`,`Issued At: ${(a=(o=F?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((d=F?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${F.signInWithSolana.notBefore}`]:[],...!((f=F?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${F.signInWithSolana.expirationTime}`]:[],...!((p=F?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${F.signInWithSolana.chainId}`]:[],...!((g=F?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${F.signInWithSolana.nonce}`]:[],...!((m=F?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${F.signInWithSolana.requestId}`]:[],...!((k=(y=F?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||k===void 0)&&k.length?["Resources",...F.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);const V=await q.signMessage(new TextEncoder().encode(O),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=V}}try{const{data:R,error:te}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:cm(b)},!((C=r.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(P=r.options)===null||P===void 0?void 0:P.captchaToken}}:null),xform:zt});if(te)throw te;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new Ts}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:te})}catch(R){if(ae(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(r){const i=await Pn(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(i??"").split("/");try{const{data:d,error:f}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:zt});if(await un(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new Ts}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:a??null}),error:f})}catch(d){if(ae(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(r){try{const{options:i,provider:o,token:a,access_token:d,nonce:f}=r,p=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:zt}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ts}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(r){var i,o,a,d,f;try{if("email"in r){const{email:p,options:g}=r;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await cr(this.storage,this.storageKey));const{error:k}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:k}}if("phone"in r){const{phone:p,options:g}=r,{data:m,error:y}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(a=g?.data)!==null&&a!==void 0?a:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:y}}throw new Ps("You must provide either an email or phone number.")}catch(p){if(ae(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var i,o;try{let a,d;"options"in r&&(a=(i=r.options)===null||i===void 0?void 0:i.redirectTo,d=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:p}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:a,xform:zt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,m=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(a){if(ae(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(r){var i,o,a;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await cr(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(i=r.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=r?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:bm})}catch(d){if(ae(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)throw o;if(!i)throw new cn;const{error:a}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const i=`${this.url}/resend`;if("email"in r){const{email:o,type:a,options:d}=r,{error:f}=await pe(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in r){const{phone:o,type:a,options:d}=r,{data:f,error:p}=await pe(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new Ps("You must provide either an email or phone number and a type")}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(r,i){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await r(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const i=await Pn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?r=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<Ul:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const f=await Pn(this.userStorage,this.storageKey+"-user");f?.user?r.user=f.user:r.user=Fl()}if(this.storage.isServer&&r.user){let f=this.suppressGetSessionWarning;r=new Proxy(r,{get:(g,m,y)=>(!f&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,y))})}return{data:{session:r},error:null}}const{session:a,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{session:null},error:d}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:dn}):await this._useSession(async i=>{var o,a,d;const{data:f,error:p}=i;if(p)throw p;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cn}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(a=f.session)===null||a===void 0?void 0:a.access_token)!==null&&d!==void 0?d:void 0,xform:dn})})}catch(i){if(ae(i))return nm(i)&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(r,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,i))}async _updateUser(r,i={}){try{return await this._useSession(async o=>{const{data:a,error:d}=o;if(d)throw d;if(!a.session)throw new cn;const f=a.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await cr(this.storage,this.storageKey));const{data:m,error:y}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:dn});if(y)throw y;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(ae(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new cn;const i=Date.now()/1e3;let o=i,a=!0,d=null;const{payload:f}=Ml(r.access_token);if(f.exp&&(o=f.exp,a=o<=i),a){const{session:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)throw g;d={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(i){if(ae(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async i=>{var o;if(!r){const{data:f,error:p}=i;if(p)throw p;r=(o=f.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new cn;const{session:a,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{user:null,session:null},error:d}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(r,i){try{if(!xt())throw new Os("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Os(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Rd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Os("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Rd("No code detected.");const{data:Z,error:F}=await this._exchangeCodeForSession(r.code);if(F)throw F;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:Z.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:d,refresh_token:f,expires_in:p,expires_at:g,token_type:m}=r;if(!d||!p||!f||!m)throw new Os("No session defined in URL");const y=Math.round(Date.now()/1e3),k=parseInt(p);let C=y+k;g&&(C=parseInt(g));const P=C-y;P*1e3<=pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${P}s, should have been closer to ${k}s`);const O=C-k;y-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,C,y):y-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,C,y);const{data:b,error:R}=await this._getUser(d);if(R)throw R;const te={provider_token:o,provider_refresh_token:a,access_token:d,expires_in:k,expires_at:C,refresh_token:f,token_type:m,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:te,redirectType:r.type},error:null}}catch(o){if(ae(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const i=await Pn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&i)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:a,error:d}=i;if(d)return{error:d};const f=(o=a.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:p}=await this.admin.signOut(f,r);if(p&&!(tm(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const i=fm(),o={id:i,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async i=>{var o,a;try{const{data:{session:d},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,i={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await cr(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(ae(d))return{data:null,error:d};throw d}}async getUserIdentities(){var r;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=i.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async linkIdentity(r){var i;try{const{data:o,error:a}=await this._useSession(async d=>{var f,p,g,m,y;const{data:k,error:C}=d;if(C)throw C;const P=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",P,{headers:this.headers,jwt:(y=(m=k.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return xt()&&!(!((i=r.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:r.provider,url:o?.url},error:null}}catch(o){if(ae(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async i=>{var o,a;const{data:d,error:f}=i;if(f)throw f;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(a=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _refreshAccessToken(r){const i=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await mm(async a=>(a>0&&await gm(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:zt})),(a,d)=>{const f=200*Math.pow(2,a);return d&&zl(d)&&Date.now()+f-o<pr})}catch(o){if(this._debug(i,"error",o),ae(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(i,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",i,"url",o),xt()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Pn(this.storage,this.storageKey);if(a&&this.userStorage){let f=await Pn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:a.user},await gr(this.userStorage,this.storageKey+"-user",f)),a.user=(r=f?.user)!==null&&r!==void 0?r:Fl()}else if(a&&!a.user&&!a.user){const f=await Pn(this.storage,this.storageKey+"-user");f&&f?.user?(a.user=f.user,await un(this.storage,this.storageKey+"-user"),await gr(this.storage,this.storageKey,a)):a.user=Fl()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const d=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Ul;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${Ul}s`),d){if(this.autoRefreshToken&&a.refresh_token){const{error:f}=await this._callRefreshToken(a.refresh_token);f&&(console.error(f),zl(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(a.access_token);!p&&f?.user?(a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var i,o;if(!r)throw new cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Rs;const{data:d,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!d.session)throw new cn;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={session:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(a,"error",d),ae(d)){const f={session:null,error:d};return zl(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(r,i,o=!0){const a=`#_notifyAllSubscribers(${r})`;this._debug(a,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,i)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(a,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const i=Object.assign({},r),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await gr(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const d=Dd(a);await gr(this.storage,this.storageKey,d)}else{const a=Dd(i);await gr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await un(this.storage,this.storageKey),await un(this.storage,this.storageKey+"-code-verifier"),await un(this.storage,this.storageKey+"-user"),this.userStorage&&await un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),pr);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-r)/pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${pr}ms, refresh threshold is ${Ql} ticks`),a<=Ql&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof af)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const i=`#_onVisibilityChanged(${r})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,i,o){const a=[`provider=${encodeURIComponent(i)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,f]=await cr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});a.push(p.toString())}if(o?.queryParams){const d=new URLSearchParams(o.queryParams);a.push(d.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${a.join("&")}`}async _unenroll(r){try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;return d?{data:null,error:d}:await pe(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _enroll(r){try{return await this._useSession(async i=>{var o,a;const{data:d,error:f}=i;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:g,error:m}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((a=g?.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;if(d)return{data:null,error:d};const{data:f,error:p}=await pe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(i){if(ae(i))return{data:null,error:i};throw i}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;return d?{data:null,error:d}:await pe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(ae(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(r){const{data:i,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:i.id,code:r.code})}async _listFactors(){const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o=r?.factors||[],a=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),d=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:a,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var i,o;const{data:{session:a},error:d}=r;if(d)return{data:null,error:d};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Ml(a.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(k=>k.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const y=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(r,i={keys:[]}){let o=i.keys.find(p=>p.kid===r);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+Zg>a)return o;const{data:d,error:f}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=a,o=d.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,i={}){try{let o=r;if(!o){const{data:P,error:O}=await this.getSession();if(O||!P.session)return{data:null,error:O};o=P.session.access_token}const{header:a,payload:d,signature:f,raw:{header:p,payload:g}}=Ml(o);i?.allowExpired||xm(d.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!m){const{error:P}=await this.getUser(o);if(P)throw P;return{data:{claims:d,header:a,signature:f},error:null}}const y=Em(a.alg),k=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,k,f,um(`${p}.${g}`)))throw new Zl("Invalid JWT signature");return{data:{claims:d,header:a,signature:f},error:null}}catch(o){if(ae(o))return{data:null,error:o};throw o}}}fi.nextInstanceID=0;const Mm=fi;class Fm extends Mm{constructor(r){super(r)}}var Bm=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{m(o.next(y))}catch(k){f(k)}}function g(y){try{m(o.throw(y))}catch(k){f(k)}}function m(y){y.done?d(y.value):a(y.value).then(p,g)}m((o=o.apply(u,r||[])).next())})};class Wm{constructor(r,i,o){var a,d,f;this.supabaseUrl=r,this.supabaseKey=i;const p=Jg(r);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,m={db:Ug,realtime:Mg,auth:Object.assign(Object.assign({},zg),{storageKey:g}),global:Dg},y=Kg(o??{},m);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(d=y.global.headers)!==null&&d!==void 0?d:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(k,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=y.auth)!==null&&f!==void 0?f:{},this.headers,y.global.fetch),this.fetch=Hg(i,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new ig(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Ng(this.storageUrl.href,this.headers,this.fetch,o?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Jp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,i={},o={}){return this.rest.rpc(r,i,o)}channel(r,i={config:{}}){return this.realtime.channel(r,i)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,i;return Bm(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:a,userStorage:d,storageKey:f,flowType:p,lock:g,debug:m},y,k){const C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fm({url:this.authUrl.href,headers:Object.assign(Object.assign({},C),y),storageKey:f,autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:a,userStorage:d,flowType:p,lock:g,debug:m,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Sg(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o?.access_token)})}_handleTokenChanged(r,i,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hm=(u,r,i)=>new Wm(u,r,i);function Vm(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const r=u.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Vm()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qm="https://qsgbnlqthphckokmtygi.supabase.co",Km="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFzZ2JubHF0aHBoY2tva210eWdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1ODg1MzgsImV4cCI6MjA3NDE2NDUzOH0.sxre3gUxN4EJ1AhVPXnQOONcehFfE1MCz8f5vawpqs0",li=Hm(qm,Km);function Jm({children:u}){const[r,i]=le.useState(null),[o,a]=le.useState(!0),[d,f]=le.useState(null);le.useEffect(()=>{let m=!0;async function y(){try{const C=window.location.hash||"";if(C.startsWith("#")){const P=new URLSearchParams(C.slice(1)),O=P.get("access_token"),b=P.get("refresh_token");if(O&&b){try{await li.auth.setSession({access_token:O,refresh_token:b})}catch(R){console.warn("Failed to set session from redirect tokens",R)}try{history.replaceState(null,document.title,window.location.pathname+window.location.search)}catch{}}}}catch(C){console.warn("OAuth redirect handling failed",C)}try{const{data:C}=await li.auth.getSession();if(!m)return;i(C?.session??null)}catch(C){console.warn("Supabase session load failed",C)}finally{a(!1)}}y();const{data:k}=li.auth.onAuthStateChange((C,P)=>{i(P)});return()=>{m=!1;try{k.subscription?.unsubscribe()}catch{}}},[]);async function p(){try{f(null);const m=await li.auth.signInWithOAuth({provider:"github",options:{redirectTo:window.location.origin}});m?.error&&f(m.error.message||"Sign in failed")}catch(m){f(String(m?.message||m))}}async function g(){await li.auth.signOut(),i(null)}return o?w.jsx("div",{children:"Loading..."}):r?w.jsxs("div",{children:[w.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,alignItems:"center"},children:[w.jsxs("div",{style:{fontSize:12,opacity:.8},children:["Signed in as ",r.user?.email]}),w.jsx("button",{onClick:g,style:{padding:"6px 10px",borderRadius:8},children:"Sign out"})]}),u]}):w.jsxs("div",{style:{padding:20},children:[w.jsx("h3",{children:"Sign in with GitHub to continue"}),w.jsx("p",{children:"If you use GitHub Copilot, sign in with the same GitHub account."}),w.jsx("button",{onClick:p,style:{padding:"10px 14px",borderRadius:8},children:"Sign in with GitHub"}),d?w.jsxs("div",{style:{marginTop:12,color:"crimson"},children:[w.jsx("strong",{children:"Sign-in error:"})," ",d,w.jsx("div",{style:{marginTop:8,fontSize:13},children:'If you see "Unsupported provider: provider is not enabled", open your Supabase dashboard → Authentication → Providers and enable GitHub (ensure client ID/secret are set and redirect URL is configured).'})]}):null]})}pp.createRoot(document.getElementById("root")).render(w.jsxs(Bd.StrictMode,{children:[(localStorage.getItem("provider")||localStorage.setItem("provider","azure"),null),(()=>{const u=localStorage.getItem("skip_auth")==="true",r=typeof window<"u"&&window.location.hostname.endsWith("github.io");return u||r?w.jsx(yd,{}):w.jsx(Jm,{children:w.jsx(yd,{})})})()]}));
